<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><head>
<meta name="description" content="Wayland | Datenströme, Dateideskriptoren und Interprozesskommunikation | Der Februar im Kernelrückblick | Python – Teil 6 | GIMP-Tutorial: Colorkey | Secret Maryo Chronicles | Gesunde Datenkekse backen mit Firefox | Heimautomatisierung für Hardwarebastler (Teil 2) | Rezension: Coders At Work | Editorial | Leserbriefe | Veranstaltungen | Vorschau | Konventionen | Impressum" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="GENERATOR" content="TtH 3.89">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>

                                                       
<title>freiesMagazin 03/2011</title><link type="text/css" rel="stylesheet" href="freiesMagazin-2011-03-bilder-Dateien/fm_mobil_2016_05.css" />
</head>
<div id="content_idx"><body style="font: 0.85em Tahoma, sans-serif;"><font size="5"><a href="http://www.freiesmagazin.de/mobil/freiesMagazin-2011-03.html">Zur Version ohne Bilder</a></font><hr />

<div class="p"><!----></div>
<font size="+4"><b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font></font>&nbsp;&nbsp;<font color="#595959"><font size="+4"><b>März 2011</b></font></font> <font size="+2">(ISSN 1867-7991)</font><br />

<div class="p"><!----></div>
<font color="#595959"><font size="+3"><b>Topthemen dieser Ausgabe</b></font></font><br />

<div class="p"><!----></div>
    <font size="+1"><a href="freiesMagazin-2011-03-bilder.html#11_03_wayland">Wayland oder warum man X ersetzen sollte</a></font> <br />
    Das X Window System ist mit über 25 Jahren geradezu der Methusalem in der Softwarewelt. Die aktuelle Protokollversion X11 aus dem Jahre 1987 ist vier Jahre älter als die erste Version des Linux-Kernels. Nun scheint die Freie-Software-Gemeinschaft aktiv daran zu arbeiten, X in den wohlverdienten Ruhestand zu schicken. (<a href="freiesMagazin-2011-03-bilder.html#11_03_wayland">weiterlesen</a>) <br />
    <br />

<div class="p"><!----></div>
        <font size="+1"><a href="freiesMagazin-2011-03-bilder.html#11_03_pipes">Datenströme, Dateideskriptoren und Interprozesskommunikation</a></font> <br />
    Die Pipe ist vielen als eines der unter Unix mächtigsten Werkzeuge bekannt. Sie ermöglicht es, die Ausgabe eines Befehls direkt an einen anderen Prozess zu senden. Tatsächlich stellt die Standardpipe aber nur die einfachste Form der Interprozesskommunikation dar. Dieser Artikel beschäftigt sich mit den verschiedenen Möglichkeiten, Datenströme effizient zu verarbeiten, um- und weiterzuleiten. (<a href="freiesMagazin-2011-03-bilder.html#11_03_pipes">weiterlesen</a>) <br />
    <br />

<div class="p"><!----></div>
    <font size="+1"><a href="freiesMagazin-2011-03-bilder.html#11_03_gimp-schwarzweiss">GIMP-Tutorial: Farben durch Graustufen hervorheben (Colorkey)</a></font> <br />
    Mit GIMP sind sehr viele schöne Spielereien möglich, einige davon lassen sich sogar sinnvoll einsetzen. Das folgende Tutorial soll zeigen, wie man einzelne Elemente auf Farbfotos hervorheben kann, indem man alles drumherum in Graustufen konvertiert („Colorkey“ genannt). Den einen richtigen Weg gibt es dabei aber nicht; viele Ansätze führen zum Ziel. (<a href="freiesMagazin-2011-03-bilder.html#11_03_gimp-schwarzweiss">weiterlesen</a>) <br />
    <br />

<div class="p"><!----></div>
<a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
                  
<div class="p"><!----></div>
                        
<h1><font color="#595959"><a name="index">Inhalt</a><a name="index">
</a></font></h1>

<br />
<b>Linux allgemein</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_wayland">Wayland</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_pipes">Datenströme, Dateideskriptoren und Interprozesskommunikation</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_kernel">Der Februar im Kernelrückblick</a><br />
<br />
<b>Anleitungen</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_python6">Python – Teil 6</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_gimp-schwarzweiss">GIMP-Tutorial: Colorkey</a><br />
<br />
<b>Software</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_maryo">Secret Maryo Chronicles</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_firefox-erweiterungen">Gesunde Datenkekse backen mit Firefox</a><br />
<br />
<b>Hardware</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_heimautomatisierung_2">Heimautomatisierung für Hardwarebastler (Teil 2)</a><br />
<br />
<b>Community</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_coders_at_work">Rezension: Coders At Work</a><br />
<br />
<b>Magazin</b><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_editorial">Editorial</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_leserbriefe">Leserbriefe</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_veranstaltungen">Veranstaltungen</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_vorschau">Vorschau</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_konventionen">Konventionen</a><br />
<a href="freiesMagazin-2011-03-bilder.html#11_03_impressum">Impressum</a><br />



<div class="p"><!----></div>
<a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_editorial">Editorial</a><a name="11_03_editorial">
</a></font></h1>
    <font size="+2">Happy Birthday, <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>!</font>

<div class="p"><!----></div>

<h2><b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> feiert fünfjähriges Bestehen</h2>

<div class="p"><!----></div>
In der Regel gratuliert man sich ja nicht selbst zum Geburtstag,
(außer man hat keine Freunde, die an sowas denken) aber sicherlich
denkt nicht jeder Leser von selbst daran und auch wir wurden etwas
überrascht, sodass wir weder mit Kuchen noch Geschenken aufwarten
können.

<div class="p"><!----></div>
Aber am 18. März 2011 ist es soweit: <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> wird fünf Jahre alt. In
der Initialmeldung war es noch ein reiner Newsletter&nbsp;<a href="http://ikhaya.ubuntuusers.de/2006/03/18/es-ist-soweit:-der-ikhaya-newsletter-ist-da/">[1]</a>, der dann aber im Laufe der Zeit zu einem eigenen Magazin
heranwuchs, welches sehr erfolgreich Monat für Monat tausende Leser
zu begeistern vermag.

<div class="p"><!----></div>
Dafür möchten wir uns bei Ihnen, den Lesern, und natürlich auch bei
allen Autoren recht herzlich bedanken. Ohne diese beiden Parteien gäbe
es kein Magazin. Aber auch hinter den Kulissen werkeln fleißige Hände,
die jeden Monat ihre Zeit opfern, dieses Magazin zu gestalten. Wem Sie
dafür danken können, finden Sie im <a href="freiesMagazin-2011-03-bilder.html#11_03_impressum">Impressum</a>.

<div class="p"><!----></div>
Wir hoffen, dass es noch weitere fünf Jahre mit <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> geben wird. Damit
das sichergestellt ist, benötigen wir aber wie immer Ihre Hilfe. Zum
einen freuen wir uns, wenn Sie <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> an Freunde, Kollegen und
Interessenten weiterempfehlen. Die Downloadzahlen halten sich recht
konstant (mit kleinen Abweichungen), aber die Lesergemeinde scheint
nicht zu wachsen. Berichten Sie also ruhig in Blogs, in Newsportalen
oder am Stammtisch von <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>.

<div class="p"><!----></div>
Zum anderen freuen wir uns aber auch über neue Autoren, die das Magazin
mitgestalten. Wer Anregungen für ein Thema braucht, findet in der
Leserwunschliste&nbsp;<a href="http://www.freiesmagazin.de/artikelwuensche">[2]</a>
sicherlich etwas passendes. Und falls nicht, freuen wir uns auch so
über jeden Artikel. Vorschläge, Entwürfe und fertige Artikel können
unter <img src="freiesMagazin-2011-03-bilder-Dateien/redaktionmail.png" alt="redaktion ETT freiesmagazin PUNKT de" height="17" width="168" align="top" /> eingereicht werden.

<div class="p"><!----></div>

<h2>Umfrage zum dritten Programmierwettbewerb</h2>

<div class="p"><!----></div>
Wie schon in <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> 02/2011  angekündigt, haben wir aufgrund der 
schwachen Teilnehmerresonanz zum dritten Programmierwettbewerb&nbsp;<a href="http://www.freiesmagazin.de/dritter_programmierwettbewerb">[3]</a> von 
<b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> eine Umfrage gestartet&nbsp;<a href="http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb">[4]</a>.
Die Umfrage lief bis zum 27.02.11, und uns 
interessierten natürlich die Gründe, warum potentielle Teilnehmer dem 
Wettbewerb ferngeblieben sind.

<div class="p"><!----></div>

<div class="p"><!----></div>
Betrachtet man die Umfrageergebnisse, stellt man fest, dass 
die meisten Personen vor allem „fehlende Zeit“ von einer Teilnahme abgehalten 
hat – ganze 139 von insgesamt 235 abgegebenen Stimmen machten  
dies als Grund für

die Nichtteilnahme aus. Die 
parallel zur Umfrage abgegebenen Kommentare weisen dann auch in die gleiche 
Richtung: Eingebunden in Beruf, Schule/Studium, Familie etc. bleibt in den 
Reststunden des Tages nicht viel Zeit für Wettbewerbe dieser Art. Auch 
wenn dies schade ist, nachvollziehbar ist es allemal.  

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
Welche Gründe gab es noch? An zweiter Stelle zeigten 51 Stimmen „fehlende 
oder zu späte Information“ über den Wettbewerb als Grund dür die 
Nichtteilnahme an.
Auf 
gleicher Ebene (ebenfalls mit 51 Stimmen) rangiert der Grund, das die  
„Aufgabe zu schwer/kompliziert“ war.
Weitere Stimmen verteilten sich auf die Gründe „Aufgabe/Thema reizte mich nicht“  
(40 Stimmen) und „Programmieraufwand zu hoch“ (38 Stimmen).

<div class="p"><!----></div>
Dadurch, dass wir den zweiten Wettbewerb mit einer anspruchsvolleren
Aufgabe toppen wollten, haben wir uns also selbst behindert und zu
viele Programmierer verschreckt. Daraus wollen wir eine Lehre ziehen
und werden den nächsten Wettbewerb entsprechend einfacher gestalten.
Vor allem aber die Kritik mit dem nachträglichen Ändern der Regeln
und der komplizierten Bewertungsfunktion werden wir uns zu Herzen
nehmen.

<div class="p"><!----></div>
Wann es den nächsten Programmierwettbewerb geben wird, ist noch unklar.
Und auch die Form – ob wieder ein Spiel oder zur Abwechslung eine
echte Anwendung – ist noch nicht entschieden. Der Wunsch nach zweitem
kam auch in den Kommentaren auf&nbsp;<a href="http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb#comment-1666">[5]</a>, wobei wir dann als Redaktion das Problem haben,
einen Gewinner zu küren. Denn objektiv lassen sich nur wenige Kriterien
festlegen, die eine Anwendung besser macht als eine andere. Vorschläge
für neue Spiele als Basis des Wettbewerbs sind aber auch schon bei
uns eingegangen.

<div class="p"><!----></div>

<h2>Gewinner des Bash-Gewinnspiels</h2>

<div class="p"><!----></div>
Wer es nicht mitbekommen hat, soll an dieser Stelle darauf
hingewiesen werden, dass es in der letzten Ausgabe von <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>
02/2011&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2011-02">[6]</a>
im Artikel „Rezension: Bash – kurz&nbsp;&amp;&nbsp;gut” gleichnamiges Buch zu
gewinnen gab. Die Frage war: „<em>Welche neue Shell-Option für die Dateinamenersetzung ist in der Bash 4.0 hinzugekommen ist
und was macht diese?</em>“

<div class="p"><!----></div>
Die gesuchte Option nennt sich <b><tt style="font-size: 1.3em;">globstar</tt></b> und und ermöglicht
rekursives Globbing. Über den Ausdruck <b><tt style="font-size: 1.3em;">**</tt></b> durchsucht man
dann im Gegensatz zu <b><tt style="font-size: 1.3em;">*</tt></b> nicht nur alle Dateien und
Verzeichnisse im aktuellen Verzeichnis sondern zusätzlich auch
den Inhalt aller Unterverzeichnisse etc.

<div class="p"><!----></div>
Immerhin zwei Leser wussten die Antwort auf diese Frage. Etwas
schneller war aber <b>Christian H.</b>, dem wir noch einmal herzlich
zum Gewinn gratulieren. Das Buch hat er bereits letzten Monat erhalten.

<div class="p"><!----></div>
Und nun wünschen wir Ihnen viel Spaß mit der neuen Ausgabe.

<div class="p"><!----></div>
Ihre <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>-Redaktion

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://ikhaya.ubuntuusers.de/2006/03/18/es-ist-soweit:-der-ikhaya-newsletter-ist-da/"><tt style="font-size: 1.3em;">http://ikhaya.ubuntuusers.de/2006/03/18/es-ist-soweit:-der-ikhaya-newsletter-ist-da/</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.freiesmagazin.de/artikelwuensche"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/artikelwuensche</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://www.freiesmagazin.de/dritter_programmierwettbewerb"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/dritter_programmierwettbewerb</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb#comment-1666"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/20110130-umfrage-teilnahme-dritter-programmierwettbewerb#comment-1666</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://www.freiesmagazin.de/freiesMagazin-2011-02"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2011-02</tt></a><br />

<div class="p"><!----></div>
                        <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Editorial#comment-form"><i>Das Editorial kommentieren</i></a><br /><br />
    <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>


<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_wayland">Wayland oder warum man X ersetzen sollte</a><a name="11_03_wayland">
</a></font></h1>von Martin Gräßlin        <b>D</b><b>as X Window System ist mit über 25 Jahren geradezu der Methusalem in der 
Softwarewelt. Die aktuelle Protokollversion X11 aus dem Jahre 1987 ist vier 
Jahre älter als die erste Version des Linux-Kernels. Nun scheint die
Freie-Software-Gemeinschaft aktiv daran zu arbeiten, X in den wohlverdienten 
Ruhestand zu schicken.</b>

<div class="p"><!----></div>

<h2>Der Beginn von Wayland</h2>

<div class="p"><!----></div>
Vor zwei Jahren begann Kristian Høgsberg mit der Entwicklung eines „Display 
Servers”: Wayland&nbsp;<a href="http://wayland.freedesktop.org/">[1]</a> war geboren. Der Start hätte 
nicht schlechter sein können, denn Phoronix&nbsp;<a href="http://www.phoronix.com/vr.php?view=13065">[2]</a> 
posaunte es zu früh in einer Falschmeldung heraus. Wayland wurde als neuer 
X-Server bezeichnet, was es aber nicht 
ist&nbsp;<a href="http://hoegsberg.blogspot.com/2008/11/premature-publicity-is-better-than-no.html">[3]</a>. 
Dies ist wohl immer noch einer der Gründe, warum es so ein starkes Missverständnis 
über Wayland gibt und viele zukünftige Nutzer Wayland aus Unwissenheit 
grundlegend ablehnen.

<div class="p"><!----></div>
Mittlerweile hat die Entwicklung von Wayland deutlich an Geschwindigkeit aufnehmen 
können&nbsp;<a href="http://cgit.freedesktop.org/wayland/log/">[4]</a>, da Intel den Hauptentwickler 
angestellt hat, um Wayland für MeeGo zu implementieren. Große Distributionen wie 
Ubuntu&nbsp;<a href="http://www.markshuttleworth.com/archives/551">[5]</a> und 
Fedora&nbsp;<a href="http://lists.fedoraproject.org/pipermail/devel/2010-November/145273.html">[6]</a> 
haben eine frühe Adaption angekündigt und die Entwickler von X-Fenstermanagern 
machen sich bereits Gedanken zur 
Portierung&nbsp;<a href="http://smspillaz.wordpress.com/2010/11/07/compiz-in-a-strange-new-land/">[7]</a>. 
Selbst Keith Packard&nbsp;<a href="http://de.wikipedia.org/wiki/Keith_Packard">[8]</a>, das Gesicht von X,  möchte in Zukunft nur noch 
aktiv an der Ablösung von X mitwirken&nbsp;<a href="http://lwn.net/Articles/413335/">[9]</a>.

<div class="p"><!----></div>

<h2>Die Vergangenheit von X</h2>

<div class="p"><!----></div>
Um zu verstehen, warum an der Ablösung von X gearbeitet wird, muss man sich 
zuerst ein bisschen mit X auseinandersetzen. X hat sich in der Vergangenheit 
dank der Erweiterungen als äußerst flexibel gezeigt. Neue Technologien wie 
Compositing konnten integriert werden; auch größere Umstellungen wie die 
Verlagerung von Kernel Mode Settings in den Linux Kernel hat X überstanden. 
Warum kann man also nicht einfach so weiterarbeiten?

<div class="p"><!----></div>
    X stammt aus den 80er Jahren des vorherigen Jahrhunderts und ist entwickelt 
für die Anforderungen der 80er Jahre. Vieles, was heute als „Vorteil” 
bezeichnet wird, war schlicht und ergreifend eine Notlösung. So gab es noch 
keine Shared Libraries&nbsp;<a href="http://de.wikipedia.org/wiki/Shared_Library">[10]</a>; der Code 
zum Zeichnen von grafischen Primitiven 
hätte für jede Anwendung in den Arbeitsspeicher kopiert werden müssen. Bei 
einer solchen Anforderung ist es naheliegend, ein Client/Server-Modell zu 
entwickeln, das es den Anwendungen erlaubt, das aufwendige Zeichnen in einen 
zentralen Prozess auszulagern und nur ein Protokoll zu verwenden, um 
Zeichenoperationen anzustoßen. Somit war die 
Netzwerktransparenz&nbsp;<a href="http://de.wikipedia.org/wiki/Netzwerktransparenz">[11]</a> von 
X11 eher ein Nebenprodukt der historischen Gegebenheiten.

<div class="p"><!----></div>
Die Aufgabe des X Window Systems war es also, Zeichenoperationen in Fenstern 
auszuführen und die Fenster zu verwalten. Jedes Fenster nimmt einen kleinen 
Bereich des Bildschirms ein und X muss dafür sorgen, dass diese Bereiche 
neu gezeichnet werden, wenn z.&nbsp;B. ein Fenster geschlossen wird, welches ein 
anderes überlappt. Das Konzept des 
Fenstermanagers&nbsp;<a href="http://wiki.ubuntuusers.de/Fenstermanager">[12]</a> war im 
ursprünglichen X nicht einmal vorgesehen und so können Fenster sich selbst 
positionieren, die Größe ändern, Fokus anfordern, Tastatur an sich reißen 
und so weiter und so fort. Nur der Einsatz von Standards und „common sense” 
verhindert, dass es nicht ein wahlloses Chaos gibt und man hat heutzutage 
Fenstermanager, die sich darum kümmern, dass die Fenster sich benehmen. So 
bietet zum Beispiel der KDE-Fenstermanager KWin über Fensterregeln und 
JavaScript-Integration die Möglichkeit, so ziemlich jeden Fehler in 
Anwendungen in Bezug auf das Fenstermanagement zu beheben. Anwendungen, die 
sich nicht an die gemeinsamen Standards halten, gibt es dabei leider noch 
mehr als genug – und dazu zählen auch moderne und häufig verwendete 
Anwendungen wie Mozilla Firefox oder OpenOffice.org.

<div class="p"><!----></div>

<h2>Fenster heute</h2>

<div class="p"><!----></div>
Heutzutage werden Fenster gänzlich anders auf den Schirm gebracht. Die 
primitiven Grafikoperationen wurden längst durch die hardwarebeschleunigte
X-Erweiterung XRender&nbsp;<a href="http://en.wikipedia.org/wiki/XRender">[13]</a> ersetzt. Aber selbst 
diese ist mittlerweile in die Jahre gekommen und es wird ihr nachgesagt, langsamer 
zu sein als die Software-Implementierung von Qt. Zum Teil litt sie auch unter der
Vernachlässigung seitens der Treiberhersteller, was zu Performanceproblemen 
führte&nbsp;<a href="http://kde.org/announcements/4.1/">[14]</a>. Mittlerweile 
ist auch für fast jede Grafikkarte ein guter OpenGL-Treiber vorhanden und 
mit Gallium3D&nbsp;<a href="http://en.wikipedia.org/wiki/Gallium3D">[15]</a> steht ein ausreichend 
schneller Softwarerenderer zur Verfügung, um Grafikoperationen nun ausschließlich 
mit OpenGL durchzuführen. Toolkits wie Qt brauchen somit nur noch eine Rendering 
Engine, um sowohl Linux, Embedded Systems, Mac OS X und Microsoft Windows zu 
unterstützen. 
<div class="p"><!----></div>
Ein Fenster nimmt nicht mehr einen wohldefinierten Bereich des Bildschirms 
ein und der X-Server ist somit auch nicht mehr dafür zuständig, den Inhalt der 
Fenster passend abzuschneiden – heutzutage übernimmt der Compositor diese 
Aufgabe. Ein Fenster wird komplett in eine off-screen Pixmap gezeichnet 
(„Redirect”) und der Compositor wird über Änderungen

an dieser Pixmap 
informiert („Damage”). Der Compositor (meistens Bestandteil des 
Fenstermanagers wie z.&nbsp;B. KWin oder Compiz) generiert aus der Pixmap eine 
OpenGL-Textur und zeichnet diese auf den Bildschirm („Compositing”). Dabei 
kann der Compositor diese auch verändert darstellen, zum Beispiel mit 
Transparenz oder um eine Würfelkante herum gelegt.

<div class="p"><!----></div>
    
<h2>Probleme der Architektur</h2>

<div class="p"><!----></div>
Auch wenn die Infrastruktur zum modernen Zeichnen von Fenstern grundsätzlich 
funktioniert, sind die Altlasten noch vorhanden und verursachen so ihre 
Probleme. So gibt es zwei Varianten von nicht angezeigten Fenstern: ein 
Fenster kann klassisch nicht „gemappt” sein (z.&nbsp;B. minimiert) oder der 
Compositor kann es beim Rendern ausblenden (z.&nbsp;B. das Filtern in KDEs „Fenster 
zeigen”-Effekt). Verwendet man nur die moderne Variante, dass der Compositor 
es ausblendet, denkt das Fenster, es sei angezeigt und verhält sich 
dementsprechend&nbsp;<a href="https://bugs.kde.org/show_bug.cgi?id=189435">[16]</a>. Ein Beispiel wäre 
ein Videoplayer, der die Anzeige einstellt, wenn er minimiert ist. Umgekehrt 
führt ein Unmappen des Fensters dazu, dass der Compositor die Pixmap nicht mehr 
zur Verfügung hat und somit das Fenster nicht anzeigen kann. 

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/wayland_fehlende_pixmap.png" /><br /><em>Durch das Minimieren ist das Fenster nicht mehr verfügbar und ein Vorschaubild kann nicht angezeigt werden.</em><br />

<div class="p"><!----></div>
Ein viel größeres Problem ist jedoch, dass X immer noch die heute nicht mehr 
benötigten Altlasten mitschleppt und die Architektur immer noch darauf 
ausgerichtet ist. Vor allem die Client/Server-Architektur scheint hier die 
Schwachstelle zu sein. Der X-Server ist die zentrale Komponente, über die 
alles verteilt werden muss. Es werden immer wieder „roundtrips” zum Server 
benötigt. Bei einer lokalen Anwendung führt dies „nur” zu vielen 
überflüssigen Kontextwechseln&nbsp;<a href="http://de.wikipedia.org/wiki/Kontextwechsel">[17]</a>; 
bei einer entfernten Anwendung kann dies 
eine Anwendung stark ausbremsen.

<div class="p"><!----></div>

<h2>Ideale Situation</h2>

<div class="p"><!----></div>
In einer idealen Situation zeichnet jede Anwendung direkt in einen Puffer 
und der Compositor kann diesen Puffer direkt in OpenGL verwenden. Nur noch 
der Compositor entscheidet, wo sich ein Fenster befindet, ob es angezeigt 
wird oder nicht. Das Fenster selbst muss nichts über die eigentliche 
Position wissen und alles wird vom Compositor verwaltet. Tastatur und 
Mausereignisse werden vom Compositor weitergeleitet, denn er weiß, für 
welches Fenster das Ereignis ist, ob der „Schließen”-Knopf gedrückt wurde und 
um wie viele Pixel die Eingabe verschoben werden muss, um ein Fenster über 
den Würfel zu bewegen. Eine zentrale Komponente wie den X-Server gibt es 
nicht mehr. Und dies ist genau die Architektur von Wayland. 

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/wayland_logo.png" /><br /><em>Wayland Logo. <a href="http://cgit.freedesktop.org/wayland/wayland-demos/tree/data/wayland.svg">&#169;&nbsp;Kristian Høgsberg</a> (modifizierte MIT-Lizenz)</em><br />

<div class="p"><!----></div>

<h2>Die Mär der Netzwerktransparenz</h2>

<div class="p"><!----></div>
Verfolgt man die Diskussionen zu Wayland in diversen linuxnahen Foren, so 
scheint die Netzwerktransparenz das Killerfeature zu sein, ohne das niemand 
einen Linux-Desktop einsetzen 
würde&nbsp;<a href="http://www.pro-linux.de/umfragen/2/31/braucht-eine-grafische-oberflaeche-netzwerktransparenz.html">[18]</a>. 
Jedoch ist fraglich, ob die X-Netzwerktransparenz heute überhaupt noch sinnvoll 
ist. Wie oben bereits angesprochen, ist die Netzwerktransparenz eher ein Nebenprodukt der 
Anforderungen der 80er, die eine Client/Server-Architektur benötigten.

<div class="p"><!----></div>
Heute 
zeichnen Anwendungen jedoch mittels OpenGL und nicht mehr über X11. Dies 
führt zu einigen unangenehmen Auswirkungen für die Netzwerktransparenz. Das 
Protokoll ist optimiert für das Zeichnen von Primitiven mittels X11. Nun 
zeichnen die Anwendungen entweder auf Software emuliert (z.&nbsp;B. Qt Raster 
Engine) oder hardwarebeschleunigt mittels OpenGL. In vielen Fällen wird 
einfach in eine Pixmap gezeichnet und mittels Blitting auf den Bildschirm 
bzw. die off-screen Pixmap transferiert. Widget Styles wie z.&nbsp;B. Oxygen aus 
dem Hause KDE setzen massiv auf Animationen. Diese benötigen sehr viele 
Pixmaps, die jedes Mal an den X-Server übertragen werden. Selbst in einem 
lokalen Netzwerk kann hierbei das Protokoll schnell an

die Grenze kommen. Zum 
Übertragen von „Video” ist X11 aber nun wirklich nicht gedacht, denn es war 
optimiert für die primitiven Anforderungen des letzten Jahrhunderts.

<div class="p"><!----></div>
Ein anderes Problem für moderne Anwendungen ist die komplett fehlende 
Netzwerktransparenz von D-Bus. Kaum eine Anwendung kommt heute noch ohne 
D-Bus aus. Eine Benachrichtigung würde also an den falschen Rechner 
gesendet, Application Indicators werden in den falschen Systemabschnitt 
integriert, das Menü wird einfach nicht angezeigt und viele weitere Probleme 
werden in Zukunft auftreten. Dass die Netzwerktransparenz mit 
Wayland nicht mehr funktionieren wird, liegt nicht primär an Wayland, sondern 
daran, dass sie nicht mehr zeitgemäß ist.

<div class="p"><!----></div>
Als Ersatz für die Netzwerktransparenz wurde vorgeschlagen, diese direkt in 
die Toolkits (also GTK+ und Qt) zu integrieren – und dies wäre auch 
sinnvoll. Als Beispiel seien hier einmal Icons genannt. Für Icons gibt es 
eine freedesktop.org-Spezifikation&nbsp;<a href="http://standards.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html">[19]</a>. 
Icons können über die verschiedenen Arbeitsflächen hinweg einheitlich angesprochen 
und ausgewählt werden. Mit X wird das Icon vom entfernten Rechner geladen und als Bild 
übertragen. Es weiß nichts über das verwendete Icon-Theme auf dem 
Zielrechner. Verlagert man die Netzwerktransparenz in das Toolkit, könnte die 
entfernte Anwendung einfach das Icon vom lokalen Rechner laden, sofern es dort
vorhanden ist. Die komplette Übertragung des Icons ist somit wegoptimiert und 
die Anwendung fühlt sich nativer und lokaler an.

<div class="p"><!----></div>
Wayland kann auch X-Clients anzeigen und somit ist es auch in 
Zukunft möglich, noch die X11-Netzwerktransparenz zu nutzen. Noch auf Jahre 
werden Anwendungen X unterstützen. Das Argument der fehlenden 
Netzwerktransparenz ist für Wayland einfach nicht haltbar. Nutzer, die von 
Wayland profitieren, wissen nicht einmal, was die Netzwerktransparenz ist 
oder wofür sie sie einsetzen sollten. Die Zukunft von Wayland liegt mit 
Sicherheit auch bei Smartphones. Daher ist es nicht überraschend, dass 
Wayland OpenGL ES verwendet und von Intel gesponsort wird.

<div class="p"><!----></div>

<h2>Wie geht es weiter?</h2>

<div class="p"><!----></div>
Bis Wayland für die Nutzer einsetzbar wird, wird noch einige Zeit vergehen: 
Toolkits müssen portiert werden, um von Wayland zu profitieren, 
Desktopumgebungen müssen sich von X lösen und Fenstermanager zu großen 
Teilen neu geschrieben werden. Die Arbeit dazu hat bisher höchstens im 
konzeptionellen Bereich begonnen. KDE Plasma dürfte von der existierenden 
Portierung auf Microsoft Windows profitieren, da es zeigt, dass man Plasma 
ohne X11 verwenden kann. Etwas komplizierter dürfte es für X-Fenstermanager 
werden. Diese wurden speziell für X entwickelt und gehen so ziemlich überall 
davon aus, dass sie auf X laufen. Fenstermanager, die bereits einen 
Compositor integrieren, haben hier zumindest einen Vorteil. Jedoch verwendet 
kaum ein Fenstermanager OpenGL ES. Der KDE Fenstermanager KWin befindet sich 
aktuell in Portierung und wird demnächst in die Hauptentwicklungslinie Einzug 
erhalten&nbsp;<a href="http://blog.martin-graesslin.com/blog/2010/11/kwin-compiles-for-opengl-es/">[20]</a>.

<div class="p"><!----></div>
Die Fenstermanager müssen nun die X11 Abhängigkeit in Plug-ins auslagern, um 
auch ohne X11 starten zu können. Zusätzlich müssen sie das Wayland-Protokoll 
verwenden und eine möglichst große Kompatibilität herstellen. Gerade zur 
Standardisierung wie die Extended Window Manager 
Hints&nbsp;<a href="http://standards.freedesktop.org/wm-spec/wm-spec-latest.html">[21]</a> gibt es aktuell 
noch keine Bestrebungen. Bis Wayland also voll einsatzfähig ist und die 
Nutzer sich von X verabschieden müssen, werden wohl noch Jahre vergehen. Der 
Umstieg auf Wayland ist ein wichtiges, aber lang andauerndes Projekt.

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://wayland.freedesktop.org/"><tt style="font-size: 1.3em;">http://wayland.freedesktop.org/</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.phoronix.com/vr.php?view=13065"><tt style="font-size: 1.3em;">http://www.phoronix.com/vr.php?view=13065</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://hoegsberg.blogspot.com/2008/11/premature-publicity-is-better-than-no.html"><tt style="font-size: 1.3em;">http://hoegsberg.blogspot.com/2008/11/premature-publicity-is-better-than-no.html</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://cgit.freedesktop.org/wayland/log/"><tt style="font-size: 1.3em;">http://cgit.freedesktop.org/wayland/log/</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.markshuttleworth.com/archives/551"><tt style="font-size: 1.3em;">http://www.markshuttleworth.com/archives/551</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://lists.fedoraproject.org/pipermail/devel/2010-November/145273.html"><tt style="font-size: 1.3em;">http://lists.fedoraproject.org/pipermail/devel/2010-November/145273.html</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://smspillaz.wordpress.com/2010/11/07/compiz-in-a-strange-new-land/"><tt style="font-size: 1.3em;">http://smspillaz.wordpress.com/2010/11/07/compiz-in-a-strange-new-land/</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://de.wikipedia.org/wiki/Keith_Packard"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Keith_Packard</tt></a><br />

<div class="p"><!----></div>
[9] <a href="http://lwn.net/Articles/413335/"><tt style="font-size: 1.3em;">http://lwn.net/Articles/413335/</tt></a><br />

<div class="p"><!----></div>
[10] <a href="http://de.wikipedia.org/wiki/Shared_Library"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Shared_Library</tt></a><br />

<div class="p"><!----></div>
[11] <a href="http://de.wikipedia.org/wiki/Netzwerktransparenz"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Netzwerktransparenz</tt></a><br />

<div class="p"><!----></div>
[12] <a href="http://wiki.ubuntuusers.de/Fenstermanager"><tt style="font-size: 1.3em;">http://wiki.ubuntuusers.de/Fenstermanager</tt></a><br />

<div class="p"><!----></div>
[13] <a href="http://en.wikipedia.org/wiki/XRender"><tt style="font-size: 1.3em;">http://en.wikipedia.org/wiki/XRender</tt></a><br />

<div class="p"><!----></div>
[14] <a href="http://kde.org/announcements/4.1/"><tt style="font-size: 1.3em;">http://kde.org/announcements/4.1/</tt></a><br />

<div class="p"><!----></div>
[15] <a href="http://en.wikipedia.org/wiki/Gallium3D"><tt style="font-size: 1.3em;">http://en.wikipedia.org/wiki/Gallium3D</tt></a><br />

<div class="p"><!----></div>
[16] <a href="https://bugs.kde.org/show_bug.cgi?id=189435"><tt style="font-size: 1.3em;">https://bugs.kde.org/show_bug.cgi?id=189435</tt></a><br />

<div class="p"><!----></div>
[17] <a href="http://de.wikipedia.org/wiki/Kontextwechsel"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Kontextwechsel</tt></a><br />

<div class="p"><!----></div>
[18] <a href="http://www.pro-linux.de/umfragen/2/31/braucht-eine-grafische-oberflaeche-netzwerktransparenz.html"><tt style="font-size: 1.3em;">http://www.pro-linux.de/umfragen/2/31/braucht-eine-grafische-oberflaeche-netzwerktransparenz.html</tt></a><br />

<div class="p"><!----></div>
[19] <a href="http://standards.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html"><tt style="font-size: 1.3em;">http://standards.freedesktop.org/icon-naming-spec/icon-naming-spec-latest.html</tt></a><br />

<div class="p"><!----></div>
[20] <a href="http://blog.martin-graesslin.com/blog/2010/11/kwin-compiles-for-opengl-es/"><tt style="font-size: 1.3em;">http://blog.martin-graesslin.com/blog/2010/11/kwin-compiles-for-opengl-es/</tt></a><br />

<div class="p"><!----></div>
[21] <a href="http://standards.freedesktop.org/wm-spec/wm-spec-latest.html"><tt style="font-size: 1.3em;">http://standards.freedesktop.org/wm-spec/wm-spec-latest.html</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Martin Gräßlin</b>&nbsp;(<a href="http://blog.martin-graesslin.com/blog/">Webseite</a>)
ist als KWin-Maintainer an einer Portierung zu 
Wayland sehr interessiert.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Wayland#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_pipes">Datenströme, Dateideskriptoren und Interprozesskommunikation</a><a name="11_03_pipes">
</a></font></h1>von Frank Stähr        <b>D</b><b>ie Pipe ist Vielen als eines der unter Unix mächtigsten Werkzeuge
bekannt. Sie ermöglicht es, die Ausgabe eines Befehls direkt an
einen anderen Prozess zu senden. Tatsächlich stellt die Standardpipe
aber nur die einfachste Form der Interprozesskommunikation dar.
Dieser Artikel beschäftigt sich mit den verschiedenen Möglichkeiten,
Datenströme effizient zu verarbeiten, um- und weiterzuleiten. Auch
wenn die meisten vorgestellten Technologien und Konzepte sowohl von
der Programmiersprache als auch vom Betriebssystemen unabhängig sind, werden
sie hauptsächlich an der Unix-Shell und vor allem der Bash
verdeutlicht und Hinweise zu C&nbsp;/&nbsp;C++ gegeben.</b>

<div class="p"><!----></div>
<b>Hinweis:</b> Dieser Artikel spricht in erster Linie Fortgeschrittene
an, die viel programmieren oder skripten. Aber auch weniger
versierte Nutzer haben keine Verständnisprobleme zu erwarten, wenn
sie die meisten Beispiele ausprobieren und eventuell dem einen oder
anderen weiterführenden Link folgen.

<div class="p"><!----></div>
Zurück zum Anfang: Eine „anonyme Pipe“ (deutsch: Rohr, Röhre) &nbsp;<a href="http://de.wikipedia.org/wiki/Pipe_(Informatik)">[1]</a>
wird mit dem Operator&nbsp;<b><tt style="font-size: 1.3em;">|</tt></b> erzeugt und bindet die Standardausgabe des
ersten an die Standardeingabe des zweiten Befehls. Dies ist auch mehrfach
hintereinander möglich, insgesamt also beispielsweise:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;dmesg&nbsp;|&nbsp;grep&nbsp;-n&nbsp;USB&nbsp;|&nbsp;tail
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Der weniger erfahrene Nutzer mag sich nun sofort die Frage stellen,
ob und warum dieses Prinzip überhaupt wichtig ist – schließlich
scheinen Pipes unter kommerziell vertriebenen Betriebssystemen
praktisch gar nicht relevant zu sein. Dazu kann man mehrere
Antworten geben:

<div class="p"><!----></div>

<ul>
<li> Zunächst ist eine universelle, portierbare und von der
Benutzeroberfläche unabhängige Interprozesskommunikation (kurz
IPC)&nbsp;<a href="http://de.wikipedia.org/wiki/Interprozesskommunikation">[2]</a>
wichtiger Bestandteil der Unix-Philosophie&nbsp;<a href="http://de.wikipedia.org/wiki/Unix-Philosophie">[3]</a>&nbsp;<a href="http://sites.inka.de/mips/unix/unixphil.html">[4]</a>
und hat sich über Jahrzehnte als effizientes Prinzip der
Programmierung und auch Anwendung bewährt. Vor allem beim
wissenschaftlichen Arbeiten, Auswerten von Textdateien und
dergleichen gestalten sich Pipes als zwingend notwendiges Instrument.
<div class="p"><!----></div>
</li>

<li> In der Tat macht auch proprietäre Software stark von den verschiedenen
Formen der Interprozesskommunikation Gebrauch, versteckt dies aber in der Regel im Quellcode
einer höheren Programmiersprache. Dem Open-Source-Benutzer
erscheinen die einzelnen Systemabläufe im Gegensatz dazu aber transparenter.
<div class="p"><!----></div>
</li>

<li> Und schließlich sei im Gegensatz zum Bisherigen noch gesagt, dass
die Grundidee von Pipes unter Umständen durchaus der von Closed
Source widersprechen kann. Denn ein Programmierer freier Software
achtet besonders auf die Wiederverwertbarkeit seines Werkes, eben
auch und vor allem im Zusammenspiel mit anderen Programmen, während
dies bei kommerzieller Software gerade nicht erwünscht ist, da es
einer möglichen Interaktion mit einem „Konkurrenten“ gleichkommt.
Deswegen und darüber hinaus auch wegen der Anwenderfreundlichkeit
ist unfreie Software oft untrennbar mit einer grafischen
Benutzeroberfläche verknüpft. Dieser Umstand resultiert in einer nur
unerheblichen Bedeutung der Konsole und hat außerdem den
interessanten Nebeneffekt, dass es z.&nbsp;B. unter MS Windows keinen
guten, vorinstallierten Texteditor gibt (siehe „Notepad++ und
Notepad2 – Open-Source-Editoren für Windows“, <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> 09/2010&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2010-09">[5]</a>).

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Alles in allem haben Pipes demnach ihre Berechtigung. Die
Alternative ist das Abspeichern von Zwischenergebnissen in Dateien,
die dann vom nächsten Programm wieder geladen werden. Abgesehen von
der umständlichen Befehlsfolge ergeben sich daraus je nach Umsetzung
verschiedene Schwierigkeiten:
Möchte man die diversen
Programmausführungen aus Effizienzgründen nicht nacheinander,
sondern parallel laufen lassen, kommt die Frage auf, wann die IPC
eigentlich beendet ist; bei großen Datenmengen kann man nicht auf im
RAM liegende Dateisysteme zurückgreifen (siehe den vorletzten Abschnitt
„Dateien im Arbeitsspeicher“) und hat somit das Problem
kostspieliger I/O-Operationen, da Schreib- und Leseprozesse auf die
und von der Festplatte sehr zeitaufwändig sind.

<div class="p"><!----></div>

<h2>Umleitungen</h2>

<div class="p"><!----></div>
Nichtsdestotrotz stellen Dateien in der Praxis die wichtigsten
Datenquellen und -senken dar.

<div class="p"><!----></div>

<h3>Operatoren <b><tt style="font-size: 1.3em;">&lt;</tt></b> und <b><tt style="font-size: 1.3em;">&#62;</tt></b></h3>

<div class="p"><!----></div>
Für Umleitungen verwendet die Unix-Shell&nbsp;<a href="http://de.wikibooks.org/wiki/Linux-Kompendium:_Shellprogrammierung">[6]</a>
die einfachen Pfeiloperatoren <b><tt style="font-size: 1.3em;">&lt;</tt></b> und <b><tt style="font-size: 1.3em;">&#62;</tt></b>, die symbolisch die Richtung
des Datenflusses anzeigen. Dabei leitet <b><tt style="font-size: 1.3em;">&lt;</tt></b> die nachfolgende Datei zur
Standardeingabe des aktuellen Befehls, <b><tt style="font-size: 1.3em;">&#62;</tt></b> gibt die Standardausgabe
des Befehls in die nachfolgende Datei aus. Möchte man alle Zeilen
einer Datei nach einem gewissen Suchbegriff filtern, ginge das
beispielsweise mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;infile&nbsp;grep&nbsp;suchbegriff&nbsp;&#62;outfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Diese Schreibweise mag dem einen oder anderen vielleicht etwas
ungewohnt vorkommen, schließlich akzeptiert der <b><tt style="font-size: 1.3em;">grep</tt></b>-Befehl ja auch
Dateinamen als Argument:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;grep&nbsp;suchbegriff&nbsp;infile&nbsp;&#62;outfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Hier ist allerdings problematisch, dass der Name der Eingabedatei
nicht klar gekennzeichnet ist, er könnte z.&nbsp;B. dem Suchbegriff ähneln
– längere Befehle können so unübersichtlich werden.

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;cat&nbsp;infile&nbsp;|&nbsp;grep&nbsp;suchbegriff&nbsp;&#62;outfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
ist dagegen keine Lösung, denn abgesehen von dem höheren
Schreibaufwand und der unschönen Zweckentfremdung des Befehls <b><tt style="font-size: 1.3em;">cat</tt></b>
– dieser verkettet <em>mehrere</em> Dateien – wird auf diese Weise ein ganz
neuer, unnötiger Prozess gestartet&nbsp;<a href="http://wiki.ubuntuusers.de/Shell/Tipps_und_Tricks">[7]</a>.

<div class="p"><!----></div>
Darüber hinaus unterstützen nicht alle Befehle das Einlesen von
Dateien per Parameterübergabe, die Konsole ist generell sogar
Standard. Man kann in den obigen Befehlen etwa die Ausgabedatei
weglassen, oder die Eingabedatei – oder beides. Weiterhin können, da
keinerlei Verwechslungsgefahr der Datenströme besteht, die
Dateiumleitungen von Ein- und zu Ausgabe im Befehl vollkommen
beliebig positioniert werden, sodass die vierte Variante

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&#62;outfile&nbsp;grep&nbsp;&lt;infile&nbsp;suchbegriff
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
identisch zu den anderen drei ist. Man sollte sich in diesem Fall
noch einmal darüber im Klaren sein, dass <b><tt style="font-size: 1.3em;">&lt;infile</tt></b> kein
Kommandozeilenparameter von <b><tt style="font-size: 1.3em;">grep</tt></b> ist – genausowenig wie
<b><tt style="font-size: 1.3em;">&#62;outfile</tt></b> in den vorherigen Beispielen. Beide werden vor dem
Aufruf von <b><tt style="font-size: 1.3em;">grep</tt></b> von der Shell interpretiert.

<div class="p"><!----></div>
Die Zieldatei wird, sollte sie schon existieren, ohne Rückfrage überschrieben. Daher ist es im Übrigen auch möglich, sie mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&#62;outfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
zu leeren. Dies ist etwa für Logdateien sinnvoll. Abgesehen von dem
minimalen Aufwand hat diese Methode den Vorteil, dass Prozesse, die
gerade in diese Datei schreiben, nicht neu gestartet werden müssen.
Würde man beispielsweise per


<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;cp&nbsp;original&nbsp;ziel
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
eine große Datei erstellen und sie währenddessen in einer zweiten Konsole mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;rm&nbsp;ziel&nbsp;&amp;&amp;&nbsp;touch&nbsp;ziel
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
versuchen zu leeren, so gibt es im besten Fall keine Fehlermeldung,
das gewünschte Ergebnis erhält man aber definitiv nicht. Denn der
Schreibvorgang verliert wegen der Löschaktion das korrekte
Datei-Handle auf <b><tt style="font-size: 1.3em;">ziel</tt></b>, nach seinem Abschluss werden daher alle
geschriebenen Daten verworfen und es bleibt wegen des
<b><tt style="font-size: 1.3em;">touch</tt></b>-Befehls lediglich eine vollkommen leere Datei übrig. Korrekt
ist somit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&#62;ziel
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
wobei außerdem die Zugriffsrechte von <b><tt style="font-size: 1.3em;">ziel</tt></b> erhalten bleiben.

<div class="p"><!----></div>
Auch wenn sich dieser Artikel an der Bash orientiert, sei noch
gesagt, dass der Befehl in einigen Shells nicht funktioniert, in
diesem Falle hilft stattdessen

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;:&nbsp;&#62;outfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Dabei ist der Doppelpunkt der „Nullbefehl“, also eine Art Platzhalter
– er hat keine Ausgaben, ignoriert alle Eingabeströme und Parameter
und vermeldet dem Betriebssystem eine erfolgreiche Ausführung, d.&nbsp;h.
den Rückgabewert 0.

<div class="p"><!----></div>
Es ist aber auch möglich, die Ausgabe mittels <b><tt style="font-size: 1.3em;">&#62;&#62;</tt></b> statt <b><tt style="font-size: 1.3em;">&#62;</tt></b>
an existierende Dateien anzuhängen:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ls&nbsp;&#62;&#62;&nbsp;verzeichnisliste
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h3>Hier-Dokumente</h3>

<div class="p"><!----></div>
Damit kommt sofort die Frage auf, welche Funktion der Operator <b><tt style="font-size: 1.3em;">&lt;&lt;</tt></b>
erfüllt. Unglücklicherweise passt die Antwort weder zur Logik der
drei anderen Operatoren noch erschließt sich einem der Sinn der
Anwendung auf Anhieb: <b><tt style="font-size: 1.3em;">&lt;&lt;</tt></b> erzeugt ein sogenanntes „Hier-Dokument“
(auch Heredoc)&nbsp;<a href="http://en.wikipedia.org/wiki/Here_document">[8]</a>. Das
ermöglicht es, eine längere Zeichenkette direkt in der Kommandozeile
zu tippen und an die Standardeingabe weiterzuleiten. Nach <b><tt style="font-size: 1.3em;">&lt;&lt;</tt></b> folgt
ein Delimiter, der das Ende des einzugebenden Textes anzeigt. Der
Aufruf

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;grep&nbsp;foo&nbsp;&lt;&lt;&nbsp;ende&nbsp;|&nbsp;sort
&#62;&nbsp;foo
&#62;&nbsp;bar
&#62;&nbsp;eof&nbsp;foo
&#62;&nbsp;ende
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
mündet in der Ausgabe

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
eof&nbsp;foo
foo
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Was ist passiert? Der Eingabestring lautet

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
foo
bar
eof&nbsp;foo
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
und wird direkt als Standardeingabe an <b><tt style="font-size: 1.3em;">grep</tt></b> übergeben. Aus ihm
werden alle Zeilen, die <b><tt style="font-size: 1.3em;">foo</tt></b> enthalten, gefiltert und das Resultat
sortiert. Genauso ginge

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;grep&nbsp;foo&nbsp;&lt;&lt;&nbsp;eof&nbsp;|&nbsp;sort
&#62;&nbsp;foo
&#62;&nbsp;bar
&#62;&nbsp;eof&nbsp;foo
&#62;&nbsp;eof
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Um die Zeichenkette zu beenden, muss der Trenner, hier <b><tt style="font-size: 1.3em;">eof</tt></b> statt
wie vorhin <b><tt style="font-size: 1.3em;">ende</tt></b>, also ganz alleine in der letzten Zeile stehen,
auch Leerzeichen sind dann verboten. Er ist frei wählbar, sollte
aber natürlich mit keiner der Eingabezeilen identisch sein.

<div class="p"><!----></div>
Zu diesem Kommando gibt es zwei Alternativen:

<div class="p"><!----></div>

<ul>
<li> Ruft man <b><tt style="font-size: 1.3em;">grep</tt></b> ohne Eingabedatei auf, wird wie oben automatisch
die Standardeingabe gewählt. Liegt diese noch nicht vor, verlangt
sie das Terminal per Prompt. Folglich

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;grep&nbsp;foo&nbsp;|&nbsp;sort
</pre>

<div class="p"><!----></div>
 Zur Endmarkierung des anschließend manuell einzugebenden Strings
genügt die Tastenkombination <i>„Strg“</i>&nbsp;+&nbsp;<i>„D“</i>, sie sendet ein End-of-File&nbsp;<a href="http://de.wikipedia.org/wiki/End_of_File">[9]</a> an die Pipe.
<div class="p"><!----></div>
</li>

<li> Die Eingabe kann natürlich auch über eine Datei erfolgen.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Diese beiden Methoden bringen aber Probleme mit sich: Zum einen
steht in einem (nicht-interaktiven) Skript <i>„Strg“</i>&nbsp;+&nbsp;<i>„D“</i> nicht zur
Verfügung, zum anderen möchte man manchmal keine externe Datei
involvieren, sondern dessen Inhalt direkt niederschreiben. Nun
erschließt sich einem auch der Name etwas besser: Hier-Dokument. Es
handelt sich somit um eine Datei, die einfach nur an Ort und Stelle
definiert wird. Damit ist der <b><tt style="font-size: 1.3em;">&lt;&lt;</tt></b>- ähnlich wie der <b><tt style="font-size: 1.3em;">&lt;</tt></b>-Operator ein
weiteres Instrument der Konsole, das das Skripten angenehm machen
kann, aber keine zwingende Daseinsberechtigung besitzt.

<div class="p"><!----></div>
Für Shell-Skripte bietet es sich noch an, vor den Trenner einen
Bindestrich zu setzen, da dann führende Tabs, aber nicht
Leerzeichen, im Heredoc ignoriert werden. Das erhöht die Lesbarkeit.
(Tabulatorzeichen können im Prompt nicht direkt erzeugt, sondern
müssen vorher maskiert werden – in den meisten Shells mit <i>„Strg“</i>&nbsp;+&nbsp;<i>„V“</i>.)

<div class="p"><!----></div>

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;cat&nbsp;&lt;&lt;-&nbsp;42
	Dies&nbsp;ist&nbsp;Zeile&nbsp;1&nbsp;der&nbsp;Nachricht.
	Dies&nbsp;ist&nbsp;Zeile&nbsp;2&nbsp;der&nbsp;Nachricht.
	Dies&nbsp;ist&nbsp;die&nbsp;letzte&nbsp;Zeile&nbsp;der&nbsp;Nachricht.
42
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Im Internet-FAQ-Archiv&nbsp;<a href="http://www.faqs.org/docs/abs/HTML/here-docs.html">[10]</a>
findet man noch einige andere Anwendungen und Tricks.

<div class="p"><!----></div>
Hier-Dokumente werden auch von Perl, Python, PHP und anderen
Sprachen zur Verfügung gestellt, teils in anderer Syntax. Ein
nützlicher Spezialfall ist der Hier-String&nbsp;<a href="http://tldp.org/LDP/abs/html/x17471.html">[11]</a>,
der durch <b><tt style="font-size: 1.3em;">&lt;&lt;&lt;</tt></b> eingeleitet und ein einfaches <i>„Enter“</i> abgeschlossen wird. Statt

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;echo&nbsp;"sqrt(25.000)"&nbsp;|&nbsp;bc
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
kann man sich einen Prozess sparen:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;bc&nbsp;&lt;&lt;&lt;&nbsp;"sqrt(25.000)"
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Da die Anführungszeichen die Zeichenkette eindeutig definieren, ist
auch eine andere Reihenfolge erlaubt:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;&lt;&lt;&nbsp;"sqrt(25.000)"&nbsp;bc
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h2>Dateideskriptoren</h2>

<div class="p"><!----></div>
Mehrere Befehle in geschweiften Klammern bilden Einheiten.
Eventuelle Ein- und Ausgaben werden dann so gehandhabt, als ob nur
ein Befehl aufgerufen würde.

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;{&nbsp;touch&nbsp;/Tresor;&nbsp;echo&nbsp;23;&nbsp;}
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
gibt zwei Zeilen aus. Man beachte das Leerzeichen nach der öffnenden
Klammer und das zweite Semikolon. Leitet man das Resultat nun aber
per <b><tt style="font-size: 1.3em;">&#62;output</tt></b> in eine Datei um, macht man eine interessante
Feststellung: Eine Zeile landet in dieser Datei, die Fehlermeldung
wird aber weiter auf der Konsole ausgegeben. Das Betriebssystem kann
folglich verschiedene Arten von Ausgaben voneinander unterscheiden,
ohne dass die entsprechenden Kanäle explizit dem Anwender angezeigt
werden.

<div class="p"><!----></div>
Das entsprechende Konzept sind die „Dateideskriptoren“ (auch
Datei-Handles, Handles)&nbsp;<a href="http://en.wikipedia.org/wiki/File_descriptor">[12]</a>.
In POSIX-konformen Systemen&nbsp;<a href="http://de.wikipedia.org/wiki/Portable_Operating_System_Interface">[13]</a>
sind sie im Grunde lediglich nicht-negative, ganze Zahlen, die vom
Kernel an bestimmte Ein- oder Ausgabeströme gebunden werden. Dies
mag unnötig technisch wirken – die Idee lässt sich dahingehend
abstrahieren, dass Zahlen als Identifikatoren für Datenströme
dienen, denn sie werden pro Prozess bzw. pro Shell eindeutig
vergeben. Mit Handles umgeht man komplexe Aufgaben wie etwa Pufferung.

<div class="p"><!----></div>
Als Standard sind die ersten drei Werte in der Konsole bereits
reserviert: 0 für die Standardeingabe, 1 für die Standardausgabe und
2 ist der Kanal der Fehlerausgabe. Gerade der letzte Deskriptor ist
sehr sinnvoll, um fehlerhafte Programmausführungen vom Rest zu
trennen. Die Kanäle kann man mit den Umleitungsoperatoren auch
direkt ansprechen, dazu folgende Beispiele:

<div class="p"><!----></div>

<ul>
<li> Das Kommando

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;{&nbsp;touch&nbsp;/Tresor;&nbsp;echo&nbsp;23;&nbsp;}&nbsp;&#62;output&nbsp;2&#62;&#62;fehler.log
</pre>

<div class="p"><!----></div>
 tut fast das gleiche wie eben, nur wird zusätzlich die Fehlermeldung
nicht auf der Konsole gezeigt, sondern an eine Logdatei angehängt.
<div class="p"><!----></div>
</li>

<li> Der obige Befehl bleibt, wird aber nach <b><tt style="font-size: 1.3em;">&#62;output 2&#62;&amp;1</tt></b> umgeleitet.
Dann erhält die Datensenke zunächst nur die Standardausgabe, aber
danach wird auch der Deskriptor 2 auf 1, also in die Datei,
umgeleitet.
<div class="p"><!----></div>
</li>

<li> Ganz anders verhält es sich mit vertauschter Reihenfolge:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;{&nbsp;touch&nbsp;/Tresor;&nbsp;echo&nbsp;23;&nbsp;}&nbsp;2&#62;&amp;1&nbsp;&#62;output
</pre>

<div class="p"><!----></div>
 leitet zunächst den Fehlerkanal zum Terminal um, anschließend Kanal
1 in eine Datei. Auf diese Weise kann man die Fehlerausgabe mit der
Pipe weiterverarbeiten.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Analog verhält es sich auch mit dem Eingabeoperator <b><tt style="font-size: 1.3em;">&lt;</tt></b>, es sind damit
auch andere (sogar mehrere!) Eingabeströme möglich. Dies erscheint
etwas seltsam, da standardmäßig nur einer reserviert ist. Bisher
kann man bereits ein paar allgemeine Regeln
aufstellen&nbsp;<a href="http://tldp.org/LDP/abs/html/io-redirection.html">[14]</a>:

<div class="p"><!----></div>

<ul>
<li> <b><tt style="font-size: 1.3em;">m&#62;&amp;n</tt></b> übergibt die Ausgabe, die normalerweise an Handle <b><tt style="font-size: 1.3em;">m</tt></b> geht, an
Handle <b><tt style="font-size: 1.3em;">n</tt></b>.
<div class="p"><!----></div>
</li>

<li> <b><tt style="font-size: 1.3em;">m&lt;&amp;n</tt></b> nimmt eine Eingabe aus Handle <b><tt style="font-size: 1.3em;">m</tt></b> entgegen, die aber
ursprünglich aus Handle <b><tt style="font-size: 1.3em;">n</tt></b> stammt.
<div class="p"><!----></div>
</li>

<li> Zwischen Umleitungssymbolen und Deskriptoren dürfen keine
Leerzeichen stehen. In anderen Fällen, etwa Dateien, sind sie
hingegen erlaubt.
<div class="p"><!----></div>
</li>

<li> Quell- und Zieldateideskriptoren, d.&nbsp;h. die Zahlen hinter den
spitzen Klammern, werden mit dem Symbol <b><tt style="font-size: 1.3em;">&amp;</tt></b> gekennzeichnet.
<div class="p"><!----></div>
</li>

<li> Die Angabe von <b><tt style="font-size: 1.3em;">&#62;</tt></b> ist ein Synonym für <b><tt style="font-size: 1.3em;">1&#62;</tt></b> und <b><tt style="font-size: 1.3em;">&lt;</tt></b> entspricht <b><tt style="font-size: 1.3em;">0&lt;</tt></b>.
<div class="p"><!----></div>
</li>

<li> Außerdem schließt <b><tt style="font-size: 1.3em;">n&#62;&amp;-</tt></b> bzw. <b><tt style="font-size: 1.3em;">n&lt;&amp;-</tt></b> den Kanal <b><tt style="font-size: 1.3em;">n</tt></b>.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Mit einem kurzen <b><tt style="font-size: 1.3em;">&amp;&#62;file</tt></b> landen sowohl Standard- als auch
Fehlerausgabe in einer Datei, was folglich äquivalent zu <b><tt style="font-size: 1.3em;">&#62;file</tt></b>
<b><tt style="font-size: 1.3em;">2&#62;&amp;1</tt></b> ist. Genauso ist <b><tt style="font-size: 1.3em;">&amp;&#62;&#62;file</tt></b> gleichbedeutend zu <b><tt style="font-size: 1.3em;">&#62;&#62;file 2&#62;&amp;1</tt></b>.
Analog kann man beide Kanäle mit <b><tt style="font-size: 1.3em;"> - &amp;</tt></b> an eine Pipe übergeben. Ein
einfaches <b><tt style="font-size: 1.3em;"> - &amp; :</tt></b> unterdrückt so sehr effizient die komplette
Rückmeldung der Ausführung. Dies ist zum Beispiel sinnvoll, wenn von
einem Programm lediglich der Exit-Code benötigt wird. Eine
Alternative ist die Umleitung in den „Mülleimer“ von Unix mittels
<b><tt style="font-size: 1.3em;">&amp;&#62; /dev/null</tt></b>&nbsp;<a href="http://www.faqs.org/docs/abs/HTML/zeros.html">[15]</a>.

<div class="p"><!----></div>

<h3><b><tt style="font-size: 1.3em;">exec</tt></b></h3>

<div class="p"><!----></div>
Dateideskriptoren kann man mit <b><tt style="font-size: 1.3em;">exec</tt></b>&nbsp;<a href="http://www.linuxtopia.org/online_books/advanced_bash_scripting_guide/x13082.html">[16]</a>
dauerhaft umhängen oder neu erstellen. Dabei sollten
sie nicht größer als 9 sein, da sie dann mit Dateideskriptoren, die
die Shell intern nutzt, in Konflikt geraten könnten. Mittels

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;5&#62;logfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
öffnet man <b><tt style="font-size: 1.3em;">logfile</tt></b> über Kanal 5 als Datensenke und kann anschließend
beliebig viele Ausgaben mit <b><tt style="font-size: 1.3em;">&#62;&amp;5</tt></b> oder speziell Fehlermeldungen mit
<b><tt style="font-size: 1.3em;">2&#62;&amp;5</tt></b> an diese leiten. Erst mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;5&#62;&amp;-
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
wird der Schreibvorgang abgeschlossen und die Datei würde bei
Wiederholung dieser Befehlsabfolge überschrieben werden.

<div class="p"><!----></div>
Ganz ähnlich gestaltet sich die Verwendung einer Datei als
Datenquelle, und sogar beides ist möglich: Eine Datei, die zumindest
ein paar Textzeilen enthalten sollte, wird per

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;6&lt;&#62;rwfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
zum Lesen <em>und</em> Schreiben geöffnet. Nun könnte man mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;head&nbsp;-n&nbsp;2&nbsp;&lt;&amp;6
$&nbsp;echo&nbsp;overwrite&nbsp;&#62;&amp;6
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
zunächst die ersten beiden Zeilen auslesen und anschließend etwas in
die Datei schreiben. Mit diesen und ähnlichen Kommandos wird
ersichtlich, dass der Deskriptor immer eine bestimmte Position im
Datenstrom hat, die stets an das Ende der zuletzt berührten
Zeichenkette gesetzt wird und dort auch mit neuen Lese- oder
Schreibvorgängen beginnt; bei letzteren wird byteweise
überschrieben. Es ist egal, mit welchem der Befehle

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;6&#62;&amp;-
$&nbsp;exec&nbsp;6&lt;&amp;-
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
man das Handle schließt.

<div class="p"><!----></div>
Deskriptoren haben vielfältige Anwendungen, von denen einige im
Folgenden näher erläutert werden.

<div class="p"><!----></div>

<h3>Ausgaben dauerhaft in eine Datei umleiten</h3>

<div class="p"><!----></div>
Mit einem einfachen <b><tt style="font-size: 1.3em;">exec &#62;logfile</tt></b> würde leider der Deskriptor
verloren gehen, daher muss er vorher gesichert werden:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;6&#62;&amp;1
$&nbsp;exec&nbsp;&#62;logfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Zunächst zeigt Kanal 6 auf 1, also auf das Terminal, die zweite
Zeile leitet 1 in eine Datei.

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ls&nbsp;#&nbsp;und&nbsp;diverse&nbsp;andere&nbsp;Befehle
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Die Konsole gibt dann nur noch eventuelle Fehlermeldungen aus. Ein
abschließendes

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;1&#62;&amp;6&nbsp;6&#62;&amp;-
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
stellt den Ursprung wieder her: 1 zeigt auf 6, also auf das
Terminal, 6 wird geschlossen. Ganz analog kann man so die
Standardeingabe an eine Datei binden.

<div class="p"><!----></div>
Mit diesem Beispiel sieht man auch, dass <b><tt style="font-size: 1.3em;">exec</tt></b> nicht mit
Verknüpfungen arbeitet, sondern <em>echte</em> Kopien erstellt – nur so ist
es möglich, Sicherheitskopien derart zu verwalten. Für Kanal 1 bzw.
für die Konsole bietet aber auch das Betriebssystem eine solche
Sicherheitskopie, das Terminal versteckt sich nämlich in der Datei
<b><tt style="font-size: 1.3em;">/dev/tty</tt></b>. Obige Befehlsfolge entspricht daher:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;&#62;logfile
$&nbsp;ls&nbsp;#&nbsp;und&nbsp;anderes
$&nbsp;exec&nbsp;&#62;/dev/tty
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Die Logdatei kann man sich jeweils anzeigen lassen:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;more&nbsp;logfile
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h3>Versteckte Informationen für die GUI</h3>

<div class="p"><!----></div>
Wie bereits erläutert stellen viele proprietäre Programme von Haus
aus eine grafische Benutzeroberfläche bereit, die nicht nur
schmückendes Beiwerk ist, sondern sich ohne Weiteres weder
austauschen noch überhaupt entfernen lässt und den Benutzer in
seinen Möglichkeiten einschränkt. Die Verschmelzung von GUI und
Programmfunktionalität dient in erster Linie der einfachen
Bedienbarkeit, was natürlich nichts Schlechtes ist, denn so können
die verschiedenen Teilmodule besser
aufeinander abgestimmt werden.
Unter Umständen

ist es eben sehr praktisch, wenn die GUI gewisse
Informationen von der ausführenden Anwendung erhält.

<div class="p"><!----></div>
Ein wirklich gutes Programm läuft allerdings grundsätzlich ohne
Benutzeroberfläche, ist also auf seine Funktionalität beschränkt. Im
Folgenden sollen die Vorteile von beiden Herangehensweisen mittels
Meldungen an die Benutzeroberfläche verknüpft werden. Solche sind
aber leider nicht immer über die voreingestellten Kanäle 1 und 2
möglich, denn 2 ist wirklich nur für Fehlermeldungen, während 1
gemäß Unix-Philosophie standardmäßig keine Rückmeldung auf den
Bildschirm gibt. Für so eine Aufgabe sind zusätzliche
Dateideskriptoren vorteilhaft.

<div class="p"><!----></div>
Als Beispiel soll ein Programm <b><tt style="font-size: 1.3em;">copy.sh</tt></b> betrachtet werden, dass
eine einzelne Datei kopiert, d.&nbsp;h., einen Spezialfall von <b><tt style="font-size: 1.3em;">cp</tt></b>
darstellt. Es könnte in etwa so aussehen:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
#!/bin/bash

size=$(stat&nbsp;-c%s&nbsp;"$1")
if&nbsp;[&nbsp;$size&nbsp;-lt&nbsp;9900&nbsp;];&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;cp&nbsp;"$1"&nbsp;"$2"
&nbsp;&nbsp;&nbsp;&nbsp;exit&nbsp;0;
fi

exec&nbsp;3&lt;"$1"&nbsp;4&#62;"$2"

puffer=$(($size/100))
for&nbsp;((i=0;&nbsp;i&nbsp;&lt;=&nbsp;100;&nbsp;i++))&nbsp;do
&nbsp;&nbsp;&nbsp;&nbsp;&lt;&amp;3&nbsp;head&nbsp;-c&nbsp;$puffer&nbsp;&#62;&amp;4
&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;echo&nbsp;$i&nbsp;&#62;&amp;7;&nbsp;}&nbsp;2&#62;/dev/null
done

exec&nbsp;3&lt;&amp;-&nbsp;4&#62;&amp;-
</pre>

<div class="p"><!----></div>
<i>Listing: <a href="http://www.freiesmagazin.de/mobil/2011-03-listings/copy.sh">copy.sh</a></i>

<div class="p"><!----></div>
Der <b><tt style="font-size: 1.3em;">head</tt></b>-Befehl kopiert die Quelle immer blockweise ins Ziel,
kleine Dateien werden hingegen auf einmal kopiert. Interessant ist
Zeile 14, sie liefert über Kanal 7 eine Fortschrittsanzeige des
laufenden Prozesses in Prozent. An dieser Stelle wurde auch noch
etwas getrickst, denn normalerweise muss dieser neue Deskriptor erst
definiert werden. Stattdessen wird die Fehlermeldung

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
bash:&nbsp;7:&nbsp;Bad&nbsp;file&nbsp;descriptor
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
direkt nach <b><tt style="font-size: 1.3em;">/dev/null</tt></b> geleitet.

<div class="p"><!----></div>
Das Skript kann mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;./copy.sh&nbsp;quelldatei&nbsp;zieldatei
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
ausgeführt werden und beendet sich im Erfolgsfall wie gewünscht
still und leise, genau wie <b><tt style="font-size: 1.3em;">cp</tt></b>. Wer den Code ausprobieren möchte,
muss bedenken, dass die Anwendung aus didaktischen Gründen sehr
einfach gehalten ist und daher auf einige Sicherheitsabfragen und
Komfort verzichtet, die Quelldatei muss beispielsweise existieren.

<div class="p"><!----></div>
Zur Erstellung einer (in diesem Fall recht rudimentären) grafischen
Oberfläche kann man Zenity&nbsp;<a href="http://wiki.ubuntuusers.de/Zenity">[17]</a>
verwenden, welches einfache Dialoge und Fenster bietet und unter
GNOME meist vorinstalliert ist (siehe „Zenity und KDialog“,
<b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> 03/2007&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2007-03">[18]</a>).
Somit enthält das Skript <b><tt style="font-size: 1.3em;">copy_gui.sh</tt></b> lediglich:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
#!/bin/bash

exec&nbsp;7&#62;/dev/null
./copy.sh&nbsp;"$1"&nbsp;"$2"&nbsp;7&#62;&amp;1&nbsp;|&nbsp;zenity&nbsp;--progress
exec&nbsp;7&#62;&amp;-
</pre>

<div class="p"><!----></div>
<i>Listing: <a href="http://www.freiesmagazin.de/mobil/2011-03-listings/copy_gui.sh">copy_gui.sh</a></i>

<div class="p"><!----></div>
Die Prozentzahlen werden von Kanal 7 entgegengenommen, an die
Standardausgabe geleitet und über eine anonyme Pipe an Zenity
weitergegeben, das – mit den richtigen Optionen aufgerufen – den
Rest erledigt. Der Aufruf ist wie eben

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;./copy_gui.sh&nbsp;quelldatei&nbsp;zieldatei
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Bei großen Dateien sieht man nun sehr gut die Fortschrittsanzeige
des Kopiervorgangs. Das KDE-Pendant zu Zenity ist im Übrigen
KDialog, entsprechend müsste die entscheidende Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
./copy.sh&nbsp;"$1"&nbsp;"$2"&nbsp;7&#62;&amp;1&nbsp;|&nbsp;kdialog&nbsp;--progressbar
</pre>

<div class="p"><!----></div>
lauten.

<div class="p"><!----></div>
Auch C kann mit der Funktion

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
int&nbsp;write(int&nbsp;fd,&nbsp;const&nbsp;void&nbsp;*puffer,&nbsp;size_t&nbsp;bytezahl)
</pre>

<div class="p"><!----></div>
direkt einen beliebigen Dateideskriptor anschreiben, z. B. Kanal 8 per

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
write(8,&nbsp;"Hallo\n",&nbsp;6);
</pre>

<div class="p"><!----></div>
Es ist in C++ mit der richtigen Bibliothek&nbsp;<a href="http://www.josuttis.com/cppcode/boost/fdstream.hpp">[19]</a> sogar möglich,
aus einem gegebenen Kanal das zugehörige stream-Objekt zu bestimmen,
daher entspricht der Codeschnipsel

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
fdostream&nbsp;output(8);
output&nbsp;&lt;&lt;&nbsp;"Hallo\n";
</pre>

<div class="p"><!----></div>
dem obigen.

<div class="p"><!----></div>

<h3>TCP-Verbindungen offenhalten</h3>

<div class="p"><!----></div>
Unter Unix ist <em>alles</em> eine Datei – Laufwerke, Geräte und sogar
Dateideskriptoren sowie TCP- und UDP-Verbindungen. Daher ist

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;date&nbsp;&#62;&amp;5
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
identisch zu

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;date&nbsp;&#62;/dev/fd/5
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
und

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;echo&nbsp;message&nbsp;&#62;/dev/tcp/host/port
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
schickt eine Nachricht an einen Port eines bestimmten Hosts, z.&nbsp;B.
einer Internetadresse. Die Shell kümmert sich dabei automatisch um
den Verbindungsaufbau, Datenübertragung und abschließenden
Verbindungsabbau. Man beachte, dass schon der Ordner <b><tt style="font-size: 1.3em;">tcp</tt></b> gar nicht
existiert, man also den größten Teil des Pfades manuell, d.&nbsp;h. ohne
Autovervollständigung, eingeben muss&nbsp;<a href="http://www.gnu.org/software/bash/manual/bashref.html#Redirections">[20]</a>.

<div class="p"><!----></div>
    Zum Testen kann man dafür die Netcat-Programme verwenden, die über
das Paket <b>nmap</b> installiert werden.


<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;nc&nbsp;-l&nbsp;5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
startet einen Server, der nun auf eine eingehende Verbindungen wartet, während

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;cat&nbsp;&#62;/dev/tcp/localhost/5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
in einer anderen Konsole desselben Rechners eine Nachricht an diesen
sendet. Oder von ihm empfängt:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;read&nbsp;&lt;/dev/tcp/localhost/5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Auf der Serverseite kann man nun eine Zeile absenden und sie sich
mit <b><tt style="font-size: 1.3em;">echo $REPLY</tt></b> beim Client ansehen. Nachteilhaft ist hier, dass
die Verbindung jeweils nach einer Datenübertragung sofort beendet
wird. Abhilfe schafft

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;4&#62;/dev/tcp/localhost/5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
auf Seiten des Clients.
Da TCP nach erfolgreichem Verbindungsaufbau nicht mehr zwischen
Server und Client unterscheidet, sind statt <b><tt style="font-size: 1.3em;">&#62;</tt></b> auch die spitzen
Klammern <b><tt style="font-size: 1.3em;">&lt;</tt></b> oder gar <b><tt style="font-size: 1.3em;">&lt;&#62;</tt></b> möglich. Nun ist die Verbindung an
Dateideskriptor 4 gebunden und es können beliebig viele Daten
ausgetauscht werden; beendet wird erst mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;4&#62;&amp;-
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Statt TCP ist auch UDP als Protokoll möglich.

<div class="p"><!----></div>

<h3>Dateien offenhalten</h3>

<div class="p"><!----></div>
Generell werden mit Handles also Schreib- und Lesezugriffe von
Prozessen auf gewisse Datenströme – meistens eben Dateien –
offen gehalten. Als letzte Verdeutlichung betrachte man noch den
Löschbefehl&nbsp;<a href="http://de.wikipedia.org/wiki/Rm_(Unix)">[21]</a>. <b><tt style="font-size: 1.3em;">rm</tt></b> ist von
allen Befehlen unter Unix sicherlich einer der erstaunlichsten:
Vielen mag bekannt sein, dass Dateien nicht vollständig gelöscht,
sondern der Einfachheit halber nur aus dem Dateisystem entfernt
werden, der eigentliche Inhalt wird bei späteren Schreibzugriffen
zufällig überschrieben. Viel interessanter ist aber das Verhalten
bei Dateien, auf die noch ein Deskriptor gesetzt ist: Zunächst wird
dann nur der Verzeichniseintrag gelöscht, der belegte Speicherplatz
wird aber vom Betriebssystem erst freigegeben, wenn der Deskriptor
geschlossen wird. Bis dahin können die Daten noch ausgelesen werden.
Dieses Verhalten macht sich beispielsweise dadurch bemerkbar, dass
man eine Mediendatei noch abspielen kann, obwohl sie bereits
verschoben oder gar gelöscht ist.

<div class="p"><!----></div>
Möchte man eine Datei einlesen, verarbeiten und unter demselben
Namen abspeichern, lässt sich dieser Effekt geschickt einsetzen. Ein

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;infos&nbsp;head&nbsp;-n&nbsp;2&nbsp;&#62;infos
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
wird wahrscheinlich scheitern, da <b><tt style="font-size: 1.3em;">infos</tt></b> vor der Prozessausführung
vom Schreibvorgang geleert wird. Stattdessen könnte man verwenden:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;exec&nbsp;3&lt;infos
$&nbsp;rm&nbsp;infos
$&nbsp;&lt;&amp;3&nbsp;head&nbsp;-n&nbsp;2&nbsp;&#62;infos
$&nbsp;exec&nbsp;3&lt;&amp;-
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Diese Befehlsabfolge ist allerdings eher ein Trick und nicht
unbedingt für die Anwendung geeignet, kürzer und naheliegender
erscheint nämlich die Alternative

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;infos&nbsp;head&nbsp;-n&nbsp;2&nbsp;&#62;tempfile
$&nbsp;mv&nbsp;tempfile&nbsp;infos
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
die jedoch das theoretische Problem mit sich bringt, dass <b><tt style="font-size: 1.3em;">tempfile</tt></b>
eine schon existierende Datei überschreiben könnte – zur Absicherung
wäre tatsächlich also doch noch mehr Aufwand nötig. Darüber hinaus
kann man durch Streichen von <b><tt style="font-size: 1.3em;">exec 3&lt;&amp;-</tt></b> erreichen, dass man zu
einem beliebigen späteren Zeitpunkt auf die Ursprungsdatei zugreifen
und etwa mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;&amp;3&nbsp;head&nbsp;-n&nbsp;2
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
die nächsten beiden Zeilen auslesen kann.

<div class="p"><!----></div>

<h2>Benannte Pipes</h2>

<div class="p"><!----></div>
Pipes sind unidirektional und bieten, da Shell-Kommandos von links
nach rechts abgearbeitet werden, keine Möglichkeit, Ergebnisse „nach
vorne“ zurückzureichen. Außerdem gelten anonyme Pipes nur zwischen
Eltern- und Kindprozessen, beide müssen also vereinfacht gesagt in
„derselben Zeile“ gestartet werden. Eine Lösung dieser Probleme sind
„benannte Pipes“, auch FIFOs genannt (englisch: Named
Pipes)&nbsp;<a href="http://linuxreviews.org/man/fifo/index.html.de">[22]</a>. Trotz ihrer
geringen Bekanntheit eignen sie sich optimal für IPC im lokalen
Netz, auch auf Grund ihrer leichten Handhabbarkeit.

<div class="p"><!----></div>
Eine FIFO wird mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;mkfifo&nbsp;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
erzeugt und erscheint einem fast wie jede andere Datei: Sie kann
kopiert, verschoben, umbenannt und gelöscht werden, besitzt
Zugriffsrechte usw. Bei einer Auflistung via <b><tt style="font-size: 1.3em;">ls -l npipe</tt></b> fällt
allerdings schon der Dateityp „p“ auf&nbsp;<a href="http://wiki.ubuntuusers.de/Rechte#Dateitypen">[23]</a>.
Der Inhalt einer FIFO befindet sich allein im Arbeitsspeicher, im
Dateisystem wird ihre Größe immer mit Null angezeigt. Außerdem
benötigt sie, um Daten halten zu können, zumindest einen lesenden
oder einen schreibenden Prozess.

<div class="p"><!----></div>
Ein Beispiel fürs Verständnis:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;echo&nbsp;Hallo&nbsp;Welt&nbsp;&#62;&nbsp;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
schiebt eine Zeichenkette in die FIFO. An dieser Stelle kann man
zunächst keinen weiteren Befehl eingeben, denn benannte Pipes
arbeiten grundsätzlich <em>blockierend</em>. Das heißt, obwohl der
<b><tt style="font-size: 1.3em;">echo</tt></b>-Befehl nach seiner Ausführung eine EOF-Bedingung erfüllt, darf
der Schreibvorgang nicht beendet oder beispielsweise mit <i>„Strg“</i>&nbsp;+&nbsp;<i>„C“</i>
gar vorzeitig abgebrochen werden, denn dann gingen die Daten
verloren. Stattdessen muss man von einer anderen Konsole aus die
Eingabe auslesen, etwa mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;more&nbsp;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Interessanterweise können die beiden Befehle sogar in umgekehrter
Reihenfolge gestartet werden. Die FIFO blockiert lesenden und
schreibenden Prozess so lange, bis über sie eine Verbindung zwischen
den beiden hergestellt ist und alle Zeichen übertragen werden
können. Eine einmal aufgebaute Verbindung darf dabei

nicht vom Leser
abgebrochen werden, da dann die Pipe zerstört wird und alle noch
gehaltenen Informationen verloren gehen.

<div class="p"><!----></div>

<h3>Bidirektionale Interprozesskommunikation</h3>

<div class="p"><!----></div>
Zwei Programme, die jeweils von der Standardeingabe lesen und auf
die Standardausgabe schreiben, können so über eine benannte Pipe
sehr effizient kommunizieren. Eigentlich erforderte jede
Kommunikationsrichtung eine FIFO, aber zusammen mit einer anonymen
Pipe genügt

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;npipe&nbsp;programm1&nbsp;|&nbsp;programm2&nbsp;&#62;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Die Kommunikation könnte man darüber hinaus noch mit einem

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;echo&nbsp;"erster&nbsp;Wert"&nbsp;&#62;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
anstoßen. Sobald npipe vom einen Prozess Daten erhält, leitet sie
sie an den anderen weiter. Es gibt keine Endlosschleife, die
permanent überprüft, ob Daten vorliegen, und auch das Ende der
Kommunikation wird durch das Schließen der schreibenden Seite
automatisch angezeigt und erscheint der lesenden wie das Ende einer
regulären Datei. Auch der Fall, dass eventuell zu viele Daten
vorliegen, die nicht so schnell vom Leser verarbeitet werden können,
stellt kein Problem dar, denn dann wird schlicht der schreibende
Prozess blockiert. Das bedeutet, benannte Pipes bringen naturgemäß
eine Flusskontrolle mit sich, im Übrigen genau wie anonyme. Der
Pufferspeicher ist für beide unter Linux allerdings sehr beschränkt,
bei größeren Datenmengen

wird daher meist auf die Methode des
Blockierens zurückgegriffen.

<div class="p"><!----></div>
Da die stattgefundene IPC zwischen den Programmen nicht auf der
Konsole sichtbar ist, empfiehlt sich zusätzlich noch der Befehl
<b><tt style="font-size: 1.3em;">tee</tt></b>. Er leitet nicht nur die Standardein- an die -ausgabe weiter,
sondern kopiert sie außerdem noch in alle Dateien, die <b><tt style="font-size: 1.3em;">tee</tt></b> als
Argumente übergeben bekommt:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;&lt;npipe&nbsp;programm1&nbsp;|&nbsp;tee&nbsp;log_1zu2&nbsp;|&nbsp;programm2&nbsp;|&nbsp;tee&nbsp;log_2zu1&nbsp;&#62;npipe
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Mit der Option <b><tt style="font-size: 1.3em;">-a</tt></b> kann <b><tt style="font-size: 1.3em;">tee</tt></b> den Datenstrom auch an bestehende
Dateien anhängen, statt sie zu überschreiben.

<div class="p"><!----></div>
Benannte wie auch anonyme Pipes können in C und anderen höheren
Programmiersprachen direkt erzeugt und verwaltet werden&nbsp;<a href="http://de.wikipedia.org/wiki/Pipe_(Informatik)">[1]</a>&nbsp;<a href="http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5.shtml">[24]</a>&nbsp;<a href="http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5b.shtml">[25]</a>.

<div class="p"><!----></div>

<h3>Prozesssubstitution</h3>

<div class="p"><!----></div>
Aber damit noch nicht genug. Wie bereits erläutert stellen die
geschweiften Klammern in der Unix-Shell die logische Kapselung von
Befehlen dar. Im Gegensatz dazu erzeugen die runden Klammern eine
eigene Subshell, in der beispielsweise eigene lokale Variablen
gelten. Man vergleiche nur

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;katze=Felix
$&nbsp;(&nbsp;katze=Mauzi;&nbsp;echo&nbsp;$katze&nbsp;)
Mauzi
$&nbsp;echo&nbsp;$katze
Felix
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
mit einem anschließenden

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;{&nbsp;katze=Minka;&nbsp;echo&nbsp;$katze;&nbsp;}
Minka
$&nbsp;echo&nbsp;$katze
Minka
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Die Bash verknüpft Subshells auf eine wirklich clevere Weise mit
FIFOs: Setzt man eine spitze Klammer ohne Leerzeichen vor eine
Subshell, gibt sie stattdessen an die äußeren Befehle den Namen
einer temporären FIFO zurück, aus der Daten ausgelesen oder in die
welche geschrieben werden, je nachdem, ob man <b><tt style="font-size: 1.3em;">&lt;</tt></b> oder <b><tt style="font-size: 1.3em;">&#62;</tt></b> setzt. Die
Subshell wiederum liefert oder empfängt die Daten über ihre
Standardaus- oder -eingabe.

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;cmp&nbsp;&lt;(ls&nbsp;/ordner1)&nbsp;&lt;(ls&nbsp;/ordner2)
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
überprüft somit, ob zwei Ordner die gleichen Dateinamen beinhalten.
„Prozesssubstitution“&nbsp;<a href="http://tldp.org/LDP/abs/html/process-sub.html">[26]</a>
ist also immer dann hilfreich, wenn Dateien als Datenquelle oder
-senke zwingend erforderlich sind und abgesehen von dieser Einschränkung
an Ort und Stelle weiterverarbeitet werden können.
Möchte man eine Eingabe vervielfachen, um damit verschiedene Befehle
abzuarbeiten, ginge etwa

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ls&nbsp;|&nbsp;tee&nbsp;&#62;(grep&nbsp;foo&nbsp;|&nbsp;wc&nbsp;&#62;foo.count)&nbsp;&#62;(grep&nbsp;bar&nbsp;|&nbsp;wc&nbsp;&#62;bar.count)&nbsp;|&nbsp;grep&nbsp;baz&nbsp;|&nbsp;wc&nbsp;&#62;baz.count
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h3>Anwendung: Programmierwettbewerb</h3>

<div class="p"><!----></div>
Die bisherigen Wettbewerbe von <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> erforderten in der
Regel IPC im lokalen Netz. Ein typisches Szenario ist die
Organisation eines Spiels zwischen zwei Clients, also Bots, durch
einen Server. Dieser könnte so konzipiert sein, dass er mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;server&nbsp;input1&nbsp;input2&nbsp;output1&nbsp;output2
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
gestartet wird. Die vier Argumente sind dabei allesamt Ein- oder
Ausgabedateien: <b><tt style="font-size: 1.3em;">input1</tt></b> enthält alle Befehle, die Bot 1 an den
Server schickt, <b><tt style="font-size: 1.3em;">output1</tt></b> alle, die er vom Server erhält; analog
<b><tt style="font-size: 1.3em;">input2</tt></b> und <b><tt style="font-size: 1.3em;">output2</tt></b>. Die Bots selbst empfangen und senden
Nachrichten über die Kanäle 0 und 1, in C++ beispielsweise via
<b><tt style="font-size: 1.3em;">std::cin</tt></b> und <b><tt style="font-size: 1.3em;">std::cout</tt></b>. Mittels Prozesssubstitution können zwei
der vier Datenströme realisiert werden, die anderen beiden benötigen
manuell angelegte FIFOs. Um sicherzustellen, dass man keine
bestehenden Dateien überschreibt, kann man mit <b><tt style="font-size: 1.3em;">mktemp</tt></b> eine
temporäre Datei erzeugen. Da aber gar keine reguläre Datei gewünscht
ist und <b><tt style="font-size: 1.3em;">mktemp</tt></b> den Dateinamen zurückgibt, kann mit der Option <b><tt style="font-size: 1.3em;">-u</tt></b>
auch die eigentliche Erzeugung unterdrückt werden:

<div class="p"><!----></div>

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;pipe1=$(mktemp&nbsp;-u);&nbsp;pipe2=$(mktemp&nbsp;-u);
$&nbsp;mkfifo&nbsp;$pipe1&nbsp;$pipe2
$&nbsp;server&nbsp;&lt;(&lt;$pipe1&nbsp;bot1)&nbsp;&lt;(&lt;$pipe2&nbsp;bot2)&nbsp;$pipe1&nbsp;$pipe2
$&nbsp;rm&nbsp;$pipe1&nbsp;$pipe2
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Genauso ginge

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;server&nbsp;$pipe1&nbsp;$pipe2&nbsp;&#62;(bot1&nbsp;&#62;$pipe1)&nbsp;&#62;(bot2&nbsp;&#62;$pipe2)
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Die Idee lässt sich offensichtlich auf beliebig viele Clients
verallgemeinern. Der Durchlauf könnte auch noch mit <b><tt style="font-size: 1.3em;">tee</tt></b> geloggt
werden, oder aber der Server speichert die Konversation oder
zumindest die Spielergebnisse selbstständig ab.

<div class="p"><!----></div>
Die Vorteile dieses Verfahrens sind offensichtlich:

<div class="p"><!----></div>

<ul>
<li> Die Programmierung der Bots ist so am einfachsten, denn in
praktisch jeder Programmiersprache sind die Dateideskriptoren 0 und
1 sehr leicht ansprechbar.
<div class="p"><!----></div>
</li>

<li> Die Bots sind auf ihre Funktionalität beschränkt, was auch einem
guten Programmierstil entspricht. Schließlich weiß man nie, in
welcher Umgebung sie später eingesetzt werden.
<div class="p"><!----></div>
</li>

<li> Gleiches gilt natürlich auch für den Server.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
FIFOs erlauben auch mehrere schreibende Prozesse, der Server bekommt
dann allerdings nicht automatisch die Information mitgeliefert, von
welchem Client die Nachricht stammt. Theoretisch sind sogar mehrere
lesende Prozesse möglich, was aber nur selten sinnvoll ist, da mit
jeder Leerung des Puffers nur <em>ein</em> Empfänger die Daten erhält – und
zwar ein zufälliger.

<div class="p"><!----></div>

<h2>Sockets</h2>

<div class="p"><!----></div>
Muss ein Bot nun doch über das lokale Netz hinaus aktiv werden, so
empfiehlt sich statt einer aufwändigen Änderung des Quellcodes die
Verwendung eines externen Programms. Der Befehl <b><tt style="font-size: 1.3em;">ncat</tt></b>, ebenfalls im Paket <b>nmap</b> enthalten,
bietet dafür die Option <b><tt style="font-size: 1.3em;">-e</tt></b>, die alle Ein- und Ausgaben eines
Programms mit der von <b><tt style="font-size: 1.3em;">ncat</tt></b> verwalteten Netzverbindung verdrahtet.
Zur Veranschaulichung hilft wieder ein kleines Beispiel: Nach dem
Start eines Servers mit

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;nc&nbsp;-l&nbsp;5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
initiiert der Befehl

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ncat&nbsp;-e&nbsp;bot&nbsp;localhost&nbsp;5555
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
in einer anderen Konsole desselben Rechners die TCP-Verbindung. Auf
der Serverseite kann man nun Befehle manuell eingeben. Statt
<b><tt style="font-size: 1.3em;">localhost</tt></b> ist natürlich auch hier eine beliebige Internetadresse
möglich.

<div class="p"><!----></div>
Für kompliziertere Aufgaben – mehrere Bots, ein automatisierter
Server – genügt die Konsole allerdings nicht mehr. Hier hilft nur
noch Socketprogrammierung. Auf Grund der Komplexität dieses Themas
wird nur auf die vielen Hilfen des Internets wie etwa
zotteljedi.de&nbsp;<a href="http://www.zotteljedi.de/socket-tipps/">[27]</a> verwiesen und
in diesem Artikel nicht weiter darauf eingegangen. Wichtig ist aber,
dass unter Unix tatsächlich auch der Dateityp „Socket“ zur Verfügung
steht. Liegt bereits ein fertiger Server wie oben vor, der Ein- und
Ausgabedateien liest, kann man folglich statt regulären Dateien und
statt FIFOs auch diese Sockets verwenden. Unter Unix ist eben
wirklich alles eine Datei. Allerdings muss man dann beachten, dass
Sockets grundsätzlich bidirektional arbeiten – ein weiterer Vorteil
gegenüber Pipes.

<div class="p"><!----></div>

<h2>Dateien im Arbeitsspeicher</h2>

<div class="p"><!----></div>
Was ist nun aber, wenn man einen Datenstrom nicht sofort verarbeiten
kann oder will oder aber mehrmals benötigt, wenn also reguläre
Dateien alternativlos sind? Für diesen Fall gibt es das „Temporary
File System“ <b><tt style="font-size: 1.3em;">tmpfs</tt></b>&nbsp;<a href="http://de.wikipedia.org/wiki/Tmpfs">[28]</a>, das unter
jedem moderneren Linux bei <b><tt style="font-size: 1.3em;">/dev/shm</tt></b> eingebunden ist. Dessen Inhalt
liegt komplett im Arbeitsspeicher, sodass I/O-Operationen sehr
schnell ablaufen. Der Ordner <b><tt style="font-size: 1.3em;">/dev/shm</tt></b> funktioniert grundsätzlich
wie jeder andere, er kann Verzeichnisse und Dateien enthalten, die
gelesen, kopiert und gelöscht werden können. Nur muss man sich im
Klaren darüber sein, dass bei einem Neustart alles verloren geht.
Außerdem ist die Größe dieses Laufwerks beschränkt, sie liegt
standardmäßig bei der Hälfte des Arbeitsspeichers. Der genaue Wert
ergibt sich aus

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;df&nbsp;-h&nbsp;/dev/shm
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Dieser Speicher ist aber rein virtuell, tatsächlich reserviert ist
nur der RAM, der auch wirklich von Dateien belegt ist und damit
gebraucht wird. Dies ist der entscheidende Unterschied zur
RAM-Disk&nbsp;<a href="http://de.wikipedia.org/wiki/RAM-Disk">[29]</a>, die ihrerseits aber
den Vorteil der Betriebssystemunabhängigkeit besitzt. Eine Änderung
der Größe bzw. der maximalen Größe von <b><tt style="font-size: 1.3em;">tmpfs</tt></b> ist möglich:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
#&nbsp;mount&nbsp;-o&nbsp;remount,size=3G&nbsp;/dev/shm
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
Auch wenn notfalls Speicher auf die Swap-Partition ausgelagert wird,
sollte man an dieser Stelle allerdings wissen, was man tut, da
falscher Gebrauch zu Systeminstabilität führen kann.

<div class="p"><!----></div>
Temporäre, oft gebrauchte Dateien können somit effizient
zwischengespeichert werden&nbsp;<a href="http://www.howtoforge.de/howto/lagern-von-dateienverzeichnissen-im-arbeitsspeicher-mit-tmpfs/">[30]</a>.

<div class="p"><!----></div>

<h2>Fazit</h2>

<div class="p"><!----></div>
Programme werden so entworfen, dass sie mit anderen Programmen
verknüpft werden können, und sie verarbeiten Textströme, denn dies
ist die universelle Schnittstelle – mit solchen simplen Regeln wurde
einst der Startschuss für die verschiedenen Formen der
Interprozesskommunikation gegeben. Als Anwender muss man abhängig
von der Situation jeweils nur die geeignetste wählen und hat die
Möglichkeit, eigene Skripte und Programme modular aufzubauen, Code
und andere Programme wiederzuverwenden und so effizient Kosten
einzusparen.

<div class="p"><!----></div>
Dateideskriptoren handhaben nicht nur multiple Datenströme, sondern
fassen auch alle Arten von Ein- und Ausgabe einheitlich und intuitiv
zusammen. Dies ist sonst nur aus C++ bekannt, wo Datenquellen und
-senken gleichförmig mit <b><tt style="font-size: 1.3em;">&#62;&#62;</tt></b> und <b><tt style="font-size: 1.3em;">&lt;&lt;</tt></b> angesprochen werden. Damit bietet
die Unix-Shell eine hohe Skalierbarkeit von Code, obwohl sie nur eine
Skriptsprache ist, und verspricht vielseitige Anwendungen vom
Programmierwettbewerb bis hin zu professionellen High-End-Produkten.
Denn in unixoiden Betriebssystemen beziehen sich Dateideskriptoren
nicht nur, wie ihr Name sagt, auf reguläre Dateien, sondern auch auf
Verzeichnisse, block- und zeichenorientierte Geräte, Sockets sowie
anonyme und benannte Pipes.

<div class="p"><!----></div>
Wer alle diese Möglichkeiten der Shell zu nutzen weiß, wird
sicherlich der Aussage von
Dennis Ritchie,
Programmierer und Miterfinder von Unix, zustimmen: „<em>Unix ist
einfach. Es erfordert lediglich ein Genie, um seine Einfachheit zu
verstehen.</em>“&nbsp;<a href="http://www.brainyquote.com/quotes/authors/d/dennis_ritchie.html">[31]</a>

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://de.wikipedia.org/wiki/Pipe_(Informatik)"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Pipe_(Informatik)</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://de.wikipedia.org/wiki/Interprozesskommunikation"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Interprozesskommunikation</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://de.wikipedia.org/wiki/Unix-Philosophie"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Unix-Philosophie</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://sites.inka.de/mips/unix/unixphil.html"><tt style="font-size: 1.3em;">http://sites.inka.de/mips/unix/unixphil.html</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.freiesmagazin.de/freiesMagazin-2010-09"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2010-09</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://de.wikibooks.org/wiki/Linux-Kompendium:_Shellprogrammierung"><tt style="font-size: 1.3em;">http://de.wikibooks.org/wiki/Linux-Kompendium:_Shellprogrammierung</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://wiki.ubuntuusers.de/Shell/Tipps_und_Tricks"><tt style="font-size: 1.3em;">http://wiki.ubuntuusers.de/Shell/Tipps_und_Tricks</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://en.wikipedia.org/wiki/Here_document"><tt style="font-size: 1.3em;">http://en.wikipedia.org/wiki/Here_document</tt></a><br />

<div class="p"><!----></div>
[9] <a href="http://de.wikipedia.org/wiki/End_of_File"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/End_of_File</tt></a><br />

<div class="p"><!----></div>
[10] <a href="http://www.faqs.org/docs/abs/HTML/here-docs.html"><tt style="font-size: 1.3em;">http://www.faqs.org/docs/abs/HTML/here-docs.html</tt></a><br />

<div class="p"><!----></div>
[11] <a href="http://tldp.org/LDP/abs/html/x17471.html"><tt style="font-size: 1.3em;">http://tldp.org/LDP/abs/html/x17471.html</tt></a><br />

<div class="p"><!----></div>
[12] <a href="http://en.wikipedia.org/wiki/File_descriptor"><tt style="font-size: 1.3em;">http://en.wikipedia.org/wiki/File_descriptor</tt></a><br />

<div class="p"><!----></div>
[13] <a href="http://de.wikipedia.org/wiki/Portable_Operating_System_Interface"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Portable_Operating_System_Interface</tt></a><br />

<div class="p"><!----></div>
[14] <a href="http://tldp.org/LDP/abs/html/io-redirection.html"><tt style="font-size: 1.3em;">http://tldp.org/LDP/abs/html/io-redirection.html</tt></a><br />

<div class="p"><!----></div>
[15] <a href="http://www.faqs.org/docs/abs/HTML/zeros.html"><tt style="font-size: 1.3em;">http://www.faqs.org/docs/abs/HTML/zeros.html</tt></a><br />

<div class="p"><!----></div>
[16] <a href="http://www.linuxtopia.org/online_books/advanced_bash_scripting_guide/x13082.html"><tt style="font-size: 1.3em;">http://www.linuxtopia.org/online_books/advanced_bash_scripting_guide/x13082.html</tt></a><br />

<div class="p"><!----></div>
[17] <a href="http://wiki.ubuntuusers.de/Zenity"><tt style="font-size: 1.3em;">http://wiki.ubuntuusers.de/Zenity</tt></a><br />

<div class="p"><!----></div>
[18] <a href="http://www.freiesmagazin.de/freiesMagazin-2007-03"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2007-03</tt></a><br />

<div class="p"><!----></div>
[19] <a href="http://www.josuttis.com/cppcode/boost/fdstream.hpp"><tt style="font-size: 1.3em;">http://www.josuttis.com/cppcode/boost/fdstream.hpp</tt></a><br />

<div class="p"><!----></div>
[20] <a href="http://www.gnu.org/software/bash/manual/bashref.html#Redirections"><tt style="font-size: 1.3em;">http://www.gnu.org/software/bash/manual/bashref.html#Redirections</tt></a><br />

<div class="p"><!----></div>
[21] <a href="http://de.wikipedia.org/wiki/Rm_(Unix)"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Rm_(Unix)</tt></a><br />

<div class="p"><!----></div>
[22] <a href="http://linuxreviews.org/man/fifo/index.html.de"><tt style="font-size: 1.3em;">http://linuxreviews.org/man/fifo/index.html.de</tt></a><br />

<div class="p"><!----></div>
[23] <a href="http://wiki.ubuntuusers.de/Rechte#Dateitypen"><tt style="font-size: 1.3em;">http://wiki.ubuntuusers.de/Rechte#Dateitypen</tt></a><br />

<div class="p"><!----></div>
[24] <a href="http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5.shtml"><tt style="font-size: 1.3em;">http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5.shtml</tt></a><br />

<div class="p"><!----></div>
[25] <a href="http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5b.shtml"><tt style="font-size: 1.3em;">http://pronix.linuxdelta.de/C/Linuxprogrammierung/Linuxsystemprogrammieren_C_Kurs_Kapitel5b.shtml</tt></a><br />

<div class="p"><!----></div>
[26] <a href="http://tldp.org/LDP/abs/html/process-sub.html"><tt style="font-size: 1.3em;">http://tldp.org/LDP/abs/html/process-sub.html</tt></a><br />

<div class="p"><!----></div>
[27] <a href="http://www.zotteljedi.de/socket-tipps/"><tt style="font-size: 1.3em;">http://www.zotteljedi.de/socket-tipps/</tt></a><br />

<div class="p"><!----></div>
[28] <a href="http://de.wikipedia.org/wiki/Tmpfs"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Tmpfs</tt></a><br />

<div class="p"><!----></div>
[29] <a href="http://de.wikipedia.org/wiki/RAM-Disk"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/RAM-Disk</tt></a><br />

<div class="p"><!----></div>
[30] <a href="http://www.howtoforge.de/howto/lagern-von-dateienverzeichnissen-im-arbeitsspeicher-mit-tmpfs/"><tt style="font-size: 1.3em;">http://www.howtoforge.de/howto/lagern-von-dateienverzeichnissen-im-arbeitsspeicher-mit-tmpfs/</tt></a><br />

<div class="p"><!----></div>
[31] <a href="http://www.brainyquote.com/quotes/authors/d/dennis_ritchie.html"><tt style="font-size: 1.3em;">http://www.brainyquote.com/quotes/authors/d/dennis_ritchie.html</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Frank Stähr</b>
nutzt Linux seit 2005 und benötigt es vor allem für sein
Studium, da es die umfassendsten Werkzeuge für wissenschaftliches
Arbeiten bietet. Mit Interprozesskommunikation musste er sich
kürzlich näher beschäftigen.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Datenstr%C3%B6me, Dateideskriptoren und Interprozesskommunikation#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_kernel">Der Februar im Kernelrückblick</a><a name="11_03_kernel">
</a></font></h1>von Mathias Menzer        <b>B</b><b>asis aller Distributionen ist der Linux-Kernel, der
fortwährend weiterentwickelt wird. Welche Geräte in einem halben
Jahr unterstützt werden und welche Funktionen neu hinzukommen,
erfährt man, wenn man den aktuellen Entwickler-Kernel im Auge
behält.</b>

<div class="p"><!----></div>

<div class="p"><!----></div>

<h2>Linux 2.6.38</h2>

<div class="p"><!----></div>
2.6.38-rc4&nbsp;<a href="http://lkml.org/lkml/2011/2/7/403">[1]</a> fiel mit nur wenig mehr als 4000 geänderten Code-Zeilen äußerst klein aus, vermutlich eine Nachwirkung der eine Woche zuvor zu Ende gegangenen australischen Linux-Konferenz linux.conf.au, bei der einige Entwickler gebunden waren. So hatte diese Version außer kleineren Korrekturen kaum etwas zu bieten.

<div class="p"><!----></div>
Die fünfte Vorabversion&nbsp;<a href="http://lkml.org/lkml/2011/2/15/977">[2]</a> war jedoch bereits wieder größer und auch interessanter: Die im November begonnene Aufräumaktion (siehe „Der November im Kernelrückblick“, <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> 12/2010&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2010-12">[3]</a>) im Bereich der Treiber für zeichenorientierte Geräte („Character Devices“) wurde fortgesetzt. Nachdem Mitte Januar einige bereits in die tty-Umgebung ausgelagerte Komponenten wieder zurückgeholt wurden, buk man erst einmal wieder kleinere Brötchen mit der Auslagerung des virtio_console-Treibers in den Bereich der Terminal-Schnittstelle tty. Ganz so klein waren die Brötchen dann doch nicht, denn diese Aktion trug durch die Größe des Treibers ganz schön auf und stach damit aus den anderen Änderungen deutlich heraus, genauso wie die Verlagerung eines Teils der Dokumentation aus dem PowerPC-Bereich in den architekturunspezifischen Devicetree („Geräte-Baum)“. Die Hoffnung auf die endgültige Beseitigung eines Problems mit der neuen Funktion „RCU filename lookup“ zerschlug sich schon wenige Stunden nach Veröffentlichung des -rc5&nbsp;<a href="http://lkml.org/lkml/2011/2/16/100">[4]</a>.

<div class="p"><!----></div>
Die Version 2.6.38-rc6&nbsp;<a href="http://lkml.org/lkml/2011/2/21/433">[5]</a> fiel wieder kleiner aus, Torvalds hob dann auch nur die Beseitigung eines Speicherfehlers hervor, von dem zwar nur sehr wenige betroffen waren, der jedoch die Entwickler mehrere Wochen in Atem hielt. Daneben wurde noch alter Code aus dem iSCSI-Treiber target entfernt.

<div class="p"><!----></div>
Nachdem Torvalds sich von seiner ersten (und nach seiner eigenen Ansicht auch letzten) „Night before Oscar party“&nbsp;<a href="http://torvalds-family.blogspot.com/2011/02/pearls-before-swine.html">[6]</a> erholt hatte, gab er auch noch 2.6.38-rc7&nbsp;<a href="http://lkml.org/lkml/2011/3/1/407">[7]</a> frei. Diese Version fiel wieder etwas kleiner aus. Den Hauptanteil machten Fehlerkorrekturen aus, zum Beispiel die Rücknahme eines Patches, der bei Operationen mit dem TPM (Trusted Platform Module)&nbsp;<a href="http://de.wikipedia.org/wiki/Trusted_Platform_Module">[8]</a> den Timeout auf den niedrigstmöglichen Wert setzt, wenn er mit 0 angegeben ist. Mit dem Patch sollten Fehler verhindert werden, die zu langen Startzeiten führen können. Der Kernel-Entwickler Ted T'so stieß damit jedoch auf Probleme, als die Operationen des TPM zu schnell auf einen Timeout liefen.
Daneben gab es noch Optimierungen an dem Treiber für Atheros WLAN-Chips ath5k, die ein schnelleres Umschalten der Kanäle ermöglichen. 
<div class="p"><!----></div>

<div class="p"><!----></div>

<h2>Unterstützung für Notebooks von Samsung</h2>

<div class="p"><!----></div>
Greg Kroah-Hartman kündigte auf der Linux Kernel Mailing List die Verfügbarkeit neuer Treiber an, die künftig die Spezialfunktionen aller bekannten Samsung-Notebooks unterstützen&nbsp;<a href="http://www.pro-linux.de/news/1/16690/linux-treiber-fuer-samsung-notebooks.html">[9]</a>. Insbesondere soll damit die Display-Hintergrundbeleuchtung regelbar sein, Tasten für die Steuerung der Leistungsstufen und für Sonderfunktionen nun auch funktionieren und Probleme mit dem Ein-/Ausschaltknopf für die WLAN-Schnittstelle der Vergangenheit angehören. Der Treiber befindet sich derzeit im Kernel-Zweig linux-next und wird voraussichtlich in 2.6.39 aufgenommen werden.

<div class="p"><!----></div>

<h2>Ralink-Treiber</h2>

<div class="p"><!----></div>
Kroah-Hartman war im Februar äußerst umtriebig. Nach einem Besuch bei Ralink in Taiwan kam in die Weiterentwicklung der Treiber für deren WLAN-Chips neuer Schwung&nbsp;<a href="http://www.pro-linux.de/news/1/16692/ralink-vervollstaendigt-linux-wlan-treiber.html">[10]</a>. Derzeit profitiert davon der rt2x00-Treiber, der um Unterstützung für aktuellere Chips erweitert wird.

<div class="p"><!----></div>
Die Ralink-Entwickler werden künftig direkt die Treiber im Kernel pflegen. Bislang oblag dies der Community, Ralink stellte dieser lediglich den Code zur Verfügung. Kroah-Hartman hatte bei seinem Besuch mit den Entwicklern darüber gesprochen, wie eine fruchtbare Zusammenarbeit mit den Kernel-Entwicklern aussehen sollte.

<div class="p"><!----></div>

<div class="p"><!----></div>

    <br /><table align="left" border="1"><tr><td width="0" align="center">

<div style="background: #D8F2FF;">
<b>Kurz erläutert: „Commit, Patch“</b><br />
Änderungen am Quelltext einer Software werden meist als Patch bereitgestellt. Ein Patch enthält die Information, an welcher Stelle im ursprünglichen Quelltext Änderungen vorgenommen werden, sodass nicht die Verteilung des gesamten Quelltextes nach einer Änderung notwendig ist. Versionsverwaltungssysteme nutzen im allgemeinen Patches um Änderungen aufzunehmen und zu verteilen, dadurch kann die Menge der übertragenen Daten zwischen dem zentralen Repository und den lokalen Kopien der Entwickler verringert werden.<br />
Commits beschreiben im Versionsverwaltungssystem Git Änderungen, die gegen einen Zweig (Branch) vorgenommen werden. Dieser enthält Informationen über den Urheber der Änderung, den Einreicher und eine kurze Beschreibung. Dazu kann ein Commit zum einen Patch beinhalten, aber es kann damit auch ein anderer Zweiges mit allen darin enthaltenen Commits wieder dem Hauptentwicklungszweig zugeführt werden, Was auch als Merge bezeichnet wird. Die meisten Commits aus Torvalds Feder zum Beispiel sind Merges, die die Zweige einzelner Entwickler oder ganzer Subsysteme in den offiziellen Kernel zurückführen.

<div class="p"><!----></div>
    </div></td></tr></table><!--hbox-->
<br />
<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://lkml.org/lkml/2011/2/7/403"><tt style="font-size: 1.3em;">http://lkml.org/lkml/2011/2/7/403</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://lkml.org/lkml/2011/2/15/977"><tt style="font-size: 1.3em;">http://lkml.org/lkml/2011/2/15/977</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://www.freiesmagazin.de/freiesMagazin-2010-12"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2010-12</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://lkml.org/lkml/2011/2/16/100"><tt style="font-size: 1.3em;">http://lkml.org/lkml/2011/2/16/100</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://lkml.org/lkml/2011/2/21/433"><tt style="font-size: 1.3em;">http://lkml.org/lkml/2011/2/21/433</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://torvalds-family.blogspot.com/2011/02/pearls-before-swine.html"><tt style="font-size: 1.3em;">http://torvalds-family.blogspot.com/2011/02/pearls-before-swine.html</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://lkml.org/lkml/2011/3/1/407"><tt style="font-size: 1.3em;">http://lkml.org/lkml/2011/3/1/407</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://de.wikipedia.org/wiki/Trusted_Platform_Module"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Trusted_Platform_Module</tt></a><br />

<div class="p"><!----></div>
[9] <a href="http://www.pro-linux.de/news/1/16690/linux-treiber-fuer-samsung-notebooks.html"><tt style="font-size: 1.3em;">http://www.pro-linux.de/news/1/16690/linux-treiber-fuer-samsung-notebooks.html</tt></a><br />

<div class="p"><!----></div>
[10] <a href="http://www.pro-linux.de/news/1/16692/ralink-vervollstaendigt-linux-wlan-treiber.html"><tt style="font-size: 1.3em;">http://www.pro-linux.de/news/1/16692/ralink-vervollstaendigt-linux-wlan-treiber.html</tt></a><br />

<div class="p"><!----></div>
    

<div class="p"><!----></div>
        
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Mathias Menzer</b>
wirft gerne einen Blick auf die Kernel-Entwicklung, um mehr über die
Funktion von Linux zu erfahren und um seine Mitmenschen mit seltsamen
Begriffen und unverständlichen Abkürzungen verwirren zu können.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Der Februar im Kernelr%C3%BCckblick#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
                

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_python6">Python – Teil 6: Datenbank für die Musikverwaltung</a><a name="11_03_python6">
</a></font></h1>von Daniel Nögel        <b>I</b><b>m fünften Teil dieser Reihe (siehe <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>
02/2011&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2011-02">[1]</a>)
wurde die Fehlerbehandlung in Python besprochen. Darüber hinaus
wurde der Grundstein für eine kleine Musikverwaltung gelegt. Bisher
wurden Funktionen implementiert, die ein gegebenes Verzeichnis
rekursiv nach Musikdateien durchsuchen und dann deren ID-Tags
auslesen. In diesem Teil soll die Musikverwaltung um eine
Datenbank erweitert werden, die bequem durchsucht werden kann.</b>

<div class="p"><!----></div>

<h2>Die Datenbank</h2>

<div class="p"><!----></div>
Als Datenbank wird in diesem Fall SQLite eingesetzt&nbsp;<a href="http://www.sqlite.org/">[2]</a>.
Bei SQLite handelt es sich um ein SQL-Datenbanksystem, das ohne
Server-Software auskommt und daher auch neben der
SQLite-Programmbibliothek selbst keine weitere Software auf dem
Zielrechner erfordert. SQLite unterstützt viele SQL-Sprachbefehle,
ist aber in einigen Bereichen simpler gehalten als beispielsweise
MySQL.

<div class="p"><!----></div>
Für die Verwendung in Python muss neben der
SQLite-Programmbibliothek (<b><tt style="font-size: 1.3em;">sqlite3</tt></b>) noch die entsprechende
Python-Schnittstelle installiert werden. Diese findet sich in Ubuntu
beispielsweise im Paket <b>python-sqlite2</b>.

<div class="p"><!----></div>
Das im letzten Teil erstellte Python-Skript soll nun um eine
Datenbankanbindung erweitert werden. Wer bei den Ergänzungen den
Überblick verliert, kann das fertige Skript <a href="http://www.freiesmagazin.de/mobil/\Jahr-\Monat-listings/musicdb.py">musicdb.py</a> auch direkt
herunterladen und dort die Änderungen nachvollziehen.

<div class="p"><!----></div>

<h2>Die neuen Importe</h2>

<div class="p"><!----></div>
Zunächst müssen einige Importe ergänzt werden:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
import&nbsp;sqlite3

import&nbsp;subprocess
from&nbsp;optparse&nbsp;import&nbsp;OptionParser

import&nbsp;codecs
from&nbsp;textwrap&nbsp;import&nbsp;dedent
from&nbsp;random&nbsp;import&nbsp;shuffle
</pre>

<div class="p"><!----></div>
Hier werden eine ganze Reihe neuer Module und Funktionen eingeführt.
<b><tt style="font-size: 1.3em;">sqlite3</tt></b> stellt schlicht die Schnittstelle zum SQLite-Datenbanksystem
bereit&nbsp;<a href="http://docs.python.org/library/sqlite3.html">[3]</a>.

<div class="p"><!----></div>
Bei <b><tt style="font-size: 1.3em;">subprocess</tt></b> handelt es sich um ein Modul, mit dem aus Python
heraus andere Prozesse gestartet werden können. Darüber hinaus
können mit dem Modul Signale an diese Prozesse gesendet werden oder
STDOUT bzw. STDERR ausgelesen werden. Auch das Schreiben nach STDIN
ist mit <b><tt style="font-size: 1.3em;">subprocess</tt></b> möglich&nbsp;<a href="http://docs.python.org/library/subprocess.html">[4]</a>.
In diesem Skript wird es später lediglich benötigt, um das
Medienwiedergabeprogramm Totem zu starten und einige MP3s damit
abzuspielen.

<div class="p"><!----></div>
Das Modul <b><tt style="font-size: 1.3em;">optparse</tt></b> hält verschieden Werkzeuge bereit, um die
Optionen und Argumente von Skripten auszuwerten. Auch lassen sich
damit recht einfach Übersichten der möglichen Optionen
erstellen&nbsp;<a href="http://docs.python.org/library/optparse.html">[5]</a>.

<div class="p"><!----></div>
Neu ist das Modul <b><tt style="font-size: 1.3em;">codecs</tt></b>&nbsp;<a href="http://docs.python.org/library/codecs.html">[6]</a>.
Mit dessen Funktion <b><tt style="font-size: 1.3em;">open()</tt></b> kann später bequem eine Datei mit einer
beliebigen Zeichenkodierung geschrieben werden.

<div class="p"><!----></div>
Die Funktion <b><tt style="font-size: 1.3em;">dedent</tt></b> aus dem Modul <b><tt style="font-size: 1.3em;">textwrap</tt></b> wird später im Skript
dazu genutzt, eine mehrzeilige, eingerückte Zeichenkette ohne
Einrückungen ausgeben zu
können&nbsp;<a href="http://docs.python.org/library/textwrap.html#textwrap.dedent">[7]</a>.

<div class="p"><!----></div>
Einzig das Modul <b><tt style="font-size: 1.3em;">random</tt></b> sollte aus den vorherigen Teilen dieser
Reihe bereits bekannt sein. Es stellt verschiedene Zufallsfunktionen
zur Verfügung. Die Funktion <b><tt style="font-size: 1.3em;">shuffle</tt></b> durchmischt eine gegebene
Liste schlicht, sodass sich damit beispielsweise eine
Wiedergabeliste durchmischen
ließe&nbsp;<a href="http://docs.python.org/library/random.html#random.shuffle">[8]</a>.

<div class="p"><!----></div>

<h2>Die Datenbankanbindung</h2>

<div class="p"><!----></div>
Als nächstes soll nun die Datenbankanbindung des Skripts erstellt
werden. Diese besteht aus zwei Klassen: einer Cursor-Klasse und
einer Datenbank-Klasse. Beide Klassen verfügen aber über eine
Neuerung, die hier kurz erläutert werden soll.

<div class="p"><!----></div>

<h3>Das Schlüsselwort <b><tt style="font-size: 1.3em;">with</tt></b></h3>

<div class="p"><!----></div>
Das Schlüsselwort <b><tt style="font-size: 1.3em;">with</tt></b> ist ein Sprachelement, das es seit Python
2.5 gibt&nbsp;<a href="http://effbot.org/zone/python-with-statement.htm">[9]</a>. Es wird
besonders häufig beim Arbeiten mit Dateien eingesetzt, weshalb es
auch an diesem Beispiel erörtert werden soll. Für gewöhnlich wird
beim Umgang mit Dateien ein Konstrukt wie das folgende benötigt:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
handler&nbsp;=&nbsp;open("datei.txt",&nbsp;"r")
try:
&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;handler.read()
finally:
&nbsp;&nbsp;&nbsp;&nbsp;handler.close()
</pre>

<div class="p"><!----></div>
In Zeile 1 wird dabei eine Datei geöffnet und das daraus
resultierende Datei-Objekt an den Namen <b><tt style="font-size: 1.3em;">handler</tt></b> gebunden. In Zeile
3 wird der Inhalt der Datei ausgegeben. Der <b><tt style="font-size: 1.3em;">try...finally</tt></b>-Block
stellt sicher, dass das Datei-Objekt anschließend in jedem Fall
geschlossen wird – auch wenn beim Auslesen der Datei in Zeile 3
eventuell Fehler aufgetreten sind. Die Konstruktion
„Vorbereiten, Bearbeiten, Aufräumen“ ist allerdings auch in
anderen Zusammenhängen so häufig anzutreffen, dass ab Python 2.5 mit
<b><tt style="font-size: 1.3em;">with</tt></b> eine deutliche Vereinfachung für derartige Fälle eingeführt
wurde:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
with&nbsp;open("datei.txt",&nbsp;"r")&nbsp;as&nbsp;handler:
&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;handler.read()
</pre>

<div class="p"><!----></div>
Auch hier wird zunächst die Datei <b><tt style="font-size: 1.3em;">open.txt</tt></b> zum Lesen geöffnet und
das daraus resultierende Datei-Objekt an den Namen <b><tt style="font-size: 1.3em;">handler</tt></b>
gebunden. Allerdings erfolgt die Zuweisung des Namens hier durch das
Schlüsselwort <b><tt style="font-size: 1.3em;">as</tt></b>. In Zeile 2 wird – wie gehabt – der Inhalt der
Datei ausgegeben. Damit sind die beiden Schritte „Vorbereiten“ und
„Bearbeiten“ abgehandelt. Das Aufräumen erfolgt mit dem Verlassen
der Kontrollstruktur, also am Ende des with-Blocks. Es muss nicht
explizit durchgeführt werden. Wie funktioniert das?

<div class="p"><!----></div>
Seit Python 2.5 gibt es zwei neue spezielle Methoden, die Objekte
implementieren können: <b><tt style="font-size: 1.3em;">__enter__</tt></b> und <b><tt style="font-size: 1.3em;">__exit__</tt></b>. Die Methode
<b><tt style="font-size: 1.3em;">__enter__</tt></b> ist für die Vorbereitung zuständig und wird implizit
beim Betreten des <b><tt style="font-size: 1.3em;">with</tt></b>-Blocks aufgerufen. Der Rückgabewert dieser
Methode wird dann an den mit <b><tt style="font-size: 1.3em;">as</tt></b> angegebenen Namen gebunden – 
oben also an den Namen <b><tt style="font-size: 1.3em;">handler</tt></b>. Die Methode <b><tt style="font-size: 1.3em;">__exit__</tt></b> wird
beim Verlassen des <b><tt style="font-size: 1.3em;">with</tt></b>-Blocks aufgerufen – unabhängig davon, ob ein
Fehler aufgetreten ist oder nicht.

<div class="p"><!----></div>
Diese Konstruktion wird im Folgenden auch für die Datenbank
verwendet. Da die SQLite-Schnittstelle für Python von Haus aus noch
keinen Gebrauch von diesem neuen Sprachmittel macht, wird es hier
selbst implementiert.

<div class="p"><!----></div>

<h3>Der Cursor</h3>

<div class="p"><!----></div>
SQLite kennt sogenannte <b><tt style="font-size: 1.3em;">Cursor</tt></b>, mit denen Datensätze in
Datenbanken ausgelesen und bearbeitet
werden&nbsp;<a href="http://docs.python.org/library/sqlite3.html#sqlite3.Cursor">[10]</a>.
In der Regel folgt auch das Arbeiten mit Cursorn dem Schema
„Vorbereiten, Bearbeiten, Aufräumen“, weshalb sich hier die
Verwendung der <b><tt style="font-size: 1.3em;">with</tt></b>-Anweisung empfiehlt.

<div class="p"><!----></div>
Das bisherige Skript aus dem letzten Teil wird nun um diese
Klasse ergänzt:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
class&nbsp;Cursor(object):
&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;connection):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.connection&nbsp;=&nbsp;connection

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__enter__(self):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.cursor&nbsp;=&nbsp;self.connection.cursor()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.cursor

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__exit__(self,&nbsp;type,&nbsp;value,&nbsp;traceback):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.cursor.close()
</pre>

<div class="p"><!----></div>
Es handelt sich hierbei letztlich nur um einen sogenannten
„Wrapper“, der die Verwendung von SQLite-Cursorn mit <b><tt style="font-size: 1.3em;">with</tt></b>
ermöglicht. Später könnte ein Aufruf wie folgt aussehen:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
with&nbsp;Cursor(connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;cursor.machetwas()
</pre>

<div class="p"><!----></div>
<b><tt style="font-size: 1.3em;">connection</tt></b> ist dabei eine Referenz auf ein
SQLite-Connection-Objekt, das eine offene Datenbankverbindung
verwaltet. In Zeile 1 wird nun zunächst eine Instanz der
Cursor-Klasse erstellt und <b><tt style="font-size: 1.3em;">connection</tt></b> als Parameter übergeben. In
der Methode <b><tt style="font-size: 1.3em;">__init__</tt></b> wird die Referenz auf das Connection-Objekt
an das Attribut <b><tt style="font-size: 1.3em;">self.connection</tt></b> gebunden. Erst danach wird durch
den <b><tt style="font-size: 1.3em;">with</tt></b>-Block die Methode <b><tt style="font-size: 1.3em;">__enter__</tt></b> des Cursor-Objektes
aufgerufen. Hier wird nun das SQLite-Cursor-Objekt durch den Aufruf
<b><tt style="font-size: 1.3em;">self.connection.cursor()</tt></b> erstellt. Das Objekt wird an das Attribut
<b><tt style="font-size: 1.3em;">self.cursor</tt></b> gebunden und mittels des Schlüsselwortes <b><tt style="font-size: 1.3em;">return</tt></b>
zurückgegeben. Da der Rückgabewert der Methode <b><tt style="font-size: 1.3em;">__enter__</tt></b> in
<b><tt style="font-size: 1.3em;">with</tt></b>-Blöcken an den hinter <b><tt style="font-size: 1.3em;">as</tt></b> angegebenen Namen gebunden wird,
steht nun eine Referenz auf das SQLite-Cursor-Objekt unter
dem Namen <b><tt style="font-size: 1.3em;">cursor</tt></b> zur Verfügung. In Zeile 2 des Beispiels kann so
bequem auf das SQLite-Cursor-Objekt zugegriffen werden. Mit dem
Verlassen des <b><tt style="font-size: 1.3em;">with</tt></b>-Blocks würde schließlich die Methode <b><tt style="font-size: 1.3em;">__exit__</tt></b>
aufgerufen werden, in der das Cursor-Objekt korrekt geschlossen wird.

<div class="p"><!----></div>
Noch einmal zur Erinnerung: Die Cursor-Klasse fungiert hier
lediglich als Wrapper.
Ohne sie sähe jeder Zugriff auf SQLite-Cursor wie folgt aus:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
cursor&nbsp;=&nbsp;connection.cursor()
try:
&nbsp;&nbsp;&nbsp;&nbsp;cursor.machetwas()
finally:
&nbsp;&nbsp;&nbsp;&nbsp;cursor.close()
</pre>

<div class="p"><!----></div>

<h3>Die Datenbankklasse</h3>

<div class="p"><!----></div>
Als nächstes soll nun die eigentliche Datenbankanbindung realisiert
werden:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
class&nbsp;DatabaseConnector(object):

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__enter__(self):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;=&nbsp;os.path.dirname(os.path.abspath((__file__)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.db_path&nbsp;=&nbsp;os.path.join(path,&nbsp;"music.db")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;os.path.exists(self.db_path):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.create_database()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.connection&nbsp;=&nbsp;sqlite3.connect(self.db_path)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.connection.row_factory&nbsp;=&nbsp;sqlite3.Row
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__exit__(self,&nbsp;type,&nbsp;value,&nbsp;traceback):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.connection.close()

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;create_database(self):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;u"""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CREATE&nbsp;TABLE&nbsp;IF&nbsp;NOT&nbsp;EXISTS&nbsp;mp3s&nbsp;(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id&nbsp;INTEGER&nbsp;PRIMARY&nbsp;KEY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;artist&nbsp;STRING,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;STRING,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;album&nbsp;STRING,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length&nbsp;INT,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;STRING&nbsp;UNIQUE
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)"""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection&nbsp;=&nbsp;sqlite3.connect(self.db_path)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;Cursor(connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor.execute(sql)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection.close()

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;search(self,&nbsp;search):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search&nbsp;=&nbsp;u"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search&nbsp;=&nbsp;search.replace("&nbsp;",&nbsp;"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;search
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;u"""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;*
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;mp3s
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;&nbsp;&nbsp;artist&nbsp;like&nbsp;?&nbsp;or
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;album&nbsp;like&nbsp;?&nbsp;or
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title&nbsp;like&nbsp;?
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;Cursor(self.connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cursor.execute(sql,&nbsp;(search,&nbsp;)*3).fetchall()

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_all_songs(self):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;&nbsp;Cursor(self.connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cursor.execute("SELECT&nbsp;*&nbsp;FROM&nbsp;mp3s").fetchall()

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;insert_songs(self,&nbsp;songs):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;"Inserting&nbsp;MP3s"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;u"""INSERT&nbsp;OR&nbsp;IGNORE&nbsp;INTO&nbsp;mp3s&nbsp;(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;artist,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;album,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;VALUES&nbsp;(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:artist,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:album,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:length,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:path
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;Cursor(self.connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor.executemany(sql,&nbsp;songs)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.connection.commit()

&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;count(self):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql&nbsp;=&nbsp;"select&nbsp;count(id)&nbsp;from&nbsp;mp3s"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;Cursor(self.connection)&nbsp;as&nbsp;cursor:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;cursor.execute(sql).fetchone()[0]
</pre>

<div class="p"><!----></div>
<i>Listing: <a href="http://www.freiesmagazin.de/mobil/2011-03-listings/musicdb-databaseconnector.py">musicdb-databaseconnector.py</a></i>

<div class="p"><!----></div>
Auch die Klasse <b><tt style="font-size: 1.3em;">DatabaseConnector</tt></b> kennt die Methode <b><tt style="font-size: 1.3em;">__enter__</tt></b> und <b><tt style="font-size: 1.3em;">__exit__</tt></b> und
ist damit auf die Verwendung mit <b><tt style="font-size: 1.3em;">with</tt></b> ausgelegt. In der Methode
<b><tt style="font-size: 1.3em;">__enter__</tt></b> werden dabei alle relevanten Vorbereitungen für die
Erstellung der Datenbankverbindung getroffen. Zunächst wird der
Ordner des Skriptes per

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
os.path.dirname(os.path.abspath((__file__)))
</pre>

<div class="p"><!----></div>
ermittelt und an den Namen <b><tt style="font-size: 1.3em;">path</tt></b>
gebunden&nbsp;<a href="http://docs.python.org/library/os.path.html#module-os.path">[11]</a>.
In dem selben Ordner soll nun auch die Datenbank <b><tt style="font-size: 1.3em;">music.db</tt></b> abgelegt
werden. Existiert diese Datenbank noch nicht, wird sie mit der
Methode <b><tt style="font-size: 1.3em;">create_database()</tt></b> erstellt. Anschließend wird durch den
Aufruf

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
self.connection&nbsp;=&nbsp;sqlite3.connect(self.db_path)
</pre>

<div class="p"><!----></div>
eine Verbindung zu dieser Datenbank erstellt und das
Connection-Objekt an das Attribut <b><tt style="font-size: 1.3em;">self.connection</tt></b> gebunden. Mit
der Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
self.connection.row_factory&nbsp;=&nbsp;sqlite3.Row
</pre>

<div class="p"><!----></div>
wird SQLite angewiesen, die Ergebnisse in Form von
Row-Objekten&nbsp;<a href="http://docs.python.org/library/sqlite3.html#sqlite3.Row">[12]</a>
darzustellen. Dadurch lassen sich die Ergebnisse von
Datenbankabfragen später sehr leicht über Schlüsselworte ansprechen.

<div class="p"><!----></div>
Neben der Methode <b><tt style="font-size: 1.3em;">__enter__</tt></b>, die die Datenbankverbindung schlicht
wieder schließt, kennt die Klasse <b><tt style="font-size: 1.3em;">DatabaseConnector</tt></b> weiterhin noch
die Methoden <b><tt style="font-size: 1.3em;">search</tt></b>, <b><tt style="font-size: 1.3em;">get_all_songs</tt></b>, <b><tt style="font-size: 1.3em;">insert_songs</tt></b> und <b><tt style="font-size: 1.3em;">count</tt></b>.
Hier werden jeweils verschiedene Datenbankzugriffe getätigt; es
kommt jeweils die oben vorgestellte Cursor-Klasse zum Einsatz. Die
Bedeutung der einzelnen SQL-Abfragen sollte weitestgehend bekannt
oder aus dem Kontext ersichtlich sein. Im Rahmen dieser Einführung
ist eine tiefergehende Auseinandersetzung mit der SQL-Syntax leider
nicht möglich. Eine Übersicht der SQL-Befehle findet sich allerdings
auf der Homepage des SQLite-Projektes&nbsp;<a href="http://www.sqlite.org/lang.html">[13]</a>.
Dennoch sollen einige Anmerkungen zu kleinen Besonderheiten gemacht
werden.

<div class="p"><!----></div>
In der Methode <b><tt style="font-size: 1.3em;">search</tt></b> werden dem Suchbegriff Prozentzeichen voran-
und nachgestellt, außerdem werden Leerzeichen durch Prozentzeichen
ersetzt. Hierbei handelt es sich lediglich um die SQL-typischen
Wildcard-Zeichen. Am Ende der Methode <b><tt style="font-size: 1.3em;">insert_songs</tt></b> findet sich
außerdem dieser Aufruf:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
cursor.executemany(sql,&nbsp;songs)
</pre>

<div class="p"><!----></div>
Damit wird eine Liste von mehreren Liedern in die Datenbank
eingetragen. <b><tt style="font-size: 1.3em;">songs</tt></b> ist in diesem Fall eine Liste von Tupeln nach
folgendem Schema:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
[
&nbsp;("Kuenstler",&nbsp;"Titel",&nbsp;"Album",&nbsp;"Laenge",&nbsp;"Pfad"),
&nbsp;("Kuenstler",&nbsp;"Titel",&nbsp;"Album",&nbsp;"Laenge",&nbsp;"Pfad"),
&nbsp;...
]
</pre>

<div class="p"><!----></div>
So können sehr effizient große Mengen von Titelinformationen in die
Datenbank übernommen werden. Durch das anschließende

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
connection.commit()
</pre>

<div class="p"><!----></div>
werden die Änderungen übernommen. Dieser Aufruf muss immer dann
erfolgen, wenn schreibend auf die Datenbank zugegriffen wurde.
Ansonsten wären die Änderungen bei der nächsten Abfrage noch nicht
sichtbar.

<div class="p"><!----></div>

<h3>Wiedergabelisten erstellen</h3>

<div class="p"><!----></div>
Die Musikverwaltung soll in der Lage sein, Lieder, die auf eine
Suche passen, in eine Wiedergabeliste zu speichern. Dazu wird das
Skript um folgende drei Funktionen erweitert:


<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
def&nbsp;generate_extended_playlist(songs):
&nbsp;&nbsp;&nbsp;&nbsp;playlist&nbsp;=&nbsp;[u"#EXTM3U\n"]
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;id,&nbsp;artist,&nbsp;title,&nbsp;album,&nbsp;length,&nbsp;path&nbsp;in&nbsp;songs:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playlist.append("#EXTINF:{0},{1}&nbsp;-&nbsp;{2}\n".format(int(length),&nbsp;artist,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;playlist.append("{0}\n".format(path))
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;u"".join(playlist)

def&nbsp;generate_simple_playlist(songs):
&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;u"\n".join(hit["path"]&nbsp;for&nbsp;hit&nbsp;in&nbsp;songs)

def&nbsp;dump(playlist,&nbsp;path,&nbsp;encoding="utf-8"):
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;codecs.open(path,&nbsp;"w",&nbsp;encoding=encoding)&nbsp;as&nbsp;fh:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fh.write(playlist)
</pre>

<div class="p"><!----></div>
Die ersten beiden Funktionen erwarten jeweils eine Liste <b><tt style="font-size: 1.3em;">songs</tt></b>.
Diese Songs sind im Fall dieses Skripts eigentlich Row-Objekte, wie
sie von der Methode <b><tt style="font-size: 1.3em;">search</tt></b> des DatabaseConnectors zurückgegeben
werden. Diese Row-Objekte verhalten sich dahingehend wie Listen und
Dicts, als dass sie den Zugriff über Schlüsselworte ebenso
ermöglichen, wie über Listen-Indizes.

<div class="p"><!----></div>
Die Funktion <b><tt style="font-size: 1.3em;">generate_simple_playlist</tt></b> erstellt nun schlicht eine
Zeichenkette mit Pfadangaben, getrennt durch einen Zeilenumbruch (<b><tt style="font-size: 1.3em;">\n</tt></b>).
Die Zeile mutet zunächst recht kompliziert an:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
return&nbsp;u"\n".join(hit["path"]&nbsp;for&nbsp;hit&nbsp;in&nbsp;songs)
</pre>

<div class="p"><!----></div>
Dies ist aber nur eine kompaktere
und effizientere Variante für folgenden Code (siehe Abschnitt
„Kleine Aufgabe“ unten):


<div class="p"><!----></div>
    
<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
paths&nbsp;=&nbsp;[]
for&nbsp;hit&nbsp;in&nbsp;songs:
&nbsp;&nbsp;&nbsp;&nbsp;paths.append(hit["song"])
return&nbsp;u"\n".join(paths)
</pre>

<div class="p"><!----></div>
Die so erstellte Zeichenkette mit Pfandangaben kann als einfache
m3u-Liste gespeichert werden. Sollen außerdem noch
Meta-Informationen in der Wiedergabeliste gespeichert werden, muss
eine erweiterte m3u-Liste erstellt werden. Dies geschieht durch die
Funktion <b><tt style="font-size: 1.3em;">generate_extended_playlist</tt></b>. Auch hier wird eine
Zeichenkette erstellt, die später als Wiedergabeliste gespeichert
werden kann. Allerdings wird dabei zunächst der Umweg über eine
Liste gegangen: Jeder Eintrag in der Liste repräsentiert später eine
Zeile. Mit

<div class="p"><!----></div>
    
<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
playlist&nbsp;=&nbsp;[u"#EXTM3U\n"]
</pre>

<div class="p"><!----></div>
wird die Liste <b><tt style="font-size: 1.3em;">playlist</tt></b> direkt initial befüllt, sodass die spätere
Wiedergabeliste in der ersten Zeile die Information enthält, dass es
sich um eine erweiterte Wiedergabeliste handelt. In der folgenden
<b><tt style="font-size: 1.3em;">for</tt></b>-Schleife werden die einzelnen Lieder durchlaufen. Für jedes
Lied wird dabei ein Listen-Eintrag mit Meta-Informationen
(<b><tt style="font-size: 1.3em;">#EXTINF</tt></b>) und ein Listeneintrag mit der dazugehörigen Pfadangabe
erstellt. Erst in der letzten Zeile der Funktion wird aus der Liste
<b><tt style="font-size: 1.3em;">playlist</tt></b> mit Hilfe der Methode <b><tt style="font-size: 1.3em;">join</tt></b> eine Zeichenkette, die
direkt zurückgegeben wird.

<div class="p"><!----></div>
Die dritte Funktion <b><tt style="font-size: 1.3em;">dump</tt></b> schreibt schließlich eine gegebene
Zeichenkette (in diesem Fall die Wiedergabelisten) in eine Datei.
Statt der Funktion <b><tt style="font-size: 1.3em;">open</tt></b> kommt dabei allerdings die gleichnamige
Funktion aus dem Modul <b><tt style="font-size: 1.3em;">codecs</tt></b> zum Einsatz. Diese Funktion hat den
Vorteil, dass die gewünschte Ziel-Kodierung direkt wählbar ist (hier
UTF-8).

<div class="p"><!----></div>

<h3>Startbedingungen</h3>

<div class="p"><!----></div>
In einem letzten Schritt wird nun der Block

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
if&nbsp;__name__&nbsp;==&nbsp;"__main__":
&nbsp;&nbsp;&nbsp;&nbsp;...
</pre>

<div class="p"><!----></div>
komplett ersetzt:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
if&nbsp;__name__&nbsp;==&nbsp;"__main__":
&nbsp;&nbsp;&nbsp;&nbsp;parser&nbsp;=&nbsp;OptionParser()
&nbsp;&nbsp;&nbsp;&nbsp;parser.add_option("-s",&nbsp;"--scan",&nbsp;dest="add",&nbsp;help="add_directory",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;metavar="DIR")
&nbsp;&nbsp;&nbsp;&nbsp;parser.add_option("-f",&nbsp;"--find",&nbsp;dest="search",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help="Search&nbsp;database&nbsp;for&nbsp;tags",&nbsp;metavar="TERM")
&nbsp;&nbsp;&nbsp;&nbsp;parser.add_option("--shuffle",&nbsp;dest="shuffle",&nbsp;metavar="INT",&nbsp;type="int",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help="Takes&nbsp;randomly&nbsp;INT&nbsp;various&nbsp;songs&nbsp;from&nbsp;database")
&nbsp;&nbsp;&nbsp;&nbsp;parser.add_option("-p",&nbsp;"--playlist",&nbsp;dest="playlist",&nbsp;metavar="FILE",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help="Write&nbsp;the&nbsp;search&nbsp;results&nbsp;to&nbsp;a&nbsp;playlist&nbsp;(requires&nbsp;-s)")
&nbsp;&nbsp;&nbsp;&nbsp;parser.add_option("-t",&nbsp;"--totem",&nbsp;dest="totem",&nbsp;action="store_true",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help="Play&nbsp;the&nbsp;search&nbsp;result&nbsp;(requires&nbsp;-s)")
&nbsp;&nbsp;&nbsp;&nbsp;parser.epilog&nbsp;=&nbsp;dedent("""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'musikverwaltung'&nbsp;is&nbsp;a&nbsp;simple&nbsp;commandline&nbsp;music&nbsp;database.&nbsp;You&nbsp;are
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only&nbsp;able&nbsp;to&nbsp;add&nbsp;directories&nbsp;and&nbsp;search&nbsp;for&nbsp;tags.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;""")

&nbsp;&nbsp;&nbsp;&nbsp;options,&nbsp;args&nbsp;=&nbsp;parser.parse_args()

&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;(options.search&nbsp;or&nbsp;options.shuffle)&nbsp;and&nbsp;\
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(options.playlist&nbsp;or&nbsp;options.totem):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser.error(dedent("""
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Writing&nbsp;/&nbsp;Playing&nbsp;playlists&nbsp;is&nbsp;only&nbsp;possible&nbsp;after&nbsp;a&nbsp;search.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;-f&nbsp;/&nbsp;--find&nbsp;plus&nbsp;searchterm"""))

&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;DatabaseConnector()&nbsp;as&nbsp;database:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;options.add:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;songs&nbsp;=&nbsp;read_recursively(options.add)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database.insert_songs(songs)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;"Number&nbsp;of&nbsp;MP3s&nbsp;in&nbsp;your&nbsp;database:&nbsp;{0}".format(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;database.count())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;options.search&nbsp;or&nbsp;options.shuffle:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;options.search:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searchterm&nbsp;=&nbsp;options.search.decode("utf-8")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;songs&nbsp;=&nbsp;database.search(searchterm)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;songs&nbsp;=&nbsp;database.get_all_songs()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shuffle(songs)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;songs&nbsp;=&nbsp;songs[:options.shuffle]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;songs:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;generate_simple_playlist(songs)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;options.playlist:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;options.playlist.lower().endswith(".m3u"):
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options.playlist&nbsp;+=&nbsp;".m3u"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump(generate_extended_playlist(songs),&nbsp;options.playlist)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;options.totem:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command&nbsp;=&nbsp;["totem",&nbsp;"--enqueue"]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;song&nbsp;in&nbsp;songs:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command.append(song["path"])
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subprocess.Popen(command)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;u"No&nbsp;results&nbsp;found&nbsp;for&nbsp;'{0}'".format(searchterm)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser.print_help()
</pre>

<div class="p"><!----></div>
<i>Listing: <a href="http://www.freiesmagazin.de/mobil/2011-03-listings/musicdb-main.py">musicdb-main.py</a></i>

<div class="p"><!----></div>
Darin wird zunächst eine Instanz des OptionParser erzeugt und an den
Namen <b><tt style="font-size: 1.3em;">parser</tt></b> gebunden. In den folgenden Zeilen werden die
verschiedenen Optionen definiert, die das Skript später kennt. Die
Methode <b><tt style="font-size: 1.3em;">add_option</tt></b> fügt jeweils eine weitere Option hinzu und
definiert die dazugehörigen Schalter (beispielsweise <b><tt style="font-size: 1.3em;">-s</tt></b> oder
<b><tt style="font-size: 1.3em;">--scan</tt></b>), das Schlüsselwort, über das die Option später ausgelesen
wird (<b><tt style="font-size: 1.3em;">dest</tt></b>) und einen kurzen Hilfetext (<b><tt style="font-size: 1.3em;">help</tt></b>). Es gibt eine
Reihe weiterer Möglichkeiten, die einzelnen Optionen genauer zu
spezifizieren (etwa <b><tt style="font-size: 1.3em;">metavar</tt></b> oder <b><tt style="font-size: 1.3em;">type</tt></b>, vgl.
Dokumentation&nbsp;<a href="http://docs.python.org/library/optparse.html">[14]</a>).

<div class="p"><!----></div>
In der Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
options,&nbsp;args&nbsp;=&nbsp;parser.parse_args()
</pre>

<div class="p"><!----></div>
dieses Codeblocks wird der OptionParser mit
<b><tt style="font-size: 1.3em;">parse_args()</tt></b> angewiesen, die Parameter, mit denen das Skript
gestartet wurde, auszuwerten. Im Ergebnis werden die Optionen an den
Namen <b><tt style="font-size: 1.3em;">options</tt></b> gebunden, die Argumente an den Namen <b><tt style="font-size: 1.3em;">args</tt></b>.

<div class="p"><!----></div>
Ab der Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
if&nbsp;not&nbsp;(options.search&nbsp;or&nbsp;options.shuffle)&nbsp;...
</pre>

<div class="p"><!----></div>
beginnt die Auswertung der Parameter. Durch diese und die danach folgenden drei
Zeilen wird eine Fehlermeldung ausgegeben, wenn der Nutzer die
Schalter <b><tt style="font-size: 1.3em;">-t</tt></b> oder <b><tt style="font-size: 1.3em;">-p</tt></b> übergeben hat, ohne mit <b><tt style="font-size: 1.3em;">--shuffle</tt></b> oder
<b><tt style="font-size: 1.3em;">--find</tt></b> eine Auswahl von Musikstücken zu treffen. <b><tt style="font-size: 1.3em;">parser.error()</tt></b>
gibt die übergebene Zeichenkette aus und beendet das Skript.

<div class="p"><!----></div>
In der Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
with&nbsp;DatabaseConnector()&nbsp;as&nbsp;database:
</pre>

<div class="p"><!----></div>
kommt die oben implementierte Klasse <b><tt style="font-size: 1.3em;">DatabaseConnector</tt></b>
zum Einsatz; sie wird im <b><tt style="font-size: 1.3em;">with</tt></b>-Block an den Namen <b><tt style="font-size: 1.3em;">database</tt></b>
gebunden. In der nächsten Zeile wird geprüft, ob mit den Schaltern
<b><tt style="font-size: 1.3em;">-s</tt></b> oder <b><tt style="font-size: 1.3em;">--scan</tt></b> ein Verzeichnis übergeben wurde. Ist dies der
Fall, enthält <b><tt style="font-size: 1.3em;">options.add</tt></b> eine Pfadangabe als Zeichenkette und der
Ausdruck <b><tt style="font-size: 1.3em;">options.add</tt></b> ist wahr. In diesem Fall wird das angegebene
Verzeichnis mit der im letzten Teil umgesetzten Funktion
<b><tt style="font-size: 1.3em;">read_recursively()</tt></b> ausgelesen. Die so gefundenen
Titelinformationen werden mit der Methode <b><tt style="font-size: 1.3em;">insert_song()</tt></b> in die
Datenbank geschrieben. Anschließend wird noch die Gesamtzahl der
Titel in der Datenbank auf der Konsole ausgegeben.

<div class="p"><!----></div>
Ab der Zeile

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
elif&nbsp;options.search&nbsp;or&nbsp;options.shuffle:
</pre>

<div class="p"><!----></div>
werden die Optionen <b><tt style="font-size: 1.3em;">--shuffle</tt></b> und <b><tt style="font-size: 1.3em;">-f</tt></b> bzw. <b><tt style="font-size: 1.3em;">--find</tt></b>
behandelt. Im Fall einer Suche wird die Zeichenkette zunächst
dekodiert und an den Namen <b><tt style="font-size: 1.3em;">searchterm</tt></b> gebunden. Die so
erstellte Unicode-Zeichenkette kann dann an die Suchfunktion der
Datenbank übergeben werden. Das Ergebnis wird an den Namen <b><tt style="font-size: 1.3em;">songs</tt></b>
gebunden. Im Alternativfall ohne Suche wird eine Zufallsfunktion umgesetzt.
Dazu werden zunächst mit <b><tt style="font-size: 1.3em;">get_all_songs()</tt></b> alle Lieder aus der
Datenbank ausgelesen und zufällig angeordnet. Durch

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
songs&nbsp;=&nbsp;songs[:options.shuffle]
</pre>

<div class="p"><!----></div>
wird dann ein Ausschnitt dieser Gesamtliste an den Namen <b><tt style="font-size: 1.3em;">songs</tt></b>
gebunden. Die Größe des Ausschnitts hat der Benutzer zusammen mit
der Option <b><tt style="font-size: 1.3em;">--shuffle</tt></b> übergeben.

<div class="p"><!----></div>
Dieses Vorgehen ist natürlich nicht besonders effizient: Wer 40.000
Lieder in seiner Datenbank hat, möchte sicher nicht, dass alle diese
Lieder zunächst ausgelesen werden, nur um 100 zufällige Lieder davon
auszuwählen. Sehr viel eleganter wäre hier eine Lösung via SQL:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
SELECT&nbsp;*&nbsp;FROM&nbsp;mp3s&nbsp;ORDER&nbsp;BY&nbsp;RANDOM()&nbsp;LIMIT&nbsp;20
</pre>

<div class="p"><!----></div>
Damit werden direkt 20 zufällige Lieder aus der Datenbank
ausgelesen. Die im Skript umgesetzte Variante sollte in der Praxis
also eher nicht eingesetzt werden. Sie besticht aber in diesem Fall
dadurch, dass sie durch die Verwendung des <b><tt style="font-size: 1.3em;">random</tt></b>-Modules und die
Nutzung von Slices Techniken einsetzt, die in den
vorherigen Teilen bereits diskutiert wurden.

<div class="p"><!----></div>
In den beiden <b><tt style="font-size: 1.3em;">if</tt></b>-Blöcken von <b><tt style="font-size: 1.3em;">options.search</tt></b> wurden die
ausgewählten Lieder jeweils an den Namen <b><tt style="font-size: 1.3em;">songs</tt></b> gebunden. Für das
weitere Vorgehen ist es nicht von Bedeutung, wie die Auswahl der
Lieder zustande kam. Mit <b><tt style="font-size: 1.3em;">if songs:</tt></b> wird lediglich geprüft, ob
überhaupt Lieder ausgewählt wurden (eine leere Liste wird als
<b><tt style="font-size: 1.3em;">falsch</tt></b> ausgewertet). Nachfolgend wird eine Wiedergabeliste
erstellt und gespeichert, falls die entsprechend Option <b><tt style="font-size: 1.3em;">options.playlist</tt></b> gesetzt
wurde. Dabei wird der vom Nutzer angegebene Dateiname um <b><tt style="font-size: 1.3em;">.m3u</tt></b>
erweitert, falls er nicht darauf endet. Am Ende kommt das <b><tt style="font-size: 1.3em;">subprocess</tt></b>-Modul zum Einsatz, wenn die Option <b><tt style="font-size: 1.3em;">-t</tt></b> bzw.
<b><tt style="font-size: 1.3em;">--totem</tt></b> gesetzt wurde. Die Funktion <b><tt style="font-size: 1.3em;">Popen</tt></b>, die Totem ausführen
soll, erwartet die Parameter in Form einer Liste. Diese wird
initial mit <b><tt style="font-size: 1.3em;">totem</tt></b> und <b><tt style="font-size: 1.3em;">--enqueue</tt></b> befüllt und danach um
die Pfadangaben der ausgewählten Musikstücke erweitert. So entsteht
eine Liste nach dem Schema:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
["totem",&nbsp;"--enqueue",&nbsp;"song1.mp3",&nbsp;"song2.mp3"]
</pre>

<div class="p"><!----></div>
Die entsprechende Befehlszeile in der Shell sähe wie folgt aus:

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;totem&nbsp;--enqueue&nbsp;song1.mp3&nbsp;song2.mp3
</pre>

<div class="p"><!----></div>

<div class="p"><!----></div>
Totem wird also mit der Option <b><tt style="font-size: 1.3em;">--enqueue</tt></b> gestartet, die alle
folgenden Musikstücke an die Wiedergabeliste anhängt.

<div class="p"><!----></div>
Schließlich deckt dieser Codeblock noch zwei weitere Eventualitäten
ab: Der vorletzte <b><tt style="font-size: 1.3em;">else</tt></b>-Block ist von Bedeutung, wenn die Liste <b><tt style="font-size: 1.3em;">songs</tt></b> leer ist,
also beispielsweise die Suche keine Treffer ergab. Das letzte <b><tt style="font-size: 1.3em;">else</tt></b> gibt einen Nutzungshinweis auf der Konsole aus, wenn
weder die Optionen <b><tt style="font-size: 1.3em;">add</tt></b>, <b><tt style="font-size: 1.3em;">search</tt></b> noch <b><tt style="font-size: 1.3em;">shuffle</tt></b> gesetzt wurden.

<div class="p"><!----></div>

<h2>Kleine Aufgabe</h2>

<div class="p"><!----></div>
Mehrfach wurden kleine Fragestellungen oder Aufgaben erbeten, die
die Leser bis zum Erscheinen des nächsten Teils zu lösen hätten. Im
Abschnitt „Startbedingungen“ oben wird auf eine mögliche Alternative
zur derzeitigen Shuffle-Funktion hingewiesen. Interessierte Leser
könnten versuchen, die dort vorgeschlagenen Änderungen zu
implementieren, indem sie die Klasse <b><tt style="font-size: 1.3em;">DatabaseConnector</tt></b> um eine
<b><tt style="font-size: 1.3em;">shuffle()</tt></b>-Methode erweitern und das Skript so anpassen, dass diese
Methode statt der jetzigen Variante zur Auswahl der Zufallstitel
eingesetzt wird.

<div class="p"><!----></div>
Wer sich darüber hinaus noch vertiefend mit dem Skript beschäftigen
möchte, kann sich die Funktion <b><tt style="font-size: 1.3em;">generate_simple_playlist</tt></b> einmal
näher ansehen. Der Einzeiler im Funktionsrumpf hat es bei näherer
Betrachtung in sich, dort kommt ein sogenannter „Generator-Ausdruck“
zum Einsatz&nbsp;<a href="http://www.python.org/dev/peps/pep-0289/">[15]</a>.

<div class="p"><!----></div>

<h2>Schlusswort</h2>

<div class="p"><!----></div>
Mit diesem sechsten Teil hat die einführende Vorstellung von Python
eine kleine Zäsur erreicht. In Form der Musikdatenbank wurde mit
Hilfe der vorgestellten Technologien und Werkzeuge erstmals ein
(etwas) größeres Projekt in Angriff genommen, das zum
Experimentieren und Erweitern einlädt.

<div class="p"><!----></div>
Die Python-Reihe soll auch weiterhin fortgesetzt werden, allerdings
wird sich der Abstand der einzelnen Teile etwas vergrößern und
ab sofort voraussichtlich zweimonatlich erscheinen.

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://www.freiesmagazin.de/freiesMagazin-2011-02"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2011-02</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.sqlite.org/"><tt style="font-size: 1.3em;">http://www.sqlite.org/</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://docs.python.org/library/sqlite3.html"><tt style="font-size: 1.3em;">http://docs.python.org/library/sqlite3.html</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://docs.python.org/library/subprocess.html"><tt style="font-size: 1.3em;">http://docs.python.org/library/subprocess.html</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://docs.python.org/library/optparse.html"><tt style="font-size: 1.3em;">http://docs.python.org/library/optparse.html</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://docs.python.org/library/codecs.html"><tt style="font-size: 1.3em;">http://docs.python.org/library/codecs.html</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://docs.python.org/library/textwrap.html#textwrap.dedent"><tt style="font-size: 1.3em;">http://docs.python.org/library/textwrap.html#textwrap.dedent</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://docs.python.org/library/random.html#random.shuffle"><tt style="font-size: 1.3em;">http://docs.python.org/library/random.html#random.shuffle</tt></a><br />

<div class="p"><!----></div>
[9] <a href="http://effbot.org/zone/python-with-statement.htm"><tt style="font-size: 1.3em;">http://effbot.org/zone/python-with-statement.htm</tt></a><br />

<div class="p"><!----></div>
[10] <a href="http://docs.python.org/library/sqlite3.html#sqlite3.Cursor"><tt style="font-size: 1.3em;">http://docs.python.org/library/sqlite3.html#sqlite3.Cursor</tt></a><br />

<div class="p"><!----></div>
[11] <a href="http://docs.python.org/library/os.path.html#module-os.path"><tt style="font-size: 1.3em;">http://docs.python.org/library/os.path.html#module-os.path</tt></a><br />

<div class="p"><!----></div>
[12] <a href="http://docs.python.org/library/sqlite3.html#sqlite3.Row"><tt style="font-size: 1.3em;">http://docs.python.org/library/sqlite3.html#sqlite3.Row</tt></a><br />

<div class="p"><!----></div>
[13] <a href="http://www.sqlite.org/lang.html"><tt style="font-size: 1.3em;">http://www.sqlite.org/lang.html</tt></a><br />

<div class="p"><!----></div>
[14] <a href="http://docs.python.org/library/optparse.html"><tt style="font-size: 1.3em;">http://docs.python.org/library/optparse.html</tt></a><br />

<div class="p"><!----></div>
[15] <a href="http://www.python.org/dev/peps/pep-0289/"><tt style="font-size: 1.3em;">http://www.python.org/dev/peps/pep-0289/</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Daniel Nögel</b>&nbsp;(<a href="http://danielnoegel.de/">Webseite</a>)
beschäftigt sich seit drei Jahren mit Python. Ihn überzeugt
besonders die intuitive Syntax und die Vielzahl der unterstützten
Bibliotheken, die Python auf dem Linux-Desktop zu einem wahren
Multitalent machen.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Python - Teil 6#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_gimp-schwarzweiss">GIMP-Tutorial: Farben durch Graustufen hervorheben (Colorkey)</a><a name="11_03_gimp-schwarzweiss">
</a></font></h1>von Dominik Wagenführ        
<div class="p"><!----></div>
<b>M</b><b>it GIMP sind sehr viele schöne Spielereien möglich, einige davon lassen sich 
sogar sinnvoll einsetzen. Das folgende Tutorial soll zeigen, wie man einzelne Elemente 
auf Farbfotos hervorheben kann, indem man alles drumherum in Graustufen konvertiert 
(„Colorkey“ genannt). Den einen richtigen Weg gibt es dabei aber nicht; viele Ansätze 
führen zum Ziel.</b>

<div class="p"><!----></div>
Als Vorlage für das Tutorial dient das Halbportät „Green“ von Shelby H.&nbsp;<a href="http://www.flickr.com/photos/shelbychicago/3158762838/">[1]</a>, 
welches unter Creative-Commons-Lizenz CC-BY-
SA-2.0&nbsp;<a href="http://creativecommons.org/licenses/by-sa/2.0/deed.de">[2]</a> auf Flickr 
veröffentlicht wurde.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-original.jpg" /><br /><em>Das Grün der Iris soll am Ende hervorgehoben sein.</em><br />

<div class="p"><!----></div>

<h2>Graustufenbild erzeugen</h2>

<div class="p"><!----></div>
Bevor man anfängt, irgendetwas am Bild zu ändern, legt man sich von der Originalebene 
eine Kopie an, indem man im Ebenendialog mit der rechten Maustaste auf die Ebene 
„Hintergrund“ klickt und dort „Ebene duplizieren“ auswählt. Das geht natürlich auch im 
Menü unter „<em>Ebene&nbsp;-&#62;&nbsp;Ebene duplizieren</em>“ oder per Tastenkürzel 
<i>„Umschalt“</i>&nbsp;+&nbsp;<i>„Strg“</i>&nbsp;+&nbsp;<i>„D“</i>. Die neue Ebene „Hintergrund-Kopie“ wird automatisch 
ausgewählt, mit dieser arbeitet man nun. Falls etwas schief geht, hat man so sofort das 
Original wieder parat.

<div class="p"><!----></div>

<h3>Graustufen über Bildmodus</h3>

<div class="p"><!----></div>
Graustufenbilder kann man auf sehr viele Arten in GIMP erzeugen. Der einfachste Weg ist 
wohl die Wahl über 

„<em>Bild&nbsp;-&#62;&nbsp;Modus&nbsp;-&#62;&nbsp;Graustufen</em>“. Dabei wird aber das ganze Bild in Graustufen 
gewandelt, also auch die Originalebene.

<div class="p"><!----></div>
    
<h3>Graustufen über Sättigung</h3>

<div class="p"><!----></div>
Über „<em>Farben&nbsp;-&#62;&nbsp;Entsättigen</em>“ ist der zweite 
    
Weg.
Im folgenden Dialog kann man den Grauwert nach „Helligkeit“, „Leuchtkraft“ oder 
„Durchschnitt“ bestimmen lassen. Je nach Auswahl ist das Resultat verschieden 
hell-/dunkellastig. Die Unterschiede sind im Dr. Web Magazin gut 
dargestellt&nbsp;<a href="http://www.drweb.de/magazin/gimp-tutorial-schwarzweis-bilder-bearbeiten/">[3]</a>.

<div class="p"><!----></div>

<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-entsaettigen.png" /><br /><em>Über „Farben -&#62; Entsättigen“ kann man leicht ein Graustufenbild erzeugen.</em><br />

<div class="p"><!----></div>
Ein dritter Weg führt über den Dialog „<em>Farben&nbsp;-&#62;&nbsp;Farbton/Sättigung</em>“. Dort muss 
man einfach nur den Regler bei „Sättigung“ auf „-100“ stellen. Ein vierter ist ähnlich über 
„<em>Farben&nbsp;-&#62;&nbsp;Einfärben</em>“, in dessen Dialog man ebenfalls nur den Regler bei 
„Sättigung“ auf „-100“ stellen muss.

<div class="p"><!----></div>

<h3>Graustufen über RGB-Farbtrennung</h3>

<div class="p"><!----></div>
Mit dem fünften (und letzten) Weg hat man die meiste Kontrolle über das Ergebnis. Man 
wählt „<em>Farben&nbsp;-&#62;&nbsp;Komponenten&nbsp;-&#62;&nbsp;Zerlegen</em>“. In dem Dialog wählt man als 
Farbmodus „RGB“ aus und setzt einen Haken vor „In Ebenen zerlegen“. Mit einem Klick 
auf „OK“ öffnet sich ein neues Bild mit den drei Ebenen für die Kanäle Rot, Grün und Blau.

<div class="p"><!----></div>

<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-rgb-zerlegen.png" /><br /><em>Dialog zum Zerlegen des Bildes in die einzelnen RGB-Kanäle.</em><br />

<div class="p"><!----></div>
Nun hat man die Wahl, wie man diese Kanäle kombiniert oder ob man nur einen Kanal 
nimmt. Die Ebenen ordnet man für das Beispiel hier per Drag&nbsp;&amp;&nbsp;Drop so an, dass „Blau“ 
ganz oben steht, darunter „Grün“ und 

ganz unten „Rot“. Im Ebenendialog klickt man dann auf „Grün“, um die grüne 
Ebene auszuwählen. Als „Deckkraft“ am Regler darüber stellt man „50,0“ ein. Danach 
wählt man die oberste, blaue Ebene und stellt als „Deckkraft“ den Wert „20,0“ ein. 
Die Werte kann man natürlich nach Belieben verändern oder Ebenen auch komplett 
ausblenden. 

<div class="p"><!----></div>
    Ob man sich wirklich die Mühe machen will, ein Bild auf diese Art in Graustufen 
zu wandeln, kann jeder durch Experimentieren selbst herausfinden. Den meisten 
wird vielleicht die automatische Entsättigung auf den oberen Wegen ausreichen.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-rgb.jpg" /><br /><em>Der erste Schritt ist getan: Alles ist grau.</em><br />

<div class="p"><!----></div>

<h2>Farbe hervorheben</h2>

<div class="p"><!----></div>
Je nach Art der Graustufenwahl hängt es davon ab, wie man die grüne Augenfarbe
 nun am Einfachsten hervorhebt.

<div class="p"><!----></div>

<h3>Hervorheben bei Entsättigung</h3>

<div class="p"><!----></div>
Bei den Methoden zwei bis vier von oben (Graustufen über Entsättigung) 
markiert man erst den Bereich, der farbig bleiben soll und entfernt dann 
im Rest die Farbe. Für die Markierung gibt es wieder verschiedene Wege.

<div class="p"><!----></div>
Da die Iris rund ist, kann man natürlich ganz simpel über die Kreisauswahl 
(<i>„E“</i>) einen Kreis um die Iris ziehen. Bei unregelmäßigen Objekten 
hilft aber eher die Freihandauswahl (<i>„F“</i>). Über diese kann man 
man das Objekt nachzeichnen. Damit man einen feineren Übergang beim 
Ausschneiden erhält, lohnt es sich, nach der Markierung über „<em>Auswahl&nbsp;-&#62;&nbsp;Vergrößern</em>“ 
die Auswahl um einige wenige Pixel zu vergrößern, um diesen Bereich 
dann per „<em>Auswahl&nbsp;-&#62;&nbsp;Ausblenden</em>“ wieder zu „verkleinern“. Als 
Resultat schneidet man das Ergebnis nicht einfach hart an den Kanten 
ab, sondern hat einen leichten Übergang zwischen Grau und Grün.

<div class="p"><!----></div>
Eine weitere und etwas feinere Auswahl erhält man über die Schnellauswahlmaske. 
Diese aktiviert man über „<em>Auswahl&nbsp;-&#62;&nbsp;Schnellmaske umschalten</em>“ 
bzw. <i>„Umschalt“</i>&nbsp;+&nbsp;<i>„Q“</i>. Es legt sich dann ein leicht transparenter 
Rotstich über das Bild. Nun wählt man einen Pinsel als Malwerkzeug aus 
(<i>„P“</i>) und malt auf diesem roten Film das aus, was man später behalten 
will. Durch das Malen „löscht“ man sozusagen die rote Farbe. Hat man zu viel 
bemalt, kann man durch den Radierer wieder das Rot hinzufügen. Mittels 
<i>„Umschalt“</i>&nbsp;+&nbsp;<i>„Q“</i> schaltet man zurück zur normalen Auswahlansicht. Wie im 
Abschnitt zuvor kann man die Maske noch vergrößern und dann die Ränder etwas 
ausblenden, um einen weicheren Übergang zu erhalten.

<div class="p"><!----></div>
    

<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-schnellmaske.png" /><br /><em>Auf der Schnellmaske kann man per Malwerkzeug auswählen.</em><br />

<div class="p"><!----></div>
Wenn man dies erledigt hat, invertiert man die Auswahl über „<em>Auswahl&nbsp;-&#62;&nbsp;Invertieren</em>“ bzw. 
<i>„Strg“</i>&nbsp;+&nbsp;<i>„I“</i>. Danach  wählt man je nach Wunsch 
    
einer der obigen 
Methoden 2 bis 4, um den ausgewählten Bereich zu entsättigen, d.&nbsp;h. in 
Graustufen zu wandeln. Die anderen beiden Wege können so nicht angewandt 
werden.

<div class="p"><!----></div>
    Weitere Arten des Freistellens von Objekten (so nennt man diese Technik) 
findet man im Gimp-Forum-Wiki&nbsp;<a href="http://wiki.gimpforum.de/wiki/Tutorials#Freistellen">[4]</a>. 
Sehr oft wird auch mit Ebenenmasken gearbeitet, auf denen man malt.

<div class="p"><!----></div>

<h3>Hervorheben bei RGB-Farbtrennung</h3>

<div class="p"><!----></div>
Nachdem man die einzelnen RGB-Ebenen wie oben arrangiert hat, wandelt man das 
Bild erst einmal wieder in RGB-Farben über „<em>Bild&nbsp;-&#62;&nbsp;Modus&nbsp;-&#62;&nbsp;RGB</em>“. Danach
wechselt man zum Originalbild und kopiert dieses über „<em>Bearbeiten&nbsp;-&#62;&nbsp;Kopieren</em>“ 
bzw. <i>„Strg“</i>&nbsp;+&nbsp;<i>„C“</i> in die Zwischenablage. Diese Kopie fügt man im derzeitigen 
    
Graustufenbild per „<em>Bearbeiten&nbsp;-&#62;&nbsp;Einfügen als …&nbsp;-&#62;&nbsp;Neue Ebene</em>“ als neue Ebene 
ein. Sollte die neue Ebene „Zwischenablage“ im Ebenendialog nicht ganz oben stehen, 
schiebt man diese per Drag&nbsp;&amp;&nbsp;Drop ganz nach oben, sodass das Graustufenbild wieder 
farbig ist und identisch zum Original aussieht.

<div class="p"><!----></div>

<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-ebendialog.png" /><br /><em>Die drei RGB-Kanäle als Graustufen und das Originalbild aus der Zwischenablage.</em><br />

<div class="p"><!----></div>
Im nächsten Schritt muss man nun nur noch alles außer dem Auge entfernen. Man kann 
dazu den Bereich wie im Abschnitt „Hervorheben bei Entsättigung“ beschrieben 
auswählen, invertiert dann die Maske über 
    
    
„<em>Auswahl&nbsp;-&#62;&nbsp;Invertieren</em>“ bzw. 
<i>„Strg“</i>&nbsp;+&nbsp;<i>„I“</i> und löscht mittels „<em>Bearbeiten&nbsp;-&#62;&nbsp;Löschen</em>“ bzw. <i>„Entf“</i> 
einfach alles außer dem Auge.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-augenauswahl.png" /><br /><em>Das Auge wurde grob ausgewählt und alles drumherum gelöscht.</em><br />

<div class="p"><!----></div>
Wer Probleme mit dem Ausschneiden hat, kann auch den umgekehrten Weg gehen. Über 
die rechteckige (<i>„R“</i>) oder runde Auswahl (<i>„E“</i>) markiert man zuerst die Iris 
grob, invertiert die Maske und löscht alles außerhalb. Danach wählt man das 
Radierwerkzeug aus (<i>„Umschalt“</i>&nbsp;+&nbsp;<i>„E“</i>). „Harte Kanten“ dürfen dabei nicht aktiviert 
sein. Nun umrundet man die Iris mit dem Radierer, aber noch nicht exakt an dem Bereich, 
den man erhalten will. Es bleibt dann ein türkiser Rand stehen. Damit die 
Übergänge etwas weicher sind, stellt man „Deckkraft“ des Radierers auf „50,0“ und zieht 
dann mit dem „Rand“ des  Radierers über den türkisen Bereich. Auf die Art verschwindet 
das Türkis unmerklich und vermischt sich besser mit dem Grau dahinter. Der Übergang 
wirkt so wesentlich weicher. Natürlich kann 
man auch einen kleineren Radierer nehmen 
bzw. das Werkzeug skalieren und so das überschüssige Türkis entfernen.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-auge-bearbeitet.png" /><br /><em>Nach der Bearbeitung sollte man keine scharfen Kanten zwischen Farbe und Grau sehen.</em><br />

<div class="p"><!----></div>
Im Endergebnis wurde zusätzlich noch das Weiß der Augen aus dem blauen RGB-
Kanal kopiert und sowohl Kontrast als auch Helligkeit ein wenig erhöht, um die 
Augenfarbe noch mehr hervorzuheben.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-final.jpg" /><br /><em>Jetzt stechen die grünen Augen wirklich hervor.</em><br />

<div class="p"><!----></div>

<h3>Hervorheben bei Graustufen</h3>

<div class="p"><!----></div>
Für die korrekte Arbeit mit den Graustufen sollte man wie folgt vorgehen: Man öffnet das
 Originalbild, kopiert dieses über „<em>Bearbeiten&nbsp;-&#62;&nbsp;Kopieren</em>“ bzw. <i>„Strg“</i>&nbsp;+&nbsp;<i>„C“</i> 
in die Zwischenablage und wählt dann „<em>Bearbeiten&nbsp;-&#62;&nbsp;Einfügen als …&nbsp;-&#62;&nbsp;Neues Bild</em>“ 
bzw. <i>„Umschalt“</i>&nbsp;+&nbsp;<i>„Strg“</i>&nbsp;+&nbsp;<i>„V“</i>. Diese Kopie wandelt man in Graustufen wie oben beschrieben.

<div class="p"><!----></div>
Der weitere Verlauf ist identisch zu „Hervorheben bei RGB-Farbtrennung“, d.&nbsp;h. das Bild wird wieder in RGB gewandelt, das farbige Original als neue Ebene darübergelegt und so weiter.

<div class="p"><!----></div>

<h2>Kontrast erhöhen</h2>

<div class="p"><!----></div>
Um den Effekt des farbigen Ausschnitts noch mehr hervorzuheben, lohnt es sich bei 
manchen Bildern mit den Kontrast- und Helligkeitswerten zu experimentieren. Da der 
Effekt aber nur auf eine Ebene angewandt werden kann, erstellt man am besten aus dem 
bisherigen Ergebnis eine neue Ebene über „<em>Ebene&nbsp;-&#62;&nbsp;Neu aus Sichtbarem</em>“. Mit 
dieser kann man weiterarbeiten.

<div class="p"><!----></div>
Den Kontrastdialog findet man unter „<em>Farben&nbsp;-&#62;&nbsp;Helligkeit/Kontrast</em>“. Dort kann 
man den Kontrast etwas erhöhen (z.&nbsp;B. auf „10“), die Helligkeit im Gegensatz dazu etwas 
erniedrigen.

<div class="p"><!----></div>
    Im Beispielbild „Green“ ergibt sich dadurch aber keine echte Verbesserung. Zur 
Verdeutlichung des Effekts wurde aber ein zweites Bild auf die gleiche Art und Weise wie 
oben beschrieben verändert. Das Bild „Nostalgia“ von Joel Montes de Oca&nbsp;<a href="http://www.flickr.com/photos/joelmontes/4952740989/">[5]</a> 
steht auch unter der Creative-Commons-Lizenz CC-BY-SA-2.0&nbsp;<a href="http://creativecommons.org/licenses/by-sa/2.0/deed.de">[2]</a>.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl2-original.jpg" /><br /><em>Das zweite Beispiel im Original, …</em><br />

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl2-semifinal.jpg" /><br /><em>… nach der Überarbeitung …</em><br />

<div class="p"><!----></div>
Ein zweiter Weg, den Farbeffekt 
durch eine Kontrasterhöhung hervorzuheben, besteht darin, dass man die oberste, per „<em>Ebene&nbsp;-&#62;&nbsp;Neu aus Sichtbarem</em>“ 
erstellte, Ebene einfach per <i>„Umschalt“</i>&nbsp;+&nbsp;<i>„Strg“</i>&nbsp;+&nbsp;<i>„D“</i> dupliziert und als Modus dann
 „Überlagern“ auswählt. 

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl2-final.jpg" /><br /><em>… und nach dem Überlagern bzw. Kontrasterhöhung.</em><br />

<div class="p"><!----></div>

<h2>Farbe ändern</h2>

<div class="p"><!----></div>
Als letztes Gimmick soll die Augenfarbe des Mädchens noch geändert werden, falls 
jemand 
    
beispielsweise blaue Augen bevorzugt. Hierzu gibt es auch wieder mehrere 
Möglichkeiten der Realisierung. Die Einfachste (die hier vorgestellt werden soll) ist, dass 
man nur den Farbton für das Auge ändert. Dafür benötigt man aber entweder die 
identische Auswahl der Iris wie zuvor oder eine eigene Ebene, auf der nur das Auge zu 
sehen ist, die man durch Linksklick im Ebenendialog auswählt.

<div class="p"><!----></div>
In beiden Fällen wählt man danach „<em>Farben&nbsp;-&#62;&nbsp;Einfärben</em>“. Im folgenden Dialog 
wählt man für „Farbton“ den Wert „222“, „Sättigung“ stellt man auf „35“ und die 
„Helligkeit“ auf „2“. Natürlich kann man die Werte verändern, wie man möchte, obige 
Einstellungen sorgen für eine schöne blaue Farbe. Danach kann man noch im 
    
Helligkeit/Kontrast-Dialog den „Kontrast“ auf „30“ und die „Helligkeit“ auf „25“ erhöhen.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/gimp-girl1-blue.jpg" /><br /><em>Auch mit blauen Augen wirkt das Bild sehr gut.</em><br />

<div class="p"><!----></div>
<b>Hinweis:</b> Für eine bessere Darstellung wurde die Pupille zuvor ausgeschnitten, um von der Farbtonänderung nicht betroffen zu sein.

<div class="p"><!----></div>

<h2>Weitere Tutorials dieser Art</h2>

<div class="p"><!----></div>
Im Internet gibt es zahlreiche Tutorials, die sich mit dem Entfernen von Farbe 
beschäftigen, um einzelne Bildelemente hervorzuheben. Eine gute Anleitung gibt es bei 
GimpUsers.de&nbsp;<a href="http://www.gimpusers.de/tutorials/colorkey-zug">[6]</a>, im Dr. Web 
Magazin&nbsp;<a href="http://www.drweb.de/magazin/gimp-tutorial-2-farbfoto-in-schwarzweiss-
umwandeln-einzelne-farben-erhalten/">[7]</a> oder im Wiki des deutschen
GIMP-Forums&nbsp;<a href="http://wiki.gimpforum.de/wiki/Colorkey_Anwendungen">[8]</a>.

<div class="p"><!----></div>
Aber auch der umgekehrte Weg ist möglich, das heißt ein reines Schwarz-Weiß-Bild zu 
    
    
kolorieren und Elemente darauf hervorzuheben. Ein gutes Tutorial gibt es bei 
GimpUsers.de&nbsp;<a href="http://www.gimpusers.de/tutorials/blackwhite-color-1">[9]</a>. Oder man 
färbt gleich das ganze Bild ein, wie im GIMP-Forum-Wiki zu 
lesen&nbsp;<a href="http://wiki.gimpforum.de/wiki/Colorieren_von_Schwarz-Wei%C3%9F_Fotos">[10]</a>.

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://www.flickr.com/photos/shelbychicago/3158762838/"><tt style="font-size: 1.3em;">http://www.flickr.com/photos/shelbychicago/3158762838/</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://creativecommons.org/licenses/by-sa/2.0/deed.de"><tt style="font-size: 1.3em;">http://creativecommons.org/licenses/by-sa/2.0/deed.de</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://www.drweb.de/magazin/gimp-tutorial-schwarzweis-bilder-bearbeiten/"><tt style="font-size: 1.3em;">http://www.drweb.de/magazin/gimp-tutorial-schwarzweis-bilder-bearbeiten/</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://wiki.gimpforum.de/wiki/Tutorials#Freistellen"><tt style="font-size: 1.3em;">http://wiki.gimpforum.de/wiki/Tutorials#Freistellen</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.flickr.com/photos/joelmontes/4952740989/"><tt style="font-size: 1.3em;">http://www.flickr.com/photos/joelmontes/4952740989/</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://www.gimpusers.de/tutorials/colorkey-zug"><tt style="font-size: 1.3em;">http://www.gimpusers.de/tutorials/colorkey-zug</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://www.drweb.de/magazin/gimp-tutorial-2-farbfoto-in-schwarzweiss-umwandeln-einzelne-farben-erhalten/"><tt style="font-size: 1.3em;">http://www.drweb.de/magazin/gimp-tutorial-2-farbfoto-in-schwarzweiss-umwandeln-einzelne-farben-erhalten/</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://wiki.gimpforum.de/wiki/Colorkey_Anwendungen"><tt style="font-size: 1.3em;">http://wiki.gimpforum.de/wiki/Colorkey_Anwendungen</tt></a><br />

<div class="p"><!----></div>
[9] <a href="http://www.gimpusers.de/tutorials/blackwhite-color-1"><tt style="font-size: 1.3em;">http://www.gimpusers.de/tutorials/blackwhite-color-1</tt></a><br />

<div class="p"><!----></div>
[10] <a href="http://wiki.gimpforum.de/wiki/Colorieren_von_Schwarz-Wei%C3%9F_Fotos"><tt style="font-size: 1.3em;">http://wiki.gimpforum.de/wiki/Colorieren_von_Schwarz-Wei%C3%9F_Fotos</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Dominik Wagenführ</b>&nbsp;(<a href="http://www.deesaster.org/blog/">Webseite</a>)
spielt gerne mit GIMP, auch wenn er längst nicht
alle Funktionen beherrscht oder kennt.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
                        <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=GIMP-Tutorial - Colorykey#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
            

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_maryo">Secret Maryo Chronicles – Pilzkönigreich war gestern</a><a name="11_03_maryo">
</a></font></h1>von Marvin Gülker        
<div class="p"><!----></div>
<b>W</b><b>enn verschiedenfarbige Pilze und Blumen jemanden wachsen oder ihn Feuer- und
Eisbälle schleudern lassen, Schildkrötenpanzer zwischen beweglichen
Plattformen rotieren oder aus Blöcken Münzen hervorkommen – an was denkt
man dann? Super Mario? Falsch! Es ist <i>Secret Maryo Chronicles</i>&nbsp;<a href="http://www.secretmaryo.org/">[1]</a>,
das zwar ursprünglich von Super Mario
inspiriert ist, sich aber langsam davon wegbewegt.</b>

<div class="p"><!----></div>

<h2>Installation</h2>

<div class="p"><!----></div>
<i>Secret Maryo Chronicles</i> ist in den Paketquellen der meisten
Linux-Distributionen verfügbar, wird jedoch gelegentlich (etwa unter Ubuntu)
in das eigentliche Spiel und die dazugehörige Musik aufgeteilt. Ein übliches
Kürzel für den doch etwas langen Namen ist SMC, und so findet man unter
Ubuntu <i>Secret Maryo Chronicles</i> als Pakete <b>smc</b> und <b>smc-music</b>, unter Arch Linux
im „community“-Repository unter dem Namen <b>smc</b>, worin auch die Musik enthalten
ist.  Alternativ kann <i>Secret Maryo Chronicles</i> auch aus den unter der GNU
GPL Version 3&nbsp;<a href="http://www.gnu.org/licenses/gpl.html">[2]</a> stehenden Quellen
kompiliert werden. Das Quellarchiv der aktuellen
Version&nbsp;1.9&nbsp;<a href="http://www.secretmaryo.org/index.php?page=game_download_linux">[3]</a> sowie das
Musik-Paket&nbsp;<a href="http://www.secretmaryo.org/index.php?page=game_download_music">[4]</a> (unter „Windows“)
stehen auf den Projektseiten zum Herunterladen bereit. Eine Anleitung zum
Kompilieren findet man im Wiki&nbsp;<a href="http://www.secretmaryo.org/wiki/index.php?title=Compiling_from_Tarball">[5]</a> des
Projektes.

<div class="p"><!----></div>

<h2>Start</h2>

<div class="p"><!----></div>
Wenn man sich <i>Secret Maryo Chronicles</i> über die Paketverwaltung installiert
hat, wird sich vermutlich im jeweiligen Spiele-Menü ein neuer Eintrag
befinden. Ansonsten kann man das Spiel mit dem Befehl <b><tt style="font-size: 1.3em;">smc</tt></b>

<div class="p"><!----></div>
aus dem Terminal starten.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/smc-startbild.jpg" /><br /><em>Startbildschirm von <i>Secret Maryo Chronicles</i></em><br />

<div class="p"><!----></div>
Sodann wird, nachdem die Spielgraphiken auf die korrekte Größe skaliert im
„Cache“ gespeichert wurden, der Startbildschirm mit den folgenden Optionen
angezeigt:

<div class="p"><!----></div>
    
<ul>
<li> Start: Eine Welt oder ein Level spielen
<div class="p"><!----></div>
</li>

<li> Options: Optionen wie Bild- und Tonqualität einstellen oder auch ein Gamepad
einrichten
<div class="p"><!----></div>
</li>

<li> Load: Ein gespeichertes Spiel laden
<div class="p"><!----></div>
</li>

<li> Save: Macht aus dem Startmenü wenig Sinn, aber im Spiel kann man hier speichern
<div class="p"><!----></div>
</li>

<li> Quit: Beendet <i>Secret Maryo Chronicles</i>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h2>Auf Weltreise</h2>

<div class="p"><!----></div>
Über den Menüpunkt „<em>Start</em>“ erreicht man direkt 
    
das Menü zur Auswahl der
Spielwelt, wo momentan nur eine zur Verfügung steht. Mit einem Klick auf
„<em>World 1</em>“ und daraufhin auf „<em>Enter</em>“ betritt man die besagte Welt,
worauf man sich auf der „Weltkarte“ wiederfindet. Hier hangelt man sich
von Level zu Level, die im Laufe der Zeit immer schwieriger und anspruchsvoller
werden. Immer wenn man ein Level abgeschlossen hat, wird das nächste
freigeschaltet und man wandert auf der Weltkarte einen Punkt weiter. Münzen
und andere Boni, die man in einem Level eingesammelt hat, bleiben dabei
erhalten und es besteht auch die Möglichkeit, in ein bereits abgeschlossenes
Level zurückzukehren und es noch einmal zu spielen – was durchaus sinnvoll
ist, denn viele Level enthalten versteckte „Geheimnisse“, d.&nbsp;h. schwer
erreichbare Areale, in denen ein oder mehrere 1-Up-Pilze, also Pilze, die der
Hauptfigur Maryo ein Extra-Leben verschaffen, versteckt sind. Je mehr man davon
hat, desto besser: Zu Beginn hat Maryo nämlich nur drei Leben – und die sind
schnell verwirkt, wenn man wieder einmal in einen Abgrund gefallen ist oder von
einem Schildkrötenpanzer gerammt wurde.

<div class="p"><!----></div>
    Die Steuerung ist einfach und schnell erklärt: Die Pfeiltasten <i>„Pfeil links“</i> und <i>„Pfeil rechts“</i>
dienen der horizontalen Steuerung von Maryo, mit <i>„Pfeil hoch“</i> können Lianen erklommen
und Türen geöffnet werden. <i>„Pfeil runter“</i> bewirkt ein Ducken seitens Maryo, wodurch
unliebsame Dinge einfach über ihn hinwegfliegen können. Zum Springen benutzt
man die Taste <i>„S“</i>, für besondere Aktionen wie etwa das Aufheben eines
herumliegenden Schildkrötenpanzers <i>„A“</i>. <i>„Enter“</i> dient zum Auslösen eines
zuvor eingesammelten Gegenstandes, der in dem blauen Kästchen am 
    
oberen
Bildschirmrand angezeigt wird. Wem die Steuerung nicht gefällt oder wer lieber
ein Gamepad benutzen möchte, kann mit <i>„Esc“</i> das Menü aufrufen und unter
„<em>Options&nbsp;-&#62;&nbsp;Controls</em>“ die entsprechenden Einstellungen machen.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/smc-blume-kroete.jpg" /><br /><em>Hält man <i>„A“</i> jetzt gedrückt und berührt den  Schildkrötenpanzer, hält Maryo ihn fest.</em><br />

<div class="p"><!----></div>
Ein Tipp für Ungeduldige: Hält man die Aktionstaste gedrückt, rennt Maryo
und springt auch etwas höher. So kann man nicht nur Level schneller
abschließen, sondern erreicht gelegentlich auch Gebiete, in die man sonst
nicht gelangt wäre.

<div class="p"><!----></div>

<h3>Achte auf Münzen!</h3>

<div class="p"><!----></div>
Wann immer Münzen im Blickfeld erscheinen, sollte man sie einsammeln, denn wenn
man 100 Stück gesammelt hat, erhält Maryo ein Extra-Leben. Eine
besondere Rolle nehmen die roten Münzen ein: Sie sind meist schwerer
erreichbar, doch zählen sie für fünf gewöhnliche Münzen.
Abgesehen davon gibt jede eingesammelte Münze Punkte, und die braucht man:
Früher oder später möchte man nämlich speichern, und wenn man dies nicht
gerade auf der Weltkarte tut, berechnet das Spiel dafür 3.000 Punkte. Wer die
nicht hat (nachzulesen am oberen Bildschirmrand links), muss ohne Netz und
doppelten Boden agieren.

<div class="p"><!----></div>
    
<h3>Mehr Level</h3>

<div class="p"><!----></div>
Hat man die vorgegebene Welt einmal durchgespielt, ist aber noch lange nicht
Schluss. Mit <i>Secret Maryo Chronicles</i> werden zahlreiche weitere Level
mitgeliefert, die vom Schwierigkeitsgrad Ultraleicht bis Irrwitzig reichen.
Jedes dieser (und auch der in die Welt integrierten Level übrigens) kann
einzeln gespielt werden, indem unter dem Menüpunkt „<em>Start</em>“ der Reiter
„<em>Level</em>“ angewählt wird. Hat man sich für ein Level entschieden, wählt
man es an und klickt auf „<em>Enter</em>“.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/smc-eatomania.jpg" /><br /><em>Spätere Level weisen einen höheren Schwierigkeitsgrad auf!</em><br />

<div class="p"><!----></div>

<h2>Level im Eigenbau</h2>

<div class="p"><!----></div>
<i>Secret Maryo Chronicles</i> bietet noch ein weiteres Extra: einen äußerst
mächtigen Level-Editor. 
<div class="p"><!----></div>

<h3>Start des Editors</h3>

<div class="p"><!----></div>
Es gibt zwei Möglichkeiten, den Level-Editor zu aktivieren: Entweder drückt
man im laufenden Spiel die Taste <i>„F8“</i> oder man erstellt ein leeres Level, indem
man im „<em>Start</em>“-Menü den Reiter „<em>Level</em>“ anwählt und den Knopf
„<em>New</em>“ anklickt. „<em>Edit</em>“ verhält sich simultan dazu; hiermit können
bestehende Level bearbeitet werden, „<em>Delete</em>“ löscht vorhandene Level
wieder.

<div class="p"><!----></div>

<h3>Bedienung</h3>

<div class="p"><!----></div>
Die Bedienung des Editors mag zwar zu Anfang gewöhnungsbedürftig wirken, sie
ist jedoch recht effizient, wenn man einmal mit ihr warm geworden ist. Die
folgenden Dinge sind möglich:

<div class="p"><!----></div>
    
<table border="1">
<tr><td colspan="2" align="center"><font size="+0"><b>Tastaturbefehle im Level-Editor</b></font></td></tr>
<tr><td align="left"><b>Taste</b>   </td><td align="left"><b>Effekt</b> </td></tr>
<tr><td align="left">Pfeiltasten      </td><td align="left">Bewegung der Kamera </td></tr>
<tr><td align="left"><i>„Pos1“</i>     </td><td align="left">Springt zum Ursprung des Koordinatensystems </td></tr>
<tr><td align="left"><i>„Ende“</i>     </td><td align="left">Springt zum Levelausgang </td></tr>
<tr><td align="left">Nummernblock     </td><td align="left">Pixelgenaues Verschieben einzelner Elemente oder Duplizierung </td></tr>
<tr><td align="left"><i>„Strg“</i>&nbsp;+&nbsp;<i>„C“</i> </td><td align="left">Ausgewählte Objekte in die Zwischenablage kopieren </td></tr>
<tr><td align="left"><i>„Strg“</i>&nbsp;+&nbsp;<i>„V“</i> </td><td align="left">Objektauswahl aus der Zwischenablage einfügen </td></tr>
<tr><td align="left"><i>„Strg“</i>&nbsp;+&nbsp;<i>„X“</i> </td><td align="left">Wie <i>„Strg“</i>&nbsp;+&nbsp;<i>„C“</i>, aber die Objekte werden ausgeschnitten </td></tr>
<tr><td align="left"><i>„Strg“</i>&nbsp;+&nbsp;<i>„S“</i> </td><td align="left">Level abspeichern </td></tr>
<tr><td align="left"><i>„F8“</i>       </td><td align="left">Level abspeichern und testen </td></tr>
<tr><td align="left">    </td></tr></table>




<div class="p"><!----></div>
Alles, was an Spielobjekten zur Verfügung steht, kann über das Menü am
linken Bildschirmrand abgerufen werden, das aufklappt, wenn man mit der Maus
darüberfährt; durch Klicken und Ziehen wird das gewünschte Objekt in der
Spielwelt platziert, wo sich die Möglichkeit, aktuell gewählte Objekte
pixelgenau zu bewegen, bezahlt macht, denn: Wenn ein Stück Boden auch nur ein
einziges Pixel höher ist als das Vorhergehende, stoppt Maryo dort und man
müsste springen, um das „Hindernis“ zu passieren. Solche minimalen
Verschiebungen können, weil man sie im Spiel nicht direkt erkennt, sehr
ärgerlich sein.

<div class="p"><!----></div>
Eine weitere Möglichkeit, Objekte zu erstellen, ist das Duplizieren. Dazu
klickt man mit der mittleren Maustaste oder dem Mausrad auf das zu verdoppelnde
Objekt, hält gedrückt und betätigt zugleich eine der Richtungstasten auf dem
Nummernblock, woraufhin eine Kopie des Objekts an die gewählte Seite angelegt
wird. Es lohnt sich, diese Fingerakrobatik zu lernen, denn sie 
erleichtert das
Erstellen langer, ebener
    
 Passagen wie etwa des Bodens ganz ungemein. Vorsicht ist
jedoch geboten, wenn man mehrere Objekte zugleich gewählt hat (möglich, indem
man einen Kasten mittels linker Maustaste um Objekte aufzieht): Je nachdem, wie
viele Objekte man gewählt hat, dupliziert der Editor schon einmal gern den
halben Level, noch dazu mit teils riesigen Lücken zwischen den einzelnen
Objekten. Das kann gewollt sein, muss es aber nicht.

<div class="p"><!----></div>
    <img border="0" src="freiesMagazin-2011-03-bilder-Dateien/smc-editor.jpg" /><br /><em>Der Editor in Aktion …</em><br />

<div class="p"><!----></div>

<h3>Massiv oder passiv?</h3>

<div class="p"><!----></div>
Jedes gewöhnliche Objekt kann einen von fünf verschiedenen Typen besitzen:
Massive Objekte sind komplett undurchlässig und stets ein sicherer Standpunkt
für Maryo (von eventuellen Gegnern einmal abgesehen). Ist ein Objekt hingegen
halbmassiv, so kann Maryo von unten durch das Objekt hindurchspringen und
anschließend darauf stehen. Oder aber man lässt sich mit Hilfe von <i>„Pfeil runter“</i>
wieder hindurchfallen. Für Dekoration aller Art gibt es die zwei Status passiv
und front-passiv, die Objekte entweder im Hinter- (passiv) oder Vordergrund
(front-passiv) platzieren, sodass Maryo keinerlei Interaktion mit ihnen pflegen
kann. Der fünfte Typ ist bekletterbar. Er ist vor allem für Kletterpflanzen
praktisch, kann aber auch (etwa für Geheimnisse) auf andere Objekte angewendet
werden. So eingestellte Objekte können von Maryo mithilfe der Pfeiltaste <i>„Pfeil hoch“</i>
erklommen werden.

<div class="p"><!----></div>
Um zwischen den verschiedenen Typen umschalten zu können, betätigt man die
Taste <i>„M“</i>, wenn das gewünschte Objekt ausgewählt ist; auch eine Anwendung auf
mehrere Objekte zugleich ist möglich, selbst dann, wenn die Objekte zunächst
unterschiedliche Typen besitzen sollten. Der jeweilige Typ eines Objekte kann
auch an der Farbe der Auswahl festgemacht werden: Massive Objekte sind rot
umrandet, halbmassive gelb, bekletterbare violett und passive sowie
front-passive grün.

<div class="p"><!----></div>

<h3>Individuelle Einstellungen</h3>

<div class="p"><!----></div>
Damit ist aber noch lange nicht Schluss. Hat man einmal sein Level erstellt,
kann man noch Feineinstellungen vornehmen. Viele Objekte bieten individuelle
Einstellungen, die mit einem Doppelklick auf das jeweilige Objekt aufgerufen
werden können; so kann etwa bei einem beweglichen Gegner wie der Kreissäge
die Geschwindigkeit und Rotationsrichtung eingestellt werden oder die
Zeitspanne, nach der eine fallende Plattform endgültig den Halt verliert.
Aber abgesehen von diesen „kleinen“ Einstellungen können auch im
„Großen“ solche vorgenommen werden. Klickt man im Menü am linken
Bildschirmrand den Punkt „<em>Settings</em>“ an, so kann man für den
gesamten Level geltende Einstellungen treffen: Der Reiter „<em>Main</em>“ enthält
allgemeine Daten wie etwa den Namen des Autors und die Größe des Levels in
Pixeln, über „<em>Background</em>“ können Hintergrundbilder und -farben definiert
werden und mithilfe des Reiters „<em>Global Effect</em>“ können levelweite Effekte
wie zum Beispiel Schneeflocken oder fallende Blätter realisiert werden.
Auf beide Punkte soll im Folgenden noch ein wenig näher eingegangen werden, weil
sie leider nicht ganz so selbstverständlich bedienbar sind, wie man vielleicht
annehmen würde.

<div class="p"><!----></div>

<h4>Hintergrundeinstellungen</h4>

<div class="p"><!----></div>
Da ist zunächst die Einstellung „<em>Gradient</em>“, die den Farbverlauf des
Hintergrundes kontrolliert. Zunächst einmal muss man wissen, dass diese Farben
grundsätzlich hinter einem Hintergrundbild angezeigt werden, sodass man nicht
befürchten muss, hier plötzlich alles rot zu zeichnen, wenn man nur einen
Sonnenaufgang andeuten wollte. Die erste der beiden
„<em>Gradient</em>“-Einstellungen gibt dabei die Farbe am oberen Levelrand an, die
zweite die am unteren. <i>Secret Maryo Chronicles</i> bildet aus beiden automatisch
einen vertikalen Farbverlauf.

<div class="p"><!----></div>
Um ein Hintergrundbild hinzuzufügen, klickt man den Knopf „<em>Add</em>“ an
(„<em>Delete</em>“ würde eines löschen) und wählt anschließend den neu
erstellten Eintrag <b><tt style="font-size: 1.3em;">0.000110</tt></b> an (diese Zahl entspricht der weiter unten
erläuterten Z-Koordinate). Gelegentlich ist der Eintrag ein wenig
widerspenstig, aber mit genügend Zeit schafft man es eigentlich immer, ihn
auszuwählen.

<div class="p"><!----></div>
Unter „<em>Filename</em>“ gibt man die Bilddatei des Hintergrundbildes an. Der Pfad
ist relativ zum Verzeichnis <b><tt style="font-size: 1.3em;">pixmaps/</tt></b> im Installationsordner, also etwa
<b><tt style="font-size: 1.3em;">/usr/local/share/smc/pixmaps/</tt></b>, wobei sich die meisten Hintergrundbilder jedoch
im Verzeichnis <b><tt style="font-size: 1.3em;">pixmaps/game/background/</tt></b> befinden. Bei der Auswahl des
Hintergrundbildes lohnt es sich im Übrigen, den Vollbildmodus von <i>Secret Maryo Chronicles</i>
über „<em><i>„Esc“</i> (Hauptmenü)&nbsp;-&#62;&nbsp;Options&nbsp;-&#62;&nbsp;Video&nbsp;-&#62;&nbsp;Vollbild</em>“
abzuschalten, sodass man leichter die Dateinamen einsehen und
abtippen kann, da ein integriertes Durchsuchen der Dateistruktur noch nicht
vorhanden ist.

<div class="p"><!----></div>
Die Einstellungen „<em>Speed X</em>“ und „<em>Speed Y</em>“ geben die Geschwindigkeit an,
mit der das Bild mit der Kamera mitscrollt, in der Regel sind die Standardwerte
in Ordnung. Mithilfe der „<em>X-</em>“ und „<em>Y-Position</em>“ kann man den genauen
Startpunkt des Hintergrundbildes angeben, sodass auch der Verwendung mehrerer
Hintergrundbilder in einem Level nichts im Wege steht. Man kann auch
Hintergrundbilder übereinander legen, indem man „<em>Z</em>“ entsprechend
konfiguriert; Bilder mit höherer Z-Koordinate landen weiter vorne, solche mit
geringerer weiter hinten.

<div class="p"><!----></div>
Über das leicht kryptische Akronym „<em>Const V. X</em>“ und das Y-Pendant kann
eine fixe Geschwindigkeit des Hintergrundbildes eingestellt werden, sodass sich
etwa Wolken im Hintergrund stets nach rechts bewegen.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/smc-editor-spiel.jpg" /><br /><em>… und dieselbe Stelle im Spiel.</em><br />

<div class="p"><!----></div>

<h4>Globaler Effekt</h4>

<div class="p"><!----></div>
Wie schon zuvor beschrieben, lässt sich ein globaler Effekt wie etwa
Schneeflocken über das „<em>Settings</em>“-Menü am linken Bildschirmrand
einstellen. Nachdem man dort den Reiter „<em>Global Effect</em>“ ausgewählt hat,
wird man zuerst einmal 
    
mit einer wahren Fülle an Optionen bombardiert, die
aber alle ihren Sinn haben.

<div class="p"><!----></div>
Die am einfachsten und schnellsten beschriebene Option ist „<em>Type</em>“. Hier
gibt es nämlich nur „<em>Disabled</em>“ (kein globaler Effekt) und „<em>Default</em>“
    
(es gibt einen globalen Effekt) einzustellen. Möchte man einen Effekt
haben, sollte man ihn logischerweise auf „<em>Default</em>“ stellen.
„<em>Image</em>“ gibt die Grundgraphik des Effekts an, im von mir gewählten
Beispiel also das Bild einer einzelnen Schneeflocke. Wie schon bei den
Hintergrundbildern ist der anzugebende Pfad relativ zum <b><tt style="font-size: 1.3em;">pixmaps/</tt></b>-Verzeichnis,
worin sich der für Effekte am besten geeignete Unterordner
<b><tt style="font-size: 1.3em;">animation/particles/</tt></b> findet, der auch die Schneeflocke enthält, d.&nbsp;h. der
korrekte Wert für „<em>Image</em>“ wäre <b><tt style="font-size: 1.3em;">animation/particles/snowflake_1.png</tt></b>.
Über „<em>Rect</em>“ gibt man in der Reihenfolge X-Koordinate, Y-Koordinate,
Breite, Höhe das Gebiet an, für das der Effekt gelten soll – diese
Koordinaten beziehen sich auf den Bildschirm, nicht auf das Level selbst, die
vorgegebenen Werte sind in der Regel in Ordnung. Zudem hat es sich im Test als
irrelevant erwiesen, welche Werte für die Y-Koordinate und die Höhe
eingestellt wurden, sie wurden ignoriert. Lediglich X-Position und Breite
konnten verändert werden.

<div class="p"><!----></div>
Über „<em>Interval</em>“ gibt man das Erzeugungsintervall in Sekunden an, jedoch
sollte man sich darüber im Klaren sein, dass pro Intervall nicht nur ein
Partikel – eine Schneeflocke im Beispiel – erzeugt wird, sondern mehrere in
kurzen Abständen hintereinander.
Viele der von da an folgenden Einstellungen besitzen einen Grundwert und eine
Zufallskomponente. Gibt man etwa als Z-Position 0.12 (Standard) an und wählt
einen Zufallswert von 0.2, so werden bei der Erstellung der Partikel Z-Werte
von -0.08 bis 0.32 gewählt.

<div class="p"><!----></div>
Der letzte anzuprechende Punkt ist „<em>TTL</em>“. Wenn man die Abkürzung nicht
kennt, kann es schwierig sein, sich etwas darunter vorzustellen, weshalb man
sie gut  mit  „Time To Live“, also „Lebenszeit“, auflösen kann. Der
Wert gibt an, wie lange ein Partikel existiert, wie üblich in Sekunden. Zu
lange Lebenszeiten können bei einem genügend kleinen Intervall allerdings das
Spiel verlangsamen, also hier besser nicht übertreiben.
Die restlichen Einstellungsmöglichkeiten sollen dem Pioniergeist des Lesers
überlassen werden – auch mit dem Hinweis darauf, dass man sich die bereits
im Spiel enthaltenen Level im Editor anschauen kann, um sich ein paar
Kleinigkeiten „abzuschauen“.

<div class="p"><!----></div>

<h2>Zusammenfassung</h2>

<div class="p"><!----></div>
Obwohl die Menüführung eher Englisch als Deutsch ist, kommt <i>Secret Maryo Chronicles</i>
eigentlich fast ohne Sprache aus. Wenn man einmal die
Grundsteuerelemente begriffen hat (was auch ohne die erklärenden englischen
Texte in Level 1 recht gut möglich ist), kommt es eigentlich nur noch darauf
an, die eigenen Fähigkeiten so weit auszubilden, dass man auch in den
schwierigeren Leveln bestehen kann. Ein anderer, negativer Punkt ist, dass man
dank des eingebauten Editors über die <i>„F8“</i>-Taste „cheaten“ kann, sich an
einer scheinbar unüberwindbaren Stelle also einfach ein paar Blöcke einsetzt,
speichert, und weitermacht. Dies sollte im Sinne des Spielspaßes aber nicht
wirklich getan werden. Jeder der vorgegebenen Level ist ohne auch nur ein Jota
zu ändern spiel- und schaffbar.

<div class="p"><!----></div>
Einen besonderen Anreiz dabei bieten die vielen Geheimnisse. In zahlreichen
Leveln sind diese Areale versteckt, sodass man sie irgendwann nicht mehr wegen
der 1-Up-Pilze aufsucht, 

sondern einfach nur aus purem Ehrgeiz heraus, alle Geheimnisse zu finden. So
bietet das Spiel auch dann, wenn man alle Level scheinbar gemeistert hat, immer
noch Herausforderungen.

<div class="p"><!----></div>
Der eingebaute Level-Editor ist ebenfalls ein Schmankerl sondergleichen. Er
mag zwar etwas schwer zu bedienen sein, aber hat man sich einmal an ihn
gewöhnt, sind der eigenen Kreativität praktisch keine Grenzen gesetzt.
Zuletzt sei noch darauf hinzuweisen, dass es zu <i>Secret Maryo Chronicles</i> ein
offizielles Forum&nbsp;<a href="http://www.secretmaryo.org/phpBB3/">[6]</a> gibt, in dem auch Deutsch
gesprochen wird, da einige der Entwickler aus der hiesigen Umgebung kommen.
Auf derselben Website
findet sich auch noch ein Wiki&nbsp;<a href="http://www.secretmaryo.org/wiki">[7]</a>, das
Hilfestellung zum Spiel und zum Editor leistet und auch die Anforderungen für
Level enthält, die man gerne in <i>Secret Maryo Chronicles</i> aufgenommen sehen
möchte&nbsp;<a href="http://www.secretmaryo.org/wiki/index.php?title=Level_Design_Guidelines">[8]</a>.
Langfristiger Spielspaß ist demnach mehr als garantiert. Und auch wenn es
nicht so scheint – die Weiterentwicklung des Spiels ist in vollem Gange. Für
die demnächst erscheinende Version 2.0 sind zahlreiche neue Features geplant,
etwa einige neue Gegner sowie massive Verbesserungen des Leveleditors. So soll
zum Beispiel eine Lua-ähnliche Skriptmöglichkeit geschaffen werden, um
endlich dem Wunsch der Community nach bedingten Anweisungen Rechnung zu tragen,
und auch das Erstellen von Pfad-Objekten für bewegliche Plattformen könnte
dann algorithmisch statt von Hand erfolgen. Außerdem bemüht man sich, nach
Möglichkeit mehr Abstand vom Nintendo-Vorbild zu gewinnen. Bereits in der
aktuellen Version sind Gegenstände enthalten, die man aus dem klassischen
Super Mario nicht kennt (etwa der Eis-Pilz) und es gibt Bemühungen,
sämtliche Mario-ähnlichen Graphiken und Musiken aus dem Spiel zu entfernen.
Auch wird an einem Handlungsfaden gearbeitet, der nicht dem typischen
Mario-rettet-die-Prinzessin entspricht.

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://www.secretmaryo.org/"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.gnu.org/licenses/gpl.html"><tt style="font-size: 1.3em;">http://www.gnu.org/licenses/gpl.html</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://www.secretmaryo.org/index.php?page=game_download_linux"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/index.php?page=game_download_linux</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://www.secretmaryo.org/index.php?page=game_download_music"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/index.php?page=game_download_music</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.secretmaryo.org/wiki/index.php?title=Compiling_from_Tarball"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/wiki/index.php?title=Compiling_from_Tarball</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://www.secretmaryo.org/phpBB3/"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/phpBB3/</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://www.secretmaryo.org/wiki"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/wiki</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://www.secretmaryo.org/wiki/index.php?title=Level_Design_Guidelines"><tt style="font-size: 1.3em;">http://www.secretmaryo.org/wiki/index.php?title=Level_Design_Guidelines</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Marvin Gülker</b>
ist Schüler der Stufe 12 und programmiert für sein Leben gern.
Seit er von Ubuntu auf Arch Linux umgestiegen ist, schaut er öfter mal, was
für neue Spiele in die Arch-Repos wandern und probiert sie aus.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Secret Maryo Chronicles#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_firefox-erweiterungen">Gesunde Datenkekse backen – Firefox mit Erweiterungen absichern</a><a name="11_03_firefox-erweiterungen">
</a></font></h1>von Bodo Schmitz        <b>D</b><b>er Browser Firefox sowie andere Produkte aus dem Hause Mozilla
verfügen über eine Erweiterungsschnittstelle, die man einsetzen kann,
um die benutzten Programme mit geeigneten Erweiterungen gegen
Einbruch und Datenschnüffelei abzudichten. Der Artikel soll einige
Erweiterungen vorstellen, die bei der Absicherung des Browsers dienen
können.</b>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<h2>Einleitung</h2>

<div class="p"><!----></div>
Die Electronic Frontier Foundation (EFF) warnt vor Benutzeridentifikation
durch Browser-Fingerprinting&nbsp;<a href="http://www.pro-linux.de/news/1/15331/1,eff-gegen-browser-fingerprinting.html">[1]</a>,
doch sollte man sich nicht von Meldungen wie dieser dazu verleiten
lassen, aus Gründen der „Unauffälligkeit“ seinen Browser nur noch in
der Standardeinstellung zu betreiben, um sich damit dann ein Riesenloch
in seine Sicherheitsinfrastruktur zu reißen.

<div class="p"><!----></div>
Aus Gründen der Datensicherheit und des Schutzes vor allerlei Datenkraken
ist es sehr wohl sinnvoll, seinen „Netzausbreiter“ so gut wie möglich
abzudichten. Dabei ist es weitaus zielführender, statt dem
unendlichen Versions- und Updatewahn hinterher zu hecheln, lieber
grundlegende Risiken auszuschalten, indem man seinen Browser
vernünftig konfiguriertund auf in der
Mozilla-Welt verfügbare Erweiterungen zu setzen.

<div class="p"><!----></div>
Neben Firefox (auf debian-basierten Distributionen heißt er aus
lizenzrechtlichen Gründen „Iceweasel“; bei Ubuntu und Derivaten
werden für Mozilla-Produkte allerdings wieder die
Originalbezeichnungen verwendet) beinhaltet übrigens Seamonkey
(Debian: „Iceape“, das Community-Projekt der inzwischen
eingestellten Mozilla-Suite) seit Version 2 ebenfalls eine
Erweiterungsschnittstelle, genauso wie der E-Mail-Client Thunderbird
(Debian: „Icedove“).

<div class="p"><!----></div>
     
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/firefox-erweiterungen.png" /><br /><em>So weit muss man es mit der Absicherung nicht unbedingt treiben. Zu einem erhöhten Sicherheitsniveau führt eine solche Verhaltensweise aber dennoch.</em><br />

<div class="p"><!----></div>
Die hier vorgestellte Übersicht soll als Einblick in diese Thematik
dienen, sie kann keineswegs vollständig sein, dafür sollte sie aber
zu weiterer Recherche anregen. Auch überschneidet sich der
Einsatzzweck einiger Erweiterungen, was aufgrund der
Inkompatibilität mit einigen Browserversionen zu mehr Flexibilität
führen dürfte, da nicht jede Browserversion mit jeder der
aufgeführten Erweiterungen funktioniert.

<div class="p"><!----></div>
Eine sehr gut sortierte Zusammenstellung zahlreicher Erweiterungen
für die verschiedenen 
    
Mozilla-Produkte bietet die inzwischen
eingefrorene, aber nach wie vor verfügbare Webseite
erweiterungen.de&nbsp;<a href="http://www.erweiterungen.de/">[2]</a>, die rund die
Hälfte der hier vorgestellten Erweiterungen listet. Von dort kann
man die zahlreichen auf deutsch verfügbaren Erweiterungen
installieren und über den Erweiterungsmanager des Browsers
aktualisieren lassen, da es manchmal mühsam ist, auf den meist
englischsprachigen Webseiten die deutsche bzw. internationale
Version zu finden.

<div class="p"><!----></div>
Einige Erweiterungen überprüfen beim Start des Browsers selbstständig, ob
neue Versionen verfügbar sind, es empfiehlt sich aber dennoch,
regelmäßig über den Erweiterungsmanager nach Aktualisierungen suchen
zu lassen. Die Kompatibilität zu den unterschiedlichen
Browserversionen verändert sich im Laufe der Zeit. Somit empfiehlt
es sich, auf der jeweiligen Homepage der Erweiterung in die
Änderungsdatei (Changelog) zu schauen und im Falle der Inkompatibilität
nach alternativen Erweiterungen zu suchen bzw. die letztmögliche
Version zu verwenden (die normalerweise auf der Mozilla-AddOns-Seite
ganz unten zu finden ist), denn es ist meist besser, eine Erweiterung
mit älterer Versionsnummer zu benutzen, als sie auszulassen. Sollte
es zu Problemen kommen, kann man im Firefox-Erweiterungsmanager per
Rechtsklick die Aktualisierung für jede Erweiterung einzeln
vornehmen.

<div class="p"><!----></div>
Generell empfiehlt es sich, statt auf potentiell unsichere Plug-ins
zu setzen (vor allem, wenn diese proprietärer Herkunft sind), die
jeweiligen Medien (Audio, Video, PDFs etc.) manuell herunterzuladen
und anschließend mit möglichst quelloffener Software einzusehen. Das
erhöht zwar im Vergleich zu gestreamten und somit häufig nur
teilweise konsumierten Medien in einzelnen Fällen die Serverlast,
aber ebenso die Sicherheit des Anwenders. Eventuell lässt man vorher
noch einen Virenscanner über die Medien schauen.

<div class="p"><!----></div>

<h2>Die Erweiterungen</h2>

<div class="p"><!----></div>

<h3>NoScript</h3>

<div class="p"><!----></div>
Der wohl größte Anteil an Sicherheitsschwankungen wird hervorgerufen
durch JavaScript in Kombination mit anderen Techniken. Da man
JavaScript beim normalen Surfen in der Regel nicht braucht, sollte
es standardmäßig deaktiviert werden, um Folgeschäden zu vermeiden.
Dazu bietet sich in idealer Form die Erweiterung „NoScript“ an. Die
standardmäßig blockierten Skripte lassen sich temporär (bis zum Ende
der Sitzung) oder dauerhaft (bei regelmäßig besuchten Seiten) über
das in der Statusleiste des Browsers erscheinende Icon aktivieren.

<div class="p"><!----></div>
Das Ganze hat dann noch einige begrüßenswerte „Randerscheinungen“:
Während JavaScript auf der Hauptseite aktiviert ist, bleiben die
Skripte in den potentiell Schadcode-belasteten Werbeeinblendungen
weiterhin deaktiviert. Viele dieser Einblendungen kann man ergänzend
mit der unten beschriebenen Erweiterung „Adblock Plus“ komplett
entfernen. Man kann somit die Webseite mit JavaScript bedienen, ohne
gleichzeitig schmutziges Beiwerk mitgeliefert zu bekommen. Darüber
hinaus kann „NoScript“ noch viel mehr: Neben JavaScript kann diese
Erweiterung diverse potentiell gefährliche oder instabile Plug-ins
blockieren (z.&nbsp;B. Flash, Silverlight etc.) sowie manche
Datensammelei verhindern und Randgefahren, wie z.&nbsp;B. Umleitungen auf
andere potentiell Schadcode-belastete Webseiten, verhindern.

<div class="p"><!----></div>

<div class="p"><!----></div>
<b>Achtung:</b> JavaScript muss in den Browser-Optionen aktiviert bleiben,
da es durch die Erweiterung selbst blockiert wird. Bei der weiter
unten beschriebenen Erweiterung „Cookie Button …“ verhält es sich dagegen genau umgekehrt.

<div class="p"><!----></div>

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.noscript.net/"><tt style="font-size: 1.3em;">http://www.noscript.net/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/noscript/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/noscript/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Cookie Button in the status bar („CBitsb“)</h3>

<div class="p"><!----></div>
Die Erweiterung „CBitsb“ verhält sich in gewisser Weise ähnlich wie
„NoScript“. Mit ihr können Cookies generell gesperrt und bei Bedarf
für einzelne Webseiten temporär oder dauerhaft aktiviert werden. Die
Steuerung funktioniert ebenfalls über ein Symbol in der Statusleiste
des Browsers.

<div class="p"><!----></div>
Im Gegensatz zur JavaScript-Steuerung mittels „NoScript“ müssen die
Cookies bei „CBitsb“ in den Browser-Optionen gesperrt werden. Die
Erweiterung entsperrt sie dann entsprechend der Konfiguration.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/cookie-button-in-the-status-ba/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/cookie-button-in-the-status-ba/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>View Cookies</h3>

<div class="p"><!----></div>
Den Inhalt der ungeliebten „Datenkekse“ kann man mit „View Cookies“
in einem separaten Browser-Tab anschauen.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/view-cookies/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/view-cookies/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Flashblock</h3>

<div class="p"><!----></div>
Wer „NoScript“ nicht verwenden kann oder möchte, kann alternativ mit
der Erweiterung „Flashblock“ Flash und Silverlight blockieren. 
<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://flashblock.mozdev.org/"><tt style="font-size: 1.3em;">http://flashblock.mozdev.org/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/flashblock/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/flashblock/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Adblock Plus</h3>

<div class="p"><!----></div>
Mit „Adblock Plus“ können Filterlisten, die Quelltextmuster
beinhalten, abonniert werden, um Werbung und andere lästige
Einblendungen von diversen „Dienstleistern“ auszublenden. Zusätzlich
können diese Listen durch eigene Filterregeln erweitert werden. Zur
einfacheren Verwaltung empfiehlt sich zusätzlich die Installation der
Erweiterung „Adblock Plus: Element Hiding Helper“.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.adblockplus.org/de/"><tt style="font-size: 1.3em;">http://www.adblockplus.org/de/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/adblock-plus/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/adblock-plus/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="http://www.erweiterungen.de/detail/Adblock_Plus_Element_Hiding_Helper/"><tt style="font-size: 1.3em;">http://www.erweiterungen.de/detail/Adblock_Plus_Element_Hiding_Helper/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/elemhidehelper/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/elemhidehelper/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Remove It Permanently</h3>

<div class="p"><!----></div>
Ergänzend zu „Adblock Plus“ ermöglicht „RIP“ das permanente Blocken
von unerwünschten Webseiteninhalten.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://rip.mozdev.org/"><tt style="font-size: 1.3em;">http://rip.mozdev.org/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>RefControl</h3>

<div class="p"><!----></div>
Der sogenannte Referer teilt einer Webseite mit, von wo aus man
herkommt, sodass z.&nbsp;B. in Kombination mit Cookies ein Besucherprofil
erstellt werden kann. Das hat in der Regel wenig Mehrwert für den
Seitenbesucher, birgt aber hohes Missbrauchspotential und sollte
somit blockiert werden. Einzelne Domains können bei Bedarf in einer
Liste von der Sperrung ausgenommen werden. Der Browser Opera kann
diese Information übrigens von Haus aus nach entsprechender
Konfiguration blockieren.

<div class="p"><!----></div>
Nach Installation von „RefControl“ muss die standardmäßige Blockierung
noch aktiviert und die Standardregel auf „<em>Blockieren</em>“ gesetzt
werden. Zur bequemen Umschaltung erscheint ein Button in der
Statuszeile des Browsers, falls die Zusammenarbeit mit einigen
Webseiten (wie beispielsweise bei
Download-Portalen) aufgrund der Referer-Blockierung
einmal scheitern sollte.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.stardrifter.org/refcontrol/"><tt style="font-size: 1.3em;">http://www.stardrifter.org/refcontrol/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/refcontrol/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/refcontrol/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>No-Referer</h3>

<div class="p"><!----></div>
Die Erweiterung „No-Referer“ stellt eine Alternative zu „RefControl“
dar. Beim Öffnen von Links in einen neuen Tab per Rechtsklick
erscheint im Kontextmenü ein weiterer Eintrag, der den Klick ohne
Übermittlung des Referers ermöglicht.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/no-referer/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/no-referer/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>BetterPrivacy</h3>

<div class="p"><!----></div>
Mit „BetterPrivacy“ wird man die penetranten
„Flash-Cookies“&nbsp;<a href="https://secure.wikimedia.org/wikipedia/de/wiki/Flash-Cookie">[3]</a>
los, die von Webseiten wie YouTube und eBay zur Erstellung von
Besucherprofilen gesetzt werden. Diese Objekte lassen sich nämlich
nicht über den normalen Cookie-Manager des Browsers entfernen.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/betterprivacy/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/betterprivacy/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>IDN Info</h3>

<div class="p"><!----></div>
Beim sogenannten Domain Spoofing wird der Besucher durch Austausch ähnlich
aussehender Zeichen (z.&nbsp;B. aus dem kyrillischen Zeichensatz) im
Domain-Namen unbemerkt auf eine zwar visuell gleich
aussehende, aber logisch andere Domain gelockt, um von dort seinen
Rechner anzugreifen. „IDN Info“ warnt den Besucher durch ein
entsprechendes Icon.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.erweiterungen.de/detail/IDN_Info/"><tt style="font-size: 1.3em;">http://www.erweiterungen.de/detail/IDN_Info/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>SpoofStick</h3>

<div class="p"><!----></div>
„SpoofStick“ gibt durch eine Texteinblendung in der Menüleiste
zu erkennen, ob man auf eine gefälschte Seite umgeleitet worden ist.
Die in der Regel kryptischen, gefälschten Internet-Adressen werden in
eine für Menschen leichter lesbare Form gebracht und sind laut
Hersteller ein brauchbarer Start, nicht auf die Fälschungen
hereinzufallen.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.spoofstick.com/"><tt style="font-size: 1.3em;">http://www.spoofstick.com/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>LayerBlock</h3>

<div class="p"><!----></div>
Über so genannte Layer (Ebenen) lassen sich Seitenelemente exakt
positionieren. 

Aber auch Werbung einblenden, die nicht durch
Popup-Filter oder Deaktivierung von JavaScript ausgeblendet werden
kann. „LayerBlock“ sperrt diese Form der Werbeeinblendungen.
Zahlreiche bekannte Standard-Werbe-Layer können alternativ von der
oben beschriebenene Erweiterung „AdBlock Plus“ blockiert werden.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://home.arcor.de/jonha/lb/"><tt style="font-size: 1.3em;">http://home.arcor.de/jonha/lb/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>FoxyProxy</h3>

<div class="p"><!----></div>
Mit der Erweiterung „FoxyProxy“ lassen sich sehr komfortabel
Proxydienste, wie z.&nbsp;B. Jondos/JAP&nbsp;<a href="http://anonymous-proxy-servers.net/de/">[4]</a>,
verwalten und nach Bedarf per Button ein- und ausschalten. Das
erspart das lästige und fehleranfällige manuelle Umstellen der
Netzwerkeinstellungen des Browsers.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://foxyproxy.mozdev.org/"><tt style="font-size: 1.3em;">http://foxyproxy.mozdev.org/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/foxyproxy-standard/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/foxyproxy-standard/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>SwitchProxy Tool („SPT“)</h3>

<div class="p"><!----></div>
„SPT“ geht in die gleiche Richtung wie die oben angesprochene
Erweiterung „FoxyProxy“, bietet allerdings weniger Optionen (so
fehlt z.&nbsp;B. der „Tor Wizard“), tut aber grundlegend seinen Dienst.

<div class="p"><!----></div>
Info/Download:
 
<ul>
<li> <a href="http://www.erweiterungen.de/detail/SwitchProxy_Tool/"><tt style="font-size: 1.3em;">http://www.erweiterungen.de/detail/SwitchProxy_Tool/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<h3>Torbutton</h3>

<div class="p"><!----></div>
„Torbutton“ ist eine sehr leistungsfähige Erweiterung mit
zahlreichen sicherheitsrelevanten Optionen zur Teilnahme am
Tor-Proxynetzwerk&nbsp;<a href="http://www.torproject.org/">[5]</a>. Ähnlich wie die
beiden oben genannten Proxy-Erweiterungen lässt sich das
Proxy-Netzwerk per Klick auf einen Statusleisteneintrag bequem ein-
und ausschalten.

<div class="p"><!----></div>
KDE-Nutzern empfiehlt sich darüber hinaus die Installation des
Konfigurationswerkzeugs TorK&nbsp;<a href="http://www.anonymityanywhere.com/tork/">[6]</a>.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.torproject.org/torbutton/"><tt style="font-size: 1.3em;">http://www.torproject.org/torbutton/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/torbutton/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/torbutton/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Tor-Proxy.NET-Toolbar</h3>

<div class="p"><!----></div>
Über diese Erweiterung wird eine Toolbar installiert, in die man die
zu besuchende Webadresse eingeben kann, die man dann verschlüsselt
über den Anonymisierungsdienst von Tor-Proxy.NET aufrufen kann, der
die Anfragen zur weiteren Verschleierung an einen Proxy-Dienst wie
Tor oder JonDos/JAP weiterleitet.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://tor-proxy.net/index.php?q=de/node/5"><tt style="font-size: 1.3em;">http://tor-proxy.net/index.php?q=de/node/5</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/tor-proxynet-toolbar/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/tor-proxynet-toolbar/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>HTTPS Everywhere</h3>

<div class="p"><!----></div>
„HTTPS Everywhere“ greift, soweit eine entsprechende Unterstützung
durch 

die Webseite 
angeboten wird, über HTTPS auf die jeweiligen
Seiteninhalte zu und versucht, HTTP-Verlinkungen in die sichere
HTTPS-Version umzuwandeln. Das klappt allerdings nicht immer zur
vollen Zufriedenheit, wie Oliver Herold detailliert
erläutert&nbsp;<a href="http://www.fixmbr.de/fragwuerdige-sicherheit-mittels-effs-https-everywhere/">[7]</a>.
Eine permanente Kontrolle ist also nötig.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.eff.org/https-everywhere"><tt style="font-size: 1.3em;">http://www.eff.org/https-everywhere</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>Quick Locale Switcher</h3>

<div class="p"><!----></div>
Mittels des „Quick Locale Switcher“ kann man einer Browserweiche
vortäuschen, aus einem anderen Land zu kommen, um somit anders
lokalisierte Webseiten betrachten zu können. Außerdem kann man
damit wunderbar „Datenkraken“ irritieren.

<div class="p"><!----></div>
Aus einer sehr umfangreichen Liste verfügbarer „Herkunftsländer“
kann man sich eine Auswahl zusammenstellen. Nach Wechsel der
Lokalisierung wird man allerdings zum Neustart des Browsers
aufgefordert.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/quick-locale-switcher/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/quick-locale-switcher/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>User Agent Switcher</h3>

<div class="p"><!----></div>
Vergleichbar mit der oben genannten Erweiterung „Quick Locale
Switcher“ kann man über den „User Agent Switcher“ eine falsche
Browserkennung senden, da es leider immer noch Webdesigner gibt, die
offensichtlich der Meinung sind, dass es nur einen Browser (und ein
Betriebssystem) auf der Welt gibt. Möglicherweise lassen sich so
sonst nicht zugreifbare Webseiten benutzen. Darüber hinaus kann man
damit YouTube überreden, wieder Flash mit Firefox 2 abzuspielen, da
man dort inzwischen ohne erkennbaren Grund „leicht penetrant“
gedrängt wird, seinen Browser zu aktualisieren.

<div class="p"><!----></div>
Auch ist es möglich, sich als Suchmaschinen-Spider auszugeben. Es
lassen sich beliebige Kennungen erzeugen sowie die Liste der
Kennungen im- und exportieren.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://chrispederick.com/work/user-agent-switcher/"><tt style="font-size: 1.3em;">http://chrispederick.com/work/user-agent-switcher/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/user-agent-switcher/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/user-agent-switcher/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>SafeCache/SafeHistory</h3>

<div class="p"><!----></div>
Es gibt Angriffsmethoden, bei denen durch das Auslesen der
Link-Einfärbung besuchter Webseiten ein Profiling des
Seitenbesuchers möglich ist bzw. der Besuch einer (unliebsamen)
Webseite nachgewiesen werden kann. Die beiden Erweiterungen
„SafeCache“ und „SafeHistory“ unterbinden dieses Loch in der
Privatsphäre. 
<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://www.safecache.com/"><tt style="font-size: 1.3em;">http://www.safecache.com/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/safecache/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/safecache/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="http://www.safehistory.com/"><tt style="font-size: 1.3em;">http://www.safehistory.com/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="https://addons.mozilla.org/de/firefox/addon/safehistory/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/safehistory/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>ShowIP</h3>

<div class="p"><!----></div>
Die Erweiterung „ShowIP“ zeigt die
IP-Adresse der gerade besuchten Webseite in der Statuszeile an. Das erhöht die Chancen, nicht auf verdeckte
Umleitungen hereinzufallen.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="https://addons.mozilla.org/de/firefox/addon/showip/"><tt style="font-size: 1.3em;">https://addons.mozilla.org/de/firefox/addon/showip/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h3>My IP Tool („IPT“)</h3>

<div class="p"><!----></div>
„IPT“ zeigt über ein Symbol in der Statusleiste die lokale bzw.
öffentliche IP-Adresse des Computers an. Dies kann z.&nbsp;B. zur
Funktionskontrolle eines Proxy-Dienstes eingesetzt werden.

<div class="p"><!----></div>
Info/Download:

<ul>
<li> <a href="http://fux.zuhage.de/my_ip_tool/"><tt style="font-size: 1.3em;">http://fux.zuhage.de/my_ip_tool/</tt></a>
<div class="p"><!----></div>
</li>

<li> <a href="http://www.erweiterungen.de/detail/My_IP_Tool/"><tt style="font-size: 1.3em;">http://www.erweiterungen.de/detail/My_IP_Tool/</tt></a>

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h2>Fazit</h2>

<div class="p"><!----></div>
Zusammengefasst erhöhen die oben genannten Erweiterungen Komfort und Sicherheit der gängigen
Mozilla-Produkte. Da es auch in Zukunft keine wirklich „sichere“
Applikationen geben wird, ist es sinnvoller, mit einer
entsprechenden Zusatzausstattung seine Anwendungen größtmöglich
abzudichten. Dann kann man sich auch fast ohne schlechtes Gewissen
mit der Lieblingsversion seines Lieblingsbrowsers im Netz bewegen.
Der Google-Browser Chrome enthält inzwischen auch eine ähnliche
Erweiterungsschnittstelle. Mit Firefox 4 soll allerdings eine neue
Erweiterungsschnittstelle eingeführt werden, 

um z.&nbsp;B. den Neustart der Anwendung nach Installation und Aktualisierung der
Erweiterungen unnötig zu machen.

<div class="p"><!----></div>
Darüber hinaus lohnt sich ebenfalls die Auseinandersetzung mit
sicherheitsrelevanten Erweiterungen für den E-Mail-Client
Thunderbird wie auch dem gerade erschienenen Opera 11, der nun
ebenfalls eine Erweiterungsschnittstelle beeinhaltet. 
<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://www.pro-linux.de/news/1/15331/1,eff-gegen-browser-fingerprinting.html"><tt style="font-size: 1.3em;">http://www.pro-linux.de/news/1/15331/1,eff-gegen-browser-fingerprinting.html</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.erweiterungen.de/"><tt style="font-size: 1.3em;">http://www.erweiterungen.de/</tt></a><br />

<div class="p"><!----></div>
[3] <a href="https://secure.wikimedia.org/wikipedia/de/wiki/Flash-Cookie"><tt style="font-size: 1.3em;">https://secure.wikimedia.org/wikipedia/de/wiki/Flash-Cookie</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://anonymous-proxy-servers.net/de/"><tt style="font-size: 1.3em;">http://anonymous-proxy-servers.net/de/</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.torproject.org/"><tt style="font-size: 1.3em;">http://www.torproject.org/</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://www.anonymityanywhere.com/tork/"><tt style="font-size: 1.3em;">http://www.anonymityanywhere.com/tork/</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://www.fixmbr.de/fragwuerdige-sicherheit-mittels-effs-https-everywhere/"><tt style="font-size: 1.3em;">http://www.fixmbr.de/fragwuerdige-sicherheit-mittels-effs-https-everywhere/</tt></a><br />

<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Bodo Schmitz</b>&nbsp;(<a href="http://www.zonesystem.de/">Webseite</a>)
wollte seinen Browser sehr weit absichern. Mit den im Artikel beschriebenen
Erweiterungen erreichte er dabei ein höheres Sicherheitsniveau, als
es die Standard-Einstellmöglichkeiten des Browsers je bieten können.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Firefox mit Erweiterungen absichern#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
            

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_heimautomatisierung_2">Heimautomatisierung für Hardwarebastler (Teil 2)</a><a name="11_03_heimautomatisierung_2">
</a></font></h1>von Hans Müller        <b>N</b><b>achdem im ersten Teil dieser losen Artikelserie beschrieben wurde, wie ein 
kleines Projekt zur Ansteuerung einer externen Hardware aufgesetzt werden 
kann (siehe <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> 01/2011&nbsp;<a href="http://www.freiesmagazin.de/freiesMagazin-2011-01">[1]</a>), soll im Teil&nbsp;2 etwas tiefer in die OpenAPC-Software eingestiegen 
werden. Ziel ist es hier, eine Softwarestruktur aufzusetzen, welche auch für 
größere und vor allem komplexere Steuerungsaufgaben geeignet ist. 
Darüber hinaus soll auch gezeigt werden, wie sich so ein System mittels den 
integrierten Skriptfähigkeiten des Softwarepaketes kontrollieren lässt.</b>

<div class="p"><!----></div>

<h2>Updates und ihre Folgen</h2>

<div class="p"><!----></div>
Zuvor ist ein kleiner Rückblick auf den ersten Teil des Artikels
notwendig. Hier wurde mit Hilfe der Version 1.0 der
OpenAPC-Visualisierungssoftware ein Projekt zur Rollladensteuerung erstellt. Mit der
bis zum Erscheinen des Artikels aktuell gewordenen Version 1.2 hat dieses
Projekt leider nicht mehr funktioniert. Ursache hierfür war ein Fehler in
der Version 1.0, der in der neueren Version behoben wurde. Ungünstigerweise
hat das Beispiel diesen Softwarefehler benötigt, um korrekt zu
funktionieren. Die notwendige Änderung ist aber einfach zu
bewerkstelligen und bei genauerer Betrachtung auch logisch: So dürfen die
Ausgänge der beiden Toggle-Buttons nicht direkt auf den Eingang des Displays
gesetzt werden, sondern müssen über ein logisches Oder-Gatter miteinander
verbunden werden.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/heimautomatisierung_1.png" /><br /><em>Die Button-Ausgänge werden über ein Oder-Gatter verknüpft.</em><br />

<div class="p"><!----></div>
Ist dieses Gatter nicht vorhanden, bestimmt immer der Button, der den
Zustand seines Ausganges als letztes ändert, über den Anzeigezustand des
Elementes „<em>RL1Display</em>“. Erst durch     
Verwendung des logischen Oder-Gatters wird dann auch
tatsächlich überprüft, ob mindestens einer der beiden Toggle-Buttons auf HIGH
gegangen ist.

<div class="p"><!----></div>

<div class="p"><!----></div>
    So ärgerlich solche Inkompatibilitäten sind, so üblich sind sie leider auch
im professionellen Umfeld: So ist es bei Softwareupdates in jedem Fall
erforderlich, Regressionstests mit den bereits vorhandenen Projekten
durchzuführen, um zu überprüfen,
    
ob die Software noch so arbeitet, wie man
es erwartet. Und nicht selten ist genau darin der Grund zu finden, warum die
Industrie Uralt-Versionen einer bestimmten Software auf ihren Maschinen
einsetzt. Nur mit dieser Version ist sicher gestellt, dass die
Anlagen noch wie gewünscht funktionieren.

<div class="p"><!----></div>
So ist es gängige Praxis, dass Softwarehersteller echte Fehler und Bugs
beheben, auch wenn sich dabei das Verhalten ändern kann. Allerdings wird bei
neuen Funktionen peinlich genau darauf geachtet, dass sich das Verhalten
gegenüber den vorhergehenden Versionen nicht ändert. Und wer besonders große
Stückzahlen einer Software einsetzt, kann beim Hersteller natürlich auch
Sonderwünsche äußern. Das geht zum Teil sogar so weit, dass Bugs für
spezielle Kunden explizit nicht behoben werden, um das Verhalten nicht zu
ändern.

<div class="p"><!----></div>
<b>Hinweis:</b> Alle vorgestellten Dateien <b><tt style="font-size: 1.3em;">test2.apcp</tt></b>, <b><tt style="font-size: 1.3em;">test2.lua</tt></b>
und <b><tt style="font-size: 1.3em;">test2.il</tt></b> können zusammen über das Archiv
<a href="http://www.freiesmagazin.de/mobil/\Jahr-\Monat-listings/test2.tar.gz">heimautomatisierung.tar.gz</a> heruntergeladen werden.

<div class="p"><!----></div>

<h2>Steuerung per Skript</h2>

<div class="p"><!----></div>
Doch nach diesem Ausflug in die problematischen Bereiche der professionellen
Automatisierung zurück zur Visualisierung der Rollladensteuerung: Im
Folgenden soll das bestehende Projekt ein wenig erweitert werden. So sollen
an Stelle der Toggle-Buttons zum Schalten der Rollladen jetzt einfache Buttons
für „<em>hoch</em>“, „<em>runter</em>“ und „<em>Stopp</em>“ zum Einsatz kommen, welche nicht mehr über
ein im Floweditor erstelltes Blockdiagramm gesteuert werden, sondern über
ein externes Skript.

<div class="p"><!----></div>
Der Benutzer soll zukünftig nur noch einen der drei Buttons kurz drücken, um
eine Aktion auszulösen; das Skript überwacht dabei komplett den Zustand und
steuert auch die Ausgänge der Parallelschnittstelle entsprechend der letzten
Aktion des Benutzers an.

<div class="p"><!----></div>
Die OpenAPC-Software bringt zwei Skriptinterpreter mit: einen für
LUA&nbsp;<a href="http://www.lua.org/">[2]</a>, einer leicht zu erlernenden und schön strukturierten
Sprache, und einen für Instruktionslisten (Instruction List/IL), einer
einfach gehaltenen, assemblerähnlichen Sprache, welche aus der Welt der
Automatisierung und speicherprogrammierbaren Steuerungen
(SPS/PLC)&nbsp;<a href="http://de.wikipedia.org/wiki/Speicherprogrammierbare_Steuerung">[3]</a> bekannt ist
und dort auch häufig verwendet wird.

<div class="p"><!----></div>
Allerdings ist es – was zuerst ein wenig überrascht – nicht möglich, diese
Skripte direkt in der Umgebung des OpenPlayer laufen zu lassen. Hierfür ist
ein Umweg über ein zusätzliches Element notwendig, den so genannten
„Interlock-Server“. Dieser dient als zentrale Kommunikationsinstanz und
Schnittstelle zwischen allen Komponenten, mit denen der OpenPlayer in einem
Projekt möglicherweise zusammenarbeitet. Hier ist man nicht
auf eine einzelne Instanz eines Skriptinterpreters angewiesen, es ist bei komplexeren Systemen tatsächlich auch möglich, Teilaspekte einer
Steuerung in getrennten Skripten zu behandeln. Das erhöht die
Übersichtlichkeit und Wartbarkeit eines Projektes enorm.

<div class="p"><!----></div>
Doch nun zur praktischen Durchführung des Vorhabens. Da das bisherige
Rollladen-Projekt nicht allzu komplex ist und die vorzunehmenden Änderungen
etwas umfangreicher sind, lohnt es sich an dieser Stelle durchaus, ein komplett
neues Projekt aufzusetzen. Hier sind zuerst ein paar globale Einstellungen
notwendig, welche im Projektdialog vorgenommen werden, der sich mittels des
Menüs „<em>Datei&nbsp;-&#62;&nbsp;Projekteinstellungen&nbsp;…</em>“ öffnen lässt. Dieser bietet einige
Möglichkeiten, das Projekt anzupassen. So kann hier die Größe des Fensters
gewählt werden, in dem sich später die Bedienelemente befinden, sowie dessen
Hintergrundfarbe. Weitere Parameter wie „<em>Timeout für Kontrollfluss</em>“ und
„<em>Genauigkeit Timer</em>“ sind nur für Projekte von Interesse, bei denen die
Logiksteuerung von einem Floweditor-Blockschaltbild übernommen wird (was in
diesem Beispiel hier ja erstmalig nicht mehr der Fall sein wird).

<div class="p"><!----></div>
Interessant wird es allerdings wieder bei der Option
„<em>Externe Applikationen / Interlock-Server benutzen</em>“.
Hierbei handelt es sich um die oben bereits
erwähnte zentrale Kommunikationsinstanz, welche erforderlich ist, wenn
externe Skripte zum Einsatz kommen sollen. Diese Option ist also zu
aktivieren.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/heimautomatisierung_2.png" /><br /><em>Die globalen Projekteinstellungen: Hier wird der Interlock-Server aktiviert.</em><br />

<div class="p"><!----></div>
Des Weiteren gibt es noch eine interessante Konfigurationsmöglichkeit
für Touchscreens. Wenn diese Option aktiviert wird, kümmert sich die
Software automatisch darum, dass der Benutzer Text- und Zahlenwerte eingeben
kann, auch wenn er keine Tastatur hat. Sobald im
    
OpenPlayer ein entsprechendes Eingabefeld selektiert wird, öffnet sich ein
On-Screen-Keyboard, mit dem Texte und Zahlen per Bildschirm eingegeben
werden können, die anschließend automatisch in das entsprechende Eingabefeld
übernommen werden.

<div class="p"><!----></div>

<div class="p"><!----></div>

<h2>HMI und Flow</h2>

<div class="p"><!----></div>
Der nächste Schritt sollte jetzt ganz einfach zu bewerkstelligen sein: Im
HMI-Editor werden drei Buttons angelegt, welche den Text „<em>Hoch</em>“, „<em>Stopp</em>“ und
„<em>Runter</em>“ sowie die eindeutigen Namen „<em>RLHoch</em>“, „<em>RLStopp</em>“ und „<em>RLRunter</em>“
erhalten, daneben wird wieder ein Anzeigeelement „<em>RLDisplay</em>“ gesetzt,
welches den aktuellen Zustand des Rollladens mittels der Farben grün
(Stillstand) und rot (Rollladen läuft) anzeigt.

<div class="p"><!----></div>
Auch im Flow-Editor passiert zunächst nichts Neues, hier werden die vier
Elemente wieder mittels des Kontextmenüs und des Menüpunktes
„<em>Steuerungselement anlegen</em>“ dem Editor hinzugefügt. Da die Steuerung jetzt
aber von einem Skript übernommen werden soll, werden zwischen diesen
Elementen keinerlei Verbindungslinien gezogen. Dafür muss aber definiert
werden, dass die Buttons ihre Ausgangsdaten zum
    
Interlock-Server übertragen
sollen und das Anzeigeelement „<em>RLDisplay</em>“ vom Interlock-Server Veränderungen
zulässt. Das passiert mit Doppelklick auf die Elementsymbole, hier öffnet
sich jeweils ein Konfigurationsdialog, welcher die entsprechenden Optionen
anbietet: „<em>Ausgänge zum Server übertragen</em>“ für die
Buttons und „<em>Veränderung zulassen</em>“
für das Anzeigeelement. Ganz wichtig und nicht zu vergessen: 
    
Auch
das Plug-in für die Parallelschnittstelle, welches die Hardware ansteuern
soll, muss dem Flow-Editor hinzugefügt werden und ebenfalls dafür
konfiguriert werden, dass seine Eingänge vom Interlock-Server verändert
werden dürfen.

<div class="p"><!----></div>

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/heimautomatisierung_3.png" /><br /><em>Parametrisierung der Elemente: Hier wird festgelegt, welche Daten der Interlock-Server bekommt und welche er verändern darf.</em><br />

<div class="p"><!----></div>
Dieser zusätzliche Konfigurationsschritt scheint umständlich, ist bei
genauerer Betrachtung aber durchaus sinnvoll: So sind komplexe
Benutzerinterfaces mit hunderten Bedienelementen vorstellbar, von denen aber
nur ein Teil nach außen hin sichtbar sein muss (z.&nbsp;B. weil die anderen
lediglich die Darstellung der Oberfläche beeinflussen und nichts mit der
Steuerung selbst zu tun haben). Für solche Fälle wird mit dieser
Vorgehensweise verhindert, dass der Interlock-Server mit Daten belastet
wird, die für ihn nicht von Interesse sind. Das spart Ressourcen und macht
das Projekt übersichtlicher.

<div class="p"><!----></div>
Wird dieses Projekt nun gespeichert und im Debugger oder Player gestartet,
passiert logischerweise erst einmal gar nichts, da es keine Flow-Verbindungen
gibt und das Skript auch noch nicht existiert. Ein in der Konsole aufgerufenes

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ps&nbsp;-A
</pre>

<div class="p"><!----></div>

<div class="p"><!----></div>
verrät aber, dass jetzt ein neuer Prozess <b><tt style="font-size: 1.3em;">OpenIServer</tt></b> läuft – das ist der
Interlock-Server, welcher vom Player oder Debugger automatisch gestartet wird.

<div class="p"><!----></div>

<h2>Im Inneren des Interlock-Servers</h2>

<div class="p"><!----></div>
Um erfolgreich mit dem Interlock-Server kommunizieren zu können und über
diesen Steuerungsaufgaben übernehmen zu können, ist ein klein wenig Theorie
über dessen Funktionsweise nötig. Im Prinzip arbeitet der Interlock-Server
nach einigen einfachen Regeln:

<div class="p"><!----></div>

<ul>
<li> Clients (wie z.&nbsp;B. der OpenPlayer, Skripte, aber auch andere Programme)
können sich mit diesem verbinden.
<div class="p"><!----></div>
</li>

<li> Clients können Daten zum Server schicken, diese werden dort gespeichert.
<div class="p"><!----></div>
</li>

<li> Wenn ein Client neue Daten zum Server schickt oder bestehende Daten
ändert, so werden diese Daten automatisch auch zu allen anderen Clients
weitergeleitet, sodass diese von den Änderungen erfahren.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Die dritte Eigenschaft ist essentiell und ermöglicht es erst, die Logik in
eigene Skripte oder Programme auszulagern: Sobald jemand z.&nbsp;B. einen der
Rollladen-Buttons betätigt, wird diese Information zum Interlock-Server
gesendet. Dieser leitet sie an alle anderen Clients weiter – einer dieser
Clients wird in Kürze das Skript sein, welches auf diesem Weg erfährt, dass
ein Button betätigt wurde. Jetzt kann das Skript auf diese Aktion reagieren
und seinerseits Daten an den Server senden, um beispielsweise einen Ausgang
der Parallelschnittstelle zu schalten. Hier ist das Prinzip das Gleiche: Das
Skript sendet Daten, der Interlock-Server speichert diese und gibt sie allen
anderen Clients bekannt. Einer der Clients ist der Player, welcher diese
Daten entgegennimmt und sie beispielsweise dem Parallelschnittstellen-Plug-in
übergibt, sodass dieses einen Ausgang schalten kann.

<div class="p"><!----></div>
Die Daten selbst können anhand ihres Namens unterschieden werden. Ein
Datenblock im Interlock-Server hat einen eindeutigen Namen, der sich
folgendermaßen zusammensetzt:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
/[Name]/[Richtung]&lt;/#&#62;
</pre>

<div class="p"><!----></div>
Der Name entspricht dem Namen, den das Objekt im Editor erhalten hat.
Richtung ist entweder „<em>out</em>“, wenn der Ausgang eines Elementes übertragen wird
(wie es bei den Buttons der Fall ist) oder „<em>in</em>“, wenn die Eingänge des
Elementes verändert werden (wie z.&nbsp;B. beim Displayelement oder dem
Schnittstellen-Plug-in). Der zusätzliche, optionale Parameter wird in
einigen speziellen Fällen benötigt, wenn nur ein Teil des Datenblockes
übertragen werden soll: Ein Datenblock ist komplett identisch aufgebaut wie
ein Flowelement und besitzt deswegen maximal acht Ein- oder Ausgänge, die
jeweils vom Typ digital, numerisch, Text oder binär sein können.

<div class="p"><!----></div>
In diesem Zusammenhang ist eine weitere Eigenschaft des Interlock-Servers
wichtig: Clients können Datenblöcke zwar anlegen, aber nicht löschen. Auch
können sie die Datentypen der acht IOs eines Datenblockes nachträglich nicht
mehr verändern. D.&nbsp;h. der erste Datenblock, der zum Interlock-Server gesendet
wird, legt dessen Struktur fest. Hier ist also peinlich
genau darauf zu
achten, dass diese Struktur auch wirklich zu den Flowelementen im Player
passt. Würden fälschlicherweise z.&nbsp;B. Binärdaten vom Interlock-Server auf
einen Digitaleingang gesendet werden, so würde der OpenPlayer (und natürlich
auch der OpenDebugger) die Annahme dieser Daten zu Recht
verweigern.

<div class="p"><!----></div>

<div class="p"><!----></div>
Die hier aufgestellten Behauptungen lassen sich im Debugger recht einfach
überprüfen: Dieser bietet eine Möglichkeit, den Interlock-Server zu
überwachen und alle Änderungen an den Datenblöcken anzuzeigen. Dazu ist das
Projekt – auf Grund des Zugriffs auf den Hardwareport des Parallelports –
aus einer Root-Konsole heraus mit einem

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
#&nbsp;OpenDebugger&nbsp;test2.apcp
</pre>

<div class="p"><!----></div>
zu starten. Das Datenbanksymbol im Debugger öffnet das Überwachungsfenster
für den Interlock-Server, welches vorerst noch leer ist. 
    
Ein Klick auf das
Käfersymbol startet das Projekt, sodass die Buttons jetzt betätigt werden
können und damit den Interlock-Server beeinflussen. Jetzt wird im soeben
geöffneten Überwachungsfenster jede Änderung im Interlock-Server
protokolliert. Hierbei wird der Name des Datenblockes angezeigt sowie der
Ein- bzw. Ausgang, welcher sich verändert.

<div class="p"><!----></div>
<img border="0" src="freiesMagazin-2011-03-bilder-Dateien/heimautomatisierung_4.png" /><br /><em>Änderungen im Interlock-Server: Das Fenster mit der grün-schwarzen Farbgebung eines Terminals überwacht diese und zeigt sie an.</em><br />

<div class="p"><!----></div>
Die Informationen dieses Überwachungsfensters sind recht leicht zu
interpretieren: Links steht der Name des Datenblockes, der verändert wurde,
rechts daneben dessen maximal acht Unterelemente, die den Ein- bzw. Ausgängen
des zugehörigen Flowelementes entsprechen und welche modifiziert wurden. „D“
steht hierbei für einen
    
digitalen Datentyp, „N“ für numerisch, „C“ für Text („Character“) und „B“ für binär. Die dahinter stehende Nummer „0..7“ zeigt
noch einmal die Nummer des veränderten Ein-/Ausganges an. So heißt die
letzte (ganz oben) angezeigte Zeile nichts anderes, als dass der
Digitalausgang 1 des Elements „<em>RLHoch</em>“ verändert wurde – das ist der
Ausgang, der mit jedem Klick auf den Button ein HIGH-Signal abgibt. Den Wert
des veränderten Datums kann man hier leider nicht sehen.

<div class="p"><!----></div>

<div class="p"><!----></div>

<h2>Das Skript in der Theorie</h2>

<div class="p"><!----></div>
Mit diesen Informationen lässt sich jetzt schon recht genau festlegen, was
das Skript letzten Endes tun soll:

<div class="p"><!----></div>

<ul>
<li> Sobald der Datenblock „<em>RLHoch</em>“, Ausgang&nbsp;1 (<b><tt style="font-size: 1.3em;">/RLHoch/out/1</tt></b>) auf HIGH gesetzt
wird, soll der Eingang 1 (<b><tt style="font-size: 1.3em;">/Parallelschnittstelle_5/in/1</tt></b>) auf LOW, der
Eingang 0 der Parallelschnittstelle „<em>Parallelschnittstelle_5</em>“
(<b><tt style="font-size: 1.3em;">/Parallelschnittstelle_5/in/0</tt></b>) auf HIGH und der Eingang 0 des
Anzeigeelementes „<em>RLDisplay</em>“ (<b><tt style="font-size: 1.3em;">/RLDisplay/in/0</tt></b>) auf HIGH gesetzt werden.
<div class="p"><!----></div>
</li>

<li> Sobald <b><tt style="font-size: 1.3em;">/RLRunter/out/1</tt></b> auf HIGH gesetzt wird, soll
<b><tt style="font-size: 1.3em;">/Parallelschnittstelle_5/in/0</tt></b> auf LOW, <b><tt style="font-size: 1.3em;">/Parallelschnittstelle_5/in/1</tt></b> auf
HIGH und der <b><tt style="font-size: 1.3em;">/RLDisplay/in/0</tt></b> auf HIGH gesetzt werden.
<div class="p"><!----></div>
</li>

<li> Wenn der Interlock-Server meldet, dass <b><tt style="font-size: 1.3em;">/RLStopp/out/1</tt></b> auf HIGH geht
(Stopp betätigt), soll alles gestoppt werden, d.&nbsp;h. beide Eingänge 0
und 1 von <b><tt style="font-size: 1.3em;">/Parallelschnittstelle_5/in</tt></b> und Eingang 0 von <b><tt style="font-size: 1.3em;">/RLDisplay/in</tt></b> werden
auf LOW gesetzt.

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
Damit ist die gesamte Funktionalität abgedeckt: Einer der Buttons
hoch/runter schaltet sowohl die Anzeige in der Visualisierung als auch den
richtigen Steuerausgang an der Parallelschnittstelle; wenn der Benutzer den
Stopp-Button betätigt, werden alle Steuerausgänge sowie die Anzeige
deaktiviert.

<div class="p"><!----></div>
Das Ganze nun noch in LUA oder IL (Instruction List) umzusetzen, ist mit dem
bis hier her erworbenen Wissen nur noch ein kleiner Schritt. Im Folgenden
soll dabei nur auf die Besonderheiten eingegangen werden, welche sich in den
jeweiligen Sprachen aus der Benutzung in der OpenAPC-Umgebung heraus
ergeben. LUA ist in der Tat wirklich sehr leicht zu erlernen, ist
erstklassig dokumentiert und hat auch eine große, immer hilfsbereite
Community&nbsp;<a href="http://www.lua.org/community.html">[4]</a>, sodass detailliertere
Erklärungen den Rahmen dieses Artikels sprengen würden.

<div class="p"><!----></div>
Ja, und wer sich Instruction List freiwillig antut, weiß was er macht und
worauf er sich einlässt – und kennt die IL dementsprechend auch in
ausreichender Tiefe.

<div class="p"><!----></div>

<h2>Leicht und elegant – LUA</h2>

<div class="p"><!----></div>
Allen OpenAPC-LUA-Skripten ist gemein, dass sie eine globale
Callback-Funktion <b><tt style="font-size: 1.3em;">oapc_ispace_recv_callback()</tt></b> definieren müssen. Diese wird
immer dann aufgerufen, wenn der Interlock-Server eine Änderung der Daten
meldet. Das heißt, hier kommen die Informationen über den Zustand der
Buttons an und müssen jeweils in einer eigenen Variablen zwischengespeichert
werden:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
function&nbsp;oapc_ispace_recv_callback(nodeName,&nbsp;cmd,&nbsp;ios,&nbsp;val0,&nbsp;val1,&nbsp;val2,&nbsp;val3,&nbsp;val4,&nbsp;val5,&nbsp;val6,&nbsp;val7)
&nbsp;&nbsp;&nbsp;if&nbsp;(nodeName=="/RLHoch/out")&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLHochPress=val1
&nbsp;&nbsp;&nbsp;elseif&nbsp;(nodeName=="/RLRunter/out")&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLRunterPress=val1
&nbsp;&nbsp;&nbsp;elseif&nbsp;(nodeName=="/RLStopp/out")&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLStoppPress=val1
&nbsp;&nbsp;&nbsp;end
end
</pre>

<div class="p"><!----></div>
Die Parameter dieser Funktion liefern dabei wichtige Zusatzinformationen:
<b><tt style="font-size: 1.3em;">nodeName</tt></b> ist der Name des Datenblocks, für den neue Werte übermittelt
werden. <b><tt style="font-size: 1.3em;">cmd</tt></b> liefert eine Information über den Grund, warum diese Funktion
aufgerufen wurde und kann für dieses Beispiel ignoriert werden, da dieser
hier immer der gleiche ist. Der Parameter <b><tt style="font-size: 1.3em;">ios</tt></b> wird in diesem Beispiel der
Einfachheit halber nicht ausgewertet, was man in realen Projekten eher nicht
tun sollte: Dieser enthält ein Bitmuster, welches angibt, welcher der
folgenden Parameter <b><tt style="font-size: 1.3em;">val0</tt></b>, …, <b><tt style="font-size: 1.3em;">val7</tt></b> welche Art von Daten enthält (also ob dort
digitale, numerische, Text- oder Binärdaten ankommen). Das sollte
korrekterweise überprüft werden, um Skriptabbrüche zu vermeiden, weil die
Daten falsch behandelt wurden.

<div class="p"><!----></div>
Die Variablen <b><tt style="font-size: 1.3em;">val0</tt></b> bis <b><tt style="font-size: 1.3em;">val7</tt></b> wiederum enthalten die aktualisierten Daten.
Da sich in diesem Beispiel immer nur der Ausgang 1 ändert, steht der
geänderte Wert auch immer in <b><tt style="font-size: 1.3em;">val1</tt></b>. Im Funktionsrumpf selbst wird jetzt nur
noch verglichen, ob sich ein bekannter Datenblock verändert hat.
    
Wenn ja
wird dessen Wert in einer globalen Variablen zwischengespeichert.

<div class="p"><!----></div>
Im Hauptteil des Skriptes müssen zuerst diese Variablen initialisiert werden.
Im nächsten Schritt kann danach eine Verbindung zum Server hergestellt werden:

<div class="p"><!----></div>
    
<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
RLHochPress=false
RLRunterPress=false
RLStoppPress=false
if&nbsp;(oapc_ispace_connect("",0)==1)&nbsp;then
&nbsp;&nbsp;&nbsp;...
&nbsp;&nbsp;&nbsp;oapc_ispace_disconnect()
end
</pre>

<div class="p"><!----></div>
Eine Verbindung zum Server wird mittels
<b><tt style="font-size: 1.3em;">oapc_ispace_connect()</tt></b> hergestellt, hier mit leeren
Parametern. Optional könnten  IP und Portnummer angegeben werden, welche auf
den Rechner verweisen, auf dem der Interlock-Server läuft. Da das System in
diesem Beispiel nicht in einem Netzwerk verteilt ist, sondern alles auf dem
Localhost läuft, ist das nicht erforderlich. Wird das Skript planmäßig
beendet, sollte die Verbindung zum Interlock-Server mittels
<b><tt style="font-size: 1.3em;">oapc_ispace_disconnect()</tt></b> ebenso planmäßig wieder geschlossen werden.
<b><tt style="font-size: 1.3em;">oapc_ispace_connect()</tt></b> liefert im Erfolgsfall überraschenderweise eine 1
zurück, im Fall eines Fehlers ist der Rückgabewert ein Fehlercode größer 1.

<div class="p"><!----></div>
    Die verbleibende Implementierung der eigentlichen Logik ist jetzt
vergleichsweise simpel:

<div class="p"><!----></div>
    
<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
while&nbsp;(true)&nbsp;do
&nbsp;&nbsp;&nbsp;if&nbsp;(RLHochPress==true)&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/1",false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/0",true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/RLDisplay/in/0",true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLHochPress=false
&nbsp;&nbsp;&nbsp;elseif&nbsp;(RLRunterPress==true)&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/0",false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/1",true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/RLDisplay/in/0",true)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLRunterPress=false
&nbsp;&nbsp;&nbsp;elseif&nbsp;(RLStoppPress==true)&nbsp;then
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/0",false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/Parallelport_5/in/1",false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_ispace_set_value("/RLDisplay/in/0",false)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RLStoppPress=false
&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oapc_util_thread_sleep(10)
&nbsp;&nbsp;&nbsp;end
end
</pre>

<div class="p"><!----></div>
    In einer Endlosschleife werden die Zustände der drei
globalen Statusvariablen <b><tt style="font-size: 1.3em;">RLHochPress</tt></b>, <b><tt style="font-size: 1.3em;">RLRunterPress</tt></b>, <b><tt style="font-size: 1.3em;">RLStoppPress</tt></b> abgefragt, die entsprechenden Daten zum Interlock Server gesendet und die
jeweilige Variable zurückgesetzt.

<div class="p"><!----></div>
    
<div class="p"><!----></div>
Die Funktion <b><tt style="font-size: 1.3em;">oapc_ispace_set_value()</tt></b> kann für alle Datentypen verwendet
werden, hier entscheidet der tatsächlich verwendete Typ des zweiten
Parameters, ob digitale, numerische Text- oder Binärdaten gesendet werden.
Der erste Parameter gibt hier den Datenblock und die Nummer des
Eingangs an, der verändert werden soll, deswegen wird hier die erweiterte Bezeichnung
des Blockes mit der zusätzlich 
    
angehängten Nummer zur Identifizierung
verwendet.

<div class="p"><!----></div>
Das war dann auch schon die gesamte Implementierung: Sobald der OpenPlayer
läuft, kann dieses Skript aus der Konsole heraus mit einem

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;luaPLC&nbsp;test2.lua
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
gestartet werden und steuert ab sofort den Ablauf.

<div class="p"><!----></div>
Nun noch ein Wort zur Funktion <b><tt style="font-size: 1.3em;">oapc_util_thread_sleep()</tt></b>. Diese
bietet eigentlich nichts OpenAPC-spezifisches, erweitert LUA jedoch um etwas
Wichtiges, was dieser Sprache leider fehlt: eine Pause. An dieser Stelle
werden immer dann 10 Millisekunden Pause eingelegt, wenn keine
Benutzereingaben vorhanden sind und das Skript deswegen eigentlich nichts
tun muss. Diese Pause verhindert, dass das Skript in dieser Endlosschleife
die gesamte Rechenleistung aufbraucht.

<div class="p"><!----></div>
Das SDK der OpenAPC-Software&nbsp;<a href="http://www.openapc.com/download.php">[5]</a> enthält
übrigens auch ein funktionierendes LUA-Beispielskript, welches ebenfalls die
OpenAPC-spezifischen Spracherweiterungen vorführt. 

<div class="p"><!----></div>

<h2>Feels like Assembler – IL</h2>

<div class="p"><!----></div>
Die Instruction-List (oder auf Deutsch auch
Anweisungsliste&nbsp;<a href="http://de.wikipedia.org/wiki/Anweisungsliste">[6]</a> nutzt eine
assemblerähnliche Syntax, bei der ein Akkumulator existiert, in den Werte
geladen werden können, mit dem anschließend (Rechen-)Operationen
durchgeführt werden können, dessen Inhalt für Vergleiche und bedingte
Sprünge herangezogen werden kann und anderes mehr. Die IL des
OpenAPC-Interpreters erweitert die Sprache dabei zum einen um einige
Befehle, die nicht dem Standard entsprechen, sowie um Möglichkeiten der
Variablendeklaration, wie sie eigentlich nur vom Structured-Text
(strukturierter Text&nbsp;<a href="http://de.wikipedia.org/wiki/Strukturierter_Text">[7]</a>) her
bekannt sind.

<div class="p"><!----></div>
Diese Erweiterungen erleichtern die Arbeit mit IL enorm und werden auch
herangezogen, um die Verbindung zum Interlock-Server herzustellen.

<div class="p"><!----></div>
Normale globale Variablendeklarationen werden in dieser Form der IL-Sprache
in einem Block

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
VAR_GLOBAL
&nbsp;&nbsp;&nbsp;Variablenname&nbsp;:&nbsp;Typ
END_VAR
</pre>

<div class="p"><!----></div>
vorgenommen. Für die Verbindungen zum Interlock-Server wurden bei dieser
Syntax Anleihen genommen. So kann in einem eigenen Block definiert werden,
welche Variablen direkt vom Interlock-Server beeinflusst werden:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
MAP_IS0
&nbsp;&nbsp;&nbsp;Variablenname&nbsp;:&nbsp;Typ&nbsp;:&nbsp;Datenblockname
END_MAP
</pre>

<div class="p"><!----></div>
<b>Achtung:</b> Das letzte Zeichen in <b><tt style="font-size: 1.3em;">MAP_IS0</tt></b> ist die Zahl „Null“ und nicht der
Buchstabe „O“! Hier ist der Interpreter offenbar für Verbindungen zu
mehreren Interlock-Servern vorbereitet worden, allerdings lässt sich das
bisher noch nicht nutzen.

<div class="p"><!----></div>
Für die Rollladensteuerung werden jetzt unter Verwendung dieses Blockes
mehrere Variablen auf die Ein- und Ausgänge
des Interlock-Server gemappt:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
MAP_IS0
&nbsp;&nbsp;&nbsp;RLHochPress&nbsp;&nbsp;&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/RLHoch/out/1
&nbsp;&nbsp;&nbsp;RLRunterPress&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/RLRunter/out/1
&nbsp;&nbsp;&nbsp;RLStoppPress&nbsp;&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/RLStopp/out/1
&nbsp;&nbsp;&nbsp;RLDisplay&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/RLDisplay/in/0
&nbsp;&nbsp;&nbsp;RLPort0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/Parallelport_5/in/0
&nbsp;&nbsp;&nbsp;RLPort1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;BOOL&nbsp;:&nbsp;/Parallelport_5/in/1
END_MAP
</pre>

<div class="p"><!----></div>
Hier sind links die Variablennamen zu finden, die später im Skript verwendet
werden sollen. Als Datentyp ist für alle <b><tt style="font-size: 1.3em;">BOOL</tt></b> festgelegt, da es sich um
digitale Ein- bzw. Ausgänge handelt, die jeweils nur einen der beiden
Zustände HIGH (=TRUE) oder LOW (=FALSE) einnehmen können. Dahinter sind die Namen der Datenblöcke und deren Ein-/Ausgänge zu finden, denen
diese Variablen zugeordnet werden. Mit dieser Deklaration ist die logische
Verknüpfung mit den Datenblöcken des Interlock-Servers vollständig:
Ändert sich einer der hier festgelegten Datenblöcke während des Ablaufes im
Interlock-Server, ändert sich automatisch auch gleich der Inhalt der
zugehörigen Variablen. In der Hauptschleife muss also lediglich die
jeweilige Variable zyklisch abgefragt werden.

<div class="p"><!----></div>
Folgende Aufrufe sind im Skript erforderlich:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
&nbsp;&nbsp;&nbsp;IS0C
&nbsp;&nbsp;&nbsp;JMPCN&nbsp;L_exit
...
L_close:
&nbsp;&nbsp;&nbsp;IS0D
L_exit:
&nbsp;&nbsp;&nbsp;EXIT
</pre>

<div class="p"><!----></div>
    Damit wird die Verbindung zum Interlock-Server hergestellt und am Programmende
auch wieder geschlossen.

<div class="p"><!----></div>

<div class="p"><!----></div>
Das Kommando <b><tt style="font-size: 1.3em;">IS0C</tt></b> (auch hier ist das dritte Zeichen wieder eine Null) stellt
die Verbindung zum Server her. Schlägt die Operation fehl, ist der
Akkumulator anschließend FALSE, was mit dem bedingten Sprung zum
Programmende behandelt wird. <b><tt style="font-size: 1.3em;">IS0C</tt></b> stellt hier immer eine Verbindung zum
Localhost her, netzwerkübergreifende Steuerungen mittels IL sind zumindest
in der aktuellen Version 1.2 noch nicht möglich.

<div class="p"><!----></div>
Das Gegenstück zum Öffnen der Verbindung findet sich weiter unten: <b><tt style="font-size: 1.3em;">IS0D</tt></b>
(auch hier wieder mit einer Zahl im Namen) trennt eine bestehende Verbindung
zum Interlock-Server.

<div class="p"><!----></div>
Der Rest der Implementierung ist eigentlich reine IL-Programmierung unter
Verwendung der oben gemappten Variablen. Der Einfachheit halber soll hier
nur die Behandlung eines einzelnen Zustandes gezeigt werden, die Codeblöcke
für die Behandlung der Buttons für „<em>Runter</em>“ und „<em>Stopp</em>“ funktionieren ähnlich:

<div class="p"><!----></div>

<pre style="background: rgb(255, 255, 229); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
L_start:
&nbsp;&nbsp;&nbsp;LD&nbsp;RLHochPress
&nbsp;&nbsp;&nbsp;JMPCN&nbsp;L_rlrunter
&nbsp;&nbsp;&nbsp;LD&nbsp;FALSE
&nbsp;&nbsp;&nbsp;ST&nbsp;RLPort1
&nbsp;&nbsp;&nbsp;LD&nbsp;TRUE
&nbsp;&nbsp;&nbsp;ST&nbsp;RLPort0
&nbsp;&nbsp;&nbsp;ST&nbsp;RLDisplay
&nbsp;&nbsp;&nbsp;LD&nbsp;FALSE
&nbsp;&nbsp;&nbsp;ST&nbsp;RLHochPress
L_rlrunter:
&nbsp;&nbsp;&nbsp;...
&nbsp;&nbsp;&nbsp;JMP&nbsp;L_start
</pre>

<div class="p"><!----></div>
Der Wert der Variablen „<em>RLHochPress</em>“ – der über den Umweg
<b><tt style="font-size: 1.3em;">MAP_IS0</tt></b> Pfeil rechts&nbsp;Interlock Server Pfeil rechts&nbsp;OpenPlayer
den Zustand des Buttons für „<em>Hoch</em>“ reflektiert
– wird in den Akku geladen. Wurde der Button nicht gedrückt (d.&nbsp;h. der Wert
ist FALSE), wird zu <b><tt style="font-size: 1.3em;">L_rlrunter</tt></b> und damit zur Abfrage des nächsten Buttons
gesprungen. Wurde er betätigt, so werden die Ausgänge der
Parallelschnittstelle über den Umweg der Variablen <b><tt style="font-size: 1.3em;">RLPort0</tt></b> und <b><tt style="font-size: 1.3em;">RLPort1</tt></b> sowie
das Displayelement über die Variable <b><tt style="font-size: 1.3em;">RLDisplay</tt></b> entsprechend gesetzt.
Anschließend wird der Zustand der Button-Variablen <b><tt style="font-size: 1.3em;">RLHochPress</tt></b> auf FALSE
gesetzt, sodass beim nächsten Durchlauf erkannt werden kann, ob der Button
erneut betätigt wurde. 
<div class="p"><!----></div>

<div class="p"><!----></div>
Diese letzte Operation ist allerdings ein wenig kritisch: In dem Moment, in
dem <b><tt style="font-size: 1.3em;">RLHochPress</tt></b> auf FALSE gesetzt wird, wird nicht nur die Skript-lokale
Variable, sondern auch der entsprechende Datenblock im Interlock-Server
verändert. In diesem Beispiel hat das keine Auswirkungen, da
das Skript nur den Button-Zustand überwacht und da sich der
Button im Player nicht rückwärts über seinen Ausgang beschreiben und damit
ändern lässt. Problematisch wäre das allerdings dann, wenn mehrere Skripte
zum Einsatz kämen, die alle den Button-Zustand und damit das gleiche
Datenblockelement überwachen. Hier könnte es passieren, dass abhängig vom
Timing einige Skripte die Betätigung des Buttons nicht mehr sehen, da ein
anderes Skript dessen Zustand zu schnell wieder auf LOW gesetzt hat.

<div class="p"><!----></div>
Ausgeführt wird das fertige Skript, nachdem der Player gestartet wurde, mit
einem Aufruf

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
$&nbsp;ilPLC&nbsp;-f&nbsp;test.il
</pre>

<div class="p"><!----></div>
 
<div class="p"><!----></div>
aus der Konsole heraus. Hier ist der Pfad zum IL-Skript mit der Option <b><tt style="font-size: 1.3em;">-f</tt></b> zu übergeben.

<div class="p"><!----></div>

<h2>Ist das alles?</h2>

<div class="p"><!----></div>
Auch wenn der Artikel sich an dieser Stelle seinem Ende nähert: Nein, das
ist noch lange nicht alles. Die beiden hier beleuchteten Möglichkeiten zur
Kommunikation mit dem Interlock-Server und damit zur Steuerung eines mit der
OpenAPC-Software aufgesetzten Systems sind für all diejenigen, die lieber
mit Hochsprachen programmieren, noch lange nicht das Ende der Fahnenstange.
So existiert auch noch eine Beispielimplementierung in Java, welche
ebenfalls die Kommunikation mit dem Interlock-Server ermöglicht und
demonstriert. Auch bietet die mitgelieferte Bibliothek <b><tt style="font-size: 1.3em;">liboapc</tt></b>
umfangreiche Schnittstellen zur Kommunikation mit dem Server und damit zur
Steuerung  eines OpenAPC-Projektes. Somit können alle Sprachen (wie z.&nbsp;B. C
und C++) verwendet werden, welche in irgendeiner Form die Möglichkeit
bieten, auf die Funktionen einer solchen Bibliothek zuzugreifen.
Sämtliche Varianten sind im englischsprachigen Handbuch des SDK ausführlich
beschrieben, auch liefert das SDK fertige Beispiele
mit&nbsp;<a href="http://www.openapc.com/download.php">[5]</a>.

<div class="p"><!----></div>
Abschließend noch ein paar Worte an diejenigen, die bei dem Wort und bei der
Beschreibung des „Interlock-Server“ auch immer an
„OPC-Server“&nbsp;<a href="http://de.wikipedia.org/wiki/OLE_for_Process_Control">[8]</a> denken
mussten: Nein, diesen Standard beherrscht der Interlock-Server nicht.
Einerseits ist vorstellbar, dass dies in einer der kommenden Versionen noch
implementiert wird, andererseits ergibt sich ein logisches Problem. Der
OPC-Standard nutzt mit (D)COM reine Microsoft-Technologien, welche unter
Linux nicht existieren. Mit einer der letzten Aktualisierungen der
OPC-Spezifikation wurde dieser Misstand zwar endlich beseitigt, sodass nach
dem neuesten Stand auch eine rein TCP/IP-basierende Implementierung möglich
ist, allerdings ist dessen Bedeutung und Verbreitung noch immer sehr gering.

<div class="p"><!----></div>
Hier bleibt also nach wie vor die Frage, welcher Standard sich für
plattformübergreifende Systeme wie die OpenAPC-Software durchsetzen wird. So wie sich die Weiterentwicklung der OpenAPC-Software
bisher zeigt, wird sie diesen Standard dann sicher auch umsetzen.

<div class="p"><!----></div>
    <font color="#595959"><font size="+1">Links</font></font><br />
        
[1] <a href="http://www.freiesmagazin.de/freiesMagazin-2011-01"><tt style="font-size: 1.3em;">http://www.freiesmagazin.de/freiesMagazin-2011-01</tt></a><br />

<div class="p"><!----></div>
[2] <a href="http://www.lua.org/"><tt style="font-size: 1.3em;">http://www.lua.org/</tt></a><br />

<div class="p"><!----></div>
[3] <a href="http://de.wikipedia.org/wiki/Speicherprogrammierbare_Steuerung"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Speicherprogrammierbare_Steuerung</tt></a><br />

<div class="p"><!----></div>
[4] <a href="http://www.lua.org/community.html"><tt style="font-size: 1.3em;">http://www.lua.org/community.html</tt></a><br />

<div class="p"><!----></div>
[5] <a href="http://www.openapc.com/download.php"><tt style="font-size: 1.3em;">http://www.openapc.com/download.php</tt></a><br />

<div class="p"><!----></div>
[6] <a href="http://de.wikipedia.org/wiki/Anweisungsliste"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Anweisungsliste</tt></a><br />

<div class="p"><!----></div>
[7] <a href="http://de.wikipedia.org/wiki/Strukturierter_Text"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/Strukturierter_Text</tt></a><br />

<div class="p"><!----></div>
[8] <a href="http://de.wikipedia.org/wiki/OLE_for_Process_Control"><tt style="font-size: 1.3em;">http://de.wikipedia.org/wiki/OLE_for_Process_Control</tt></a><br />

<div class="p"><!----></div>
                
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Hans Müller</b>
ist als Elektroniker beim Thema Automatisierung mehr
der Hardwareimplementierung zugeneigt als dem Softwarepart und hat
demzufolge auch schon das ein oder andere Gerät in der privaten
Wohnung verkabelt.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
    
<div class="p"><!----></div>
            <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Heimautomatisierung 2#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
            

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_coders_at_work">Rezension: Coders At Work</a><a name="11_03_coders_at_work">
</a></font></h1>von Jochen Schnelle         <b>J</b><b>eder Computernutzer, der in seiner Freizeit schon einmal
programmiert oder erste Programmierversuche unternommen hat, hat
sich wahrscheinlich schon selbst einmal die Frage gestellt: „Wie
würde ein Programmierprofi wohl dieses Programm schreiben?“ Bei der
Antwort auf diese Frage kann das Buch „Coders at work – Reflections
on the craft of programming“ helfen.</b>

<div class="p"><!----></div>
Wie der Titel schon andeutet, handelt das Buch von Programmierern
bei der Arbeit, sprich der Softwareentwicklung. Dabei wird aber
nicht der Alltag eines Berufsprogrammierers beschrieben. Vielmehr
hat der Autor des Buches, Peter Seibel, selbst erfahrener
Programmierer und Buchautor, 15 verschiedene Programmierer zum Thema
Programmierung und Softwareentwicklung interviewt. Nach welchem
Schema die Interviewpartner ausgewählt wurden, ist nicht weiter
erläutert, allerdings deckt die Auswahl ein breites Spektrum an
Anwendungen (z.&nbsp;B. Programmiersprachenentwicklung, Compiler und
Optimierung, Anwendungssoftware und Webanwendungen) ab,

ebenso
schreiben die Interviewpartner ihre Software in diversen Sprachen
(z.&nbsp;B. C, C++. Java, JavaScript, Haskell, Erlang und Lisp). Die
Interviewpartner sind allesamt durchaus „bekannte“ Programmierer,
auch wenn sie natürlich nicht unbedingt den Bekanntheitsgrad eines
Mark Shuttleworth, Bill Gates oder auch Larry Walls haben. Zu den
bekannteren im Buch vorkommenden Personen dürften in erster Linie
Ken Thompson (Miterfinder von C) und Donald Knuth (Autor von „The
Art of Computer Programming“, ein Grundlagenwerk der IT-Literatur,
und Erfinder des Satzsystems TeX) gehören. Nicht minder interessant
sind aber auch die Interviews mit z.&nbsp;B. Peter Norvig („Director of
Research“ bei Google), Brendan Eich (CTO Mozilla Coperation und
„Erfinder“ von JavaScript) oder Joe Armstrong („Vater“ von Erlang).

<div class="p"><!----></div>
Da einige der interviewten Personen schon sehr lange programmieren,
teilweise seit den späten 1950er bzw. früher 1960er Jahren, führt das
Buch den Leser ganz nebenbei auf einen Streifzug durch die Geschichte der
Programmierung und der frühen Computerhardware. Weiterhin sind drei der
Programmierer zum Zeitpunkt des Interviews bei Google angestellt
gewesen, sodass man ebenfalls einen kleinen Einblick in die
Arbeitsweise von Google in Sachen Programmierung und
Programmentwicklung erhält. So erfährt man auf diesem Wege z.&nbsp;B.
auch, dass Ken Thompson, einer der wahrscheinlich erfahrensten
C-Programmierer, keinen Code bei Google einchecken darf – eben weil
er in C und nicht C++ programmiert. Apropos C++: Auch wenn das Thema
„Vorlieben und Abneigungen bei Programmiersprachen“ in keinem der
Interviews explizit angesprochen wird, so kommt in mehreren
Interviews klar heraus, dass C++ nicht unbedingt als beliebte
Programmiersprache bei den Interviewpartnern gilt.

<div class="p"><!----></div>
Wie bereits erwähnt, enthält das Buch ausschließlich Interviews.
Diese sind alle individuell auf den Gesprächspartner zugeschnitten
und folgen keinen festgelegtem Schema; der Autor geht an vielen
Stellen auf die zuvor gemachten Aussagen des Interviewten ein. Dabei
gelingt es immer, dass einer kurzen Frage eine ausführliche und
informative Antwort folgt. Einige Fragen tauchen natürlich in den
meisten Interviews auf, wie z.&nbsp;B. „Wann hast du angefangen zu
programmieren?“, „Wie gehst du beim Debugging vor?“ oder „Woran
erkennst du einen guten Programmierer?“. Diese Fragen werden aber
immer geschickt in den Verlauf und den Kontext des Interviews
eingebunden, sodass die Frage an der entsprechenden Stelle immer
passend erscheint. Alle Interviews sind im lockeren „Plauderton“
geführt, sodass die entspannte Atmosphäre während der Befragung
beim Lesen quasi greifbar ist.

<div class="p"><!----></div>
Das Buch ist komplett auf Englisch, der überwiegende Teil der
Interviewpartner – ebenso wie der Autor – sind dabei Amerikaner bzw.
englischsprachig. Entsprechend sind viele Fragen und Antworten
in umgangssprachlichen Englisch gehalten. „Schulenglisch“ reicht zum Lesen
und Verständnis des Buches wohl eher nicht aus. Wer jedoch beruflich
oder in seiner Freizeit Englisch spricht, sollte auch bei der Lektüre
des Buches keine Probleme haben.

<div class="p"><!----></div>
Nur um Missverständnissen vorzubeugen: Das Buch ist kein Lehrbuch,
es ist sogar recht weit von einem Lehrbuch entfernt. So kommt im
ganzen Buch keine einzige Zeile Programmcode vor noch werden
irgendwelche Algorithmen zur Lösung spezifischer Probleme diskutiert
oder vorgestellt. Es geht wirklich alleine um die persönliche
Arbeitsweise, Erfahrung und Einschätzung der interviewten Personen.
Insofern wird man durch das Lesen des Buches mit Sicherheit kein
besserer Programmierer. Aber man kann sich durchaus inspirieren
lassen und von der Erfahrung dieser „Programmierprofis“ profitieren.
Kurz gesagt: Wer sich für Programmierung an sich interessiert und
Literatur zu diesem Thema jenseits des Fach-/Lehrbuchs sucht, dem
kann „Coders at work“ durchaus empfohlen werden.

<div class="p"><!----></div>
        
<table border="1">
<tr><td colspan="2" align="center"><font size="+0"><b>Buchinformationen</b></font></td></tr>
<tr><td width="43"><b>Titel</b> </td><td width="237">Coders at work – Reflection on the craft of programming </td></tr>
<tr><td width="43"><b>Autor</b> </td><td width="237">Peter Seibel </td></tr>
<tr><td width="43"><b>Verlag</b> </td><td width="237">Apress, 2009 </td></tr>
<tr><td width="43"><b>Umfang</b> </td><td width="237">632 Seiten </td></tr>
<tr><td width="43"><b>ISBN</b> </td><td width="237">978-1-4302-1948-4 </td></tr>
<tr><td width="43"><b>Preis</b> </td><td width="237">ca. 20,- Euro </td></tr>
<tr><td width="43">    </td></tr></table>



<div class="p"><!----></div>
            
<table border="1">
<tr><td colspan="1" align="center"><font size="+0"><b>Autoreninformation</b></font></td></tr>
<tr><td align="left"><b>Jochen Schnelle</b>
programmiert in seiner Freizeit zwar
primär in Python, interessiert sich aber trotzdem allgemein für
Programmierung und Programmiersprachen.
</td></tr>
<tr><td align="left">    </td></tr></table>



<div class="p"><!----></div>
                <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Coders At Work#comment-form"><i>Diesen Artikel kommentieren</i></a><br /><br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
            

<div class="p"><!----></div>
<h1><font color="#595959"><a name="11_03_leserbriefe">Leserbriefe</a><a name="11_03_leserbriefe">
</a></font></h1>
            <b>Für Leserbriefe steht unsere E-Mailadresse
            <img src="freiesMagazin-2011-03-bilder-Dateien/redaktionmail.png" alt="redaktion ETT freiesmagazin PUNKT de" height="17" width="168" align="top" /> zur Verfügung - wir freuen uns über Lob,
            Kritik und Anregungen zum Magazin.</b>

<div class="p"><!----></div>
        An dieser Stelle möchten wir alle Leser ausdrücklich ermuntern,
        uns auch zu schreiben, was nicht so gut gefällt. Wir bekommen
        sehr viel Lob (was uns natürlich freut), aber vor allem durch
        Kritik und neue Ideen können wir uns verbessern.
    

<div class="p"><!----></div>

<h2>Leserbriefe und Anmerkungen</h2>

<div class="p"><!----></div>

<h3>Bottle – Ein WSGI-Microframework für Python</h3>

<div class="p"><!----></div>
            <font color="#595959"><b>-&#62;</b></font>
Vielen Dank für den Artikel über Bottle. Das Framework war mir
bereits bekannt, jedoch habe ich mir nie Zeit dafür genommen, die
englische Dokumentation durchzuarbeiten. Aus diesem Grunde kam mir
ihr Artikel sehr gelegen, da er alle wichtigen Funktionen kurz
anschneidet und exemplarisch dazu jeweils ein Code-Ausschnitt
vorgestellt wird. Auch das Interview mit Marcel Hellkamp fand ich
sehr interessant.

<div class="p"><!----></div>
Es wäre schön, wenn <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> auch einmal über andere Python-Frameworks
wie das im Artikel angesprochene Flask oder Werkzeug schreiben
würde. Hierzu wäre auch ein Interview mit dem jeweiligen Entwickler
(bei Flask und Werkzeug wäre der Entwickler der ebenfalls
deutschsprachige Armin Ronacher) eine gute Abrundung eines solchen
Artikels.
        <br /><b>Michael Eder</b> 


<div class="p"><!----></div>
        <font color="#FF630A"><b>&lt;-</b></font>    <i>
Der Autor des Artikels, Jochen Schnelle, hat mit denen von Ihnen
vorgeschlagenen Programmen leider wenig bis gar nicht gearbeitet,
weshalb er dazu auch keinen Artikel schreiben kann. Vielleicht
findet sich aber unter unseren anderen Lesern jemand, der zu den
Anwendungen etwas schreiben kann.

<div class="p"><!----></div>
Und dann ergibt sich vielleicht auch ein Interview mit Armin
Ronacher, der in der deutschen Ubuntu-Community ja kein Unbekannter
ist, und so vielleicht zu einem kurzen Gespräch überredet werden kann.
        <br /><b><i>Dominik Wagenführ</i></b> 
</i>

<div class="p"><!----></div>

<h3>VirtualBox und KVM</h3>

<div class="p"><!----></div>
            <font color="#595959"><b>-&#62;</b></font>
Unter Ubuntu 10.10 Desktop amd64 existiert die Gruppe <b><tt style="font-size: 1.3em;">vboxusers</tt></b> nicht. Installiertes Paket: <b>virtualbox-ose</b> in
Version <b>3.2.8-dfsg-2ubuntu1</b>. Wenn ich

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
#&nbsp;adduser&nbsp;BENUTZER&nbsp;vboxusers
</pre>

<div class="p"><!----></div>
ausführe (natürlich mit meinem Benutzernamen), kommt die Ausgabe

<div class="p"><!----></div>

<pre style="background: rgb(216, 216, 216); border:1px solid lightgray; padding: 3px; font-size: 1.25em;">
adduser:&nbsp;Die&nbsp;Gruppe&nbsp;vboxusers&nbsp;existiert&nbsp;nicht.
</pre>

<div class="p"><!----></div>
Mit der neuen Version von VirtualBox (4.0.2 der proprietären
Variante) unter dem selben System (Ubuntu 10.10 […])
funktioniert der <b><tt style="font-size: 1.3em;">adduser</tt></b>-Befehl. Allerdings zerstört er bei jedem
Log-in meine GNOME-Einstellungen für das Erscheinungsbild …
        <br /><b>Gast</b> &nbsp;(<a href="http://www.freiesmagazin.de/20110206-Februarausgabe-erschienen#comment-1668">Kommentar</a>)


<div class="p"><!----></div>
        <font color="#FF630A"><b>&lt;-</b></font>    <i>
Wenn das <b>virtualbox-ose</b>-Paket die Gruppe nicht anlegt, wird
es wohl ein Bug im Paket sein. Die „offiziellen“ Pakete legen die
Gruppe aber korrekt an.

<div class="p"><!----></div>
Und von dem Schreiben eines Artikels bis zur Veröffentlichung in <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>
vergeht immer etwas Zeit, sodass es – wie bei VirtualBox – schon eine
neue Version gibt.

<div class="p"><!----></div>
Wenn diese nicht wie gewünscht funktioniert, empfehle ich einen
Bugreport an die Teams von Ubuntu und VirtualBox. Denn nur wenn
diese etwas davon mitbekommen, wird es auch eine Fehlerkorrektur
geben. ;-)
        <br /><b><i>Hauke Goos-Habermann</i></b> 
</i>

<div class="p"><!----></div>

<h3>Bildformat SVG verstehen</h3>

<div class="p"><!----></div>
            <font color="#595959"><b>-&#62;</b></font>
Der Artikel ist als Grundlage gut, was m.&nbsp;E. aber definitiv fehlt, ist
zumindest ein minimalistisches Beispiel, wie man eine SVG-Grafik in
einen Webseite einbindet. Ganz am Ende kommt zwar der Hinweis auf
w3schools, aber deren Seite ist nicht wirklich übersichtlich (und
auf Englisch).
        <br /><b>Jochen Schnelle</b> &nbsp;(<a href="http://www.freiesmagazin.de/20101205-Dezemberausgabe-erschienen#comment-1513">Kommentar</a>)


<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
            Die Redaktion behält sich vor, Leserbriefe gegebenenfalls zu
        kürzen. Redaktionelle Ergänzungen finden sich in eckigen Klammern.
    

<div class="p"><!----></div>
        <a href="http://www.freiesmagazin.de/comment/reply/216?edit[subject]=Leserbriefe#comment-form"><i>Die Leserbriefe kommentieren</i></a><br /><br />
    <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
                            
<h1><font color="#595959"><a name="11_03_veranstaltungen">Veranstaltungskalender</a><a name="11_03_veranstaltungen">
</a></font></h1>

<div class="p"><!----></div>
        
<table border="1">
<tr><td colspan="5" align="center"><font size="+0"><b>Messen</b></font></td></tr>
<tr><td align="left"><b>Veranstaltung</b> </td><td width="0"><b>Ort</b> </td><td align="left"><b>Datum</b> </td><td width="0"><b>Eintritt</b> </td><td align="left"><b>Link</b> </td></tr>
<tr><td align="left">
Chemnitzer Linux-Tage </td><td width="0">Chemnitz </td><td align="left">19.-20.03.2011 </td><td width="0">8 EUR </td><td align="left"><a href="http://chemnitzer.linux-tage.de/"><tt style="font-size: 1.3em;">http://chemnitzer.linux-tage.de/</tt></a> </td></tr>
<tr><td align="left">Augsburger Linux-Infotag </td><td width="0">Augsburg </td><td align="left">26.03.2011 </td><td width="0">frei </td><td align="left"><a href="http://www.luga.de/"><tt style="font-size: 1.3em;">http://www.luga.de/</tt></a> </td></tr>
<tr><td align="left">Grazer Linuxtage </td><td width="0">Graz </td><td align="left">09.04.2011 </td><td width="0">frei </td><td align="left"><a href="http://linuxwochen.at/"><tt style="font-size: 1.3em;">http://linuxwochen.at/</tt></a> </td></tr>
<tr><td align="left">UnFUCK </td><td width="0">Furtwangen </td><td align="left">15.-17.04.2011 </td><td width="0">frei </td><td align="left"><a href="http://www.unfuck.eu/"><tt style="font-size: 1.3em;">http://www.unfuck.eu/</tt></a> </td></tr>
<tr><td align="left">Linuxwochen Wien </td><td width="0">Wien </td><td align="left">05.-07.05.2011 </td><td width="0">frei </td><td align="left"><a href="http://linuxwochen.at/"><tt style="font-size: 1.3em;">http://linuxwochen.at/</tt></a> </td></tr>
<tr><td align="left">LinuxTag </td><td width="0">Berlin </td><td align="left">11.-14.05.2011 </td><td width="0">18 EUR </td><td align="left"><a href="http://www.linuxtag.org/"><tt style="font-size: 1.3em;">http://www.linuxtag.org/</tt></a> </td></tr>
<tr><td align="left">LiWoLi 2011 </td><td width="0">Linz </td><td align="left">12.-14.05.2011 </td><td width="0">frei </td><td align="left"><a href="http://linuxwochen.at/"><tt style="font-size: 1.3em;">http://linuxwochen.at/</tt></a> </td></tr>
<tr><td align="left">LUG Camp </td><td width="0">Tschierv </td><td align="left">02.-05.06.2011 </td><td width="0">- </td><td align="left"><a href="http://2011.lug-camp.ch/"><tt style="font-size: 1.3em;">http://2011.lug-camp.ch/</tt></a> </td></tr>
<tr><td align="left">        </td></tr></table>


    <font size=1">(Alle Angaben ohne Gewähr!)</font>

<div class="p"><!----></div>
    Sie kennen eine Linux-Messe, welche noch nicht auf der Liste zu
    finden ist? Dann schreiben Sie eine E-Mail mit den Informationen zu
    Datum und Ort an<img src="freiesMagazin-2011-03-bilder-Dateien/redaktionmail.png" alt="redaktion ETT freiesmagazin PUNKT de" height="17" width="168" align="top" />.


<div class="p"><!----></div>
<a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
                        
<h1><font color="#595959"><a name="11_03_vorschau">Vorschau</a><a name="11_03_vorschau">
</a></font></h1>

<div class="p"><!----></div>
<b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> erscheint immer am ersten Sonntag eines Monats. Die April-Ausgabe wird voraussichtlich am 3. April unter anderem mit folgenden Themen veröffentlicht:

<ul>
<li> Eine Einführung in die Programmiersprache Pike
<div class="p"><!----></div>
</li>

<li> Das Textverarbeitungssystem LyX
<div class="p"><!----></div>
</li>

<li> OpenDocument-Format für den Datenaustausch

<div class="p"><!----></div>
</li>
</ul>
Es kann leider vorkommen, dass wir aus internen Gründen angekündigte Artikel verschieben müssen. Wir bitten dafür um Verständnis.<br />
<a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
                                
<h1><font color="#595959"><a name="11_03_konventionen">Konventionen</a><a name="11_03_konventionen">
</a></font></h1>

<div class="p"><!----></div>
    An einigen Stellen benutzen wir Sonderzeichen mit einer bestimmten
    Bedeutung. Diese sind hier zusammengefasst:<br />
        
<table>
<tr><td width="59"><b><tt style="font-size: 1.3em;">$</tt></b>:  </td><td align="left">Shell-Prompt </td></tr>
<tr><td width="59"><b><tt style="font-size: 1.3em;">#</tt></b>:  </td><td align="left">Prompt einer Root-Shell – Ubuntu-Nutzer können
                      hier auch einfach in einer normalen Shell ein
                      <b><tt style="font-size: 1.3em;">sudo</tt></b> vor die Befehle setzen.</td></tr>
<tr><td width="59"><b><tt style="font-size: 1.3em;">~</tt></b>: </td><td align="left">Abkürzung für das eigene Benutzerverzeichnis
                      <b><tt style="font-size: 1.3em;">/home/BENUTZERNAME</tt></b> </td></tr></table>
<br />
        <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>

<div style="background: #FFFFFF;">
    
<table>
<tr><td colspan="3" align="left">                        
<h1><font color="#595959"><a name="11_03_impressum">Impressum <font size="+1">ISSN 1867-7991</font></a><a name="11_03_impressum">
</a></font></h1></td></tr>
<tr><td colspan="3" align="left"><b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> erscheint als PDF und HTML einmal monatlich.</td></tr>
<tr><td colspan="3" align="left"> </td></tr>
<tr><td align="left"></td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Kontakt</b></font></td></tr>
<tr><td align="left"></td><td align="left">E-Mail </td><td align="left"><img src="freiesMagazin-2011-03-bilder-Dateien/redaktionmail.png" alt="redaktion ETT freiesmagazin PUNKT de" height="17" width="168" align="top" /> </td></tr>
<tr><td align="left"></td><td align="left">Postanschrift </td><td align="left"><b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> </td></tr>
<tr><td align="left"></td><td align="left"></td><td align="left">c/o Dominik Wagenführ </td></tr>
<tr><td align="left"></td><td align="left"></td><td align="left">Beethovenstr. 9/1 </td></tr>
<tr><td align="left"></td><td align="left"></td><td align="left">71277 Rutesheim </td></tr>
<tr><td align="left"></td><td align="left">Webpräsenz </td><td align="left"><a href="http://www.freiesmagazin.de/">http://www.freiesmagazin.de/</a> </td></tr>
<tr><td align="left"></td><td align="left"></td><td align="left"></td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Autoren dieser Ausgabe</b></font></td></tr>
<tr><td align="left"></td><td align="left">Martin Gräßlin </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_wayland">Wayland oder warum man X ersetzen sollte</a> </td></tr>
<tr><td align="left"></td><td align="left">Marvin Gülker </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_maryo">Secret Maryo Chronicles – Pilzkönigreich war gestern</a> </td></tr>
<tr><td align="left"></td><td align="left">Mathias Menzer </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_kernel">Der Februar im Kernelrückblick</a> </td></tr>
<tr><td align="left"></td><td align="left">Hans Müller </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_heimautomatisierung_2">Heimautomatisierung für Hardwarebastler (Teil 2)</a> </td></tr>
<tr><td align="left"></td><td align="left">Daniel Nögel </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_python6">Python – Teil 6: Datenbank für die Musikverwaltung</a> </td></tr>
<tr><td align="left"></td><td align="left">Bodo Schmitz </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_firefox-erweiterungen">Firefox mit Erweiterungen absichern</a> </td></tr>
<tr><td align="left"></td><td align="left">Jochen Schnelle </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_coders_at_work">Rezension: Coders At Work</a> </td></tr>
<tr><td align="left"></td><td align="left">Frank Stähr </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_pipes">Datenströme, Dateideskriptoren und Interprozesskommunikation</a> </td></tr>
<tr><td align="left"></td><td align="left">Dominik Wagenführ </td><td align="left"><a href="freiesMagazin-2011-03-bilder.html#11_03_gimp-schwarzweiss">GIMP-Tutorial: Farben durch Graustufen hervorheben (Colorkey)</a> </td></tr></table>


<div class="p"><!----></div>
    
<table>
<tr><td align="left"></td></tr>
<tr><td colspan="3" align="left">Erscheinungsdatum: 6. März 2011</td></tr>
<tr><td align="left"></td></tr>
<tr><td align="left"></td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Redaktion</b></font></td></tr>
<tr><td align="left"></td><td align="left">Frank Brungräber </td><td align="left">Thorsten Schmidt </td></tr>
<tr><td align="left"></td><td colspan="2" align="left">Dominik Wagenführ (Verantwortlicher Redakteur) </td></tr>
<tr><td align="left"></td><td colspan="2" align="left"> </td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Satz und Layout</b></font></td></tr>
<tr><td align="left"></td><td align="left">Ralf Damaschke </td><td align="left">Yannic Haupenthal </td></tr>
<tr><td align="left"></td><td align="left">Nico Maikowski </td><td align="left">Matthias Sitte </td></tr>
<tr><td align="left"></td><td colspan="2" align="left"> </td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Korrektur</b></font></td></tr>
<tr><td align="left"></td><td align="left">Daniel Braun </td><td align="left">Stefan Fangmeier </td></tr>
<tr><td align="left"></td><td align="left">Mathias Menzer </td><td align="left">Karsten Schuldt </td></tr>
<tr><td align="left"></td><td align="left">Stephan Walter </td><td align="left"></td></tr>
<tr><td align="left"></td><td colspan="2" align="left"> </td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Veranstaltungen</b></font></td></tr>
<tr><td align="left"></td><td colspan="2" align="left">Ronny Fischer </td></tr>
<tr><td align="left"></td><td colspan="2" align="left"> </td></tr>
<tr><td colspan="3" align="left"><font size="+0"><b>Logo-Design</b></font></td></tr>
<tr><td align="left"></td><td colspan="2" align="left">Arne Weinberg (<a href="http://www.gnu.org/copyleft/fdl.html">GNU FDL</a>) </td></tr>
<tr><td align="left">    </td></tr></table>


<div class="p"><!----></div>
    Dieses Magazin wurde mit LaTeX erstellt. Mit vollem Namen
    gekennzeichnete Beiträge geben nicht notwendigerweise die Meinung
    der Redaktion wieder. Wenn Sie <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> ausdrucken möchten, dann
    denken Sie bitte an die Umwelt und drucken Sie nur im Notfall. Die
    Bäume werden es Ihnen danken. ;-) <br />

<div class="p"><!----></div>
        Soweit nicht anders angegeben, stehen alle Artikel, Beiträge und Bilder in
    <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> unter der&nbsp;<a href="http://creativecommons.org/licenses/by-sa/3.0/deed.de">Creative-Commons-Lizenz CC-BY-SA 3.0 Unported</a>. Das Copyright liegt
    beim jeweiligen Autor. <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font> unterliegt als Gesamtwerk ebenso
    der&nbsp;<a href="http://creativecommons.org/licenses/by-sa/3.0/deed.de">Creative-Commons-Lizenz CC-BY-SA 3.0 Unported</a> mit Ausnahme der
    Inhalte, die unter einer anderen Lizenz hierin veröffentlicht
    werden. Das Copyright liegt bei Dominik Wagenführ. Es wird erlaubt,
    das Werk/die Werke unter den Bestimmungen der Creative-Commons-Lizenz
    zu kopieren, zu verteilen und/oder zu modifizieren. Das <b><font color="#595959">freies</font></b><font color="#FF630A">Magazin</font>-Logo
    wurde von Arne Weinberg erstellt und unterliegt der
    <a href="http://www.gnu.org/copyleft/fdl.html">GFDL</a>.
    Die xkcd-Comics stehen separat unter der&nbsp;<a href="http://creativecommons.org/licenses/by-nc/2.5/">Creative-Commons-Lizenz CC-BY-NC 2.5 Generic</a>. Das Copyright liegt
    bei&nbsp;<a href="http://www.xkcd.com/">Randall Munroe</a>.<br />

<div class="p"><!----></div>
    <a href="freiesMagazin-2011-03-bilder.html#index">Zum Index</a><br /><hr />

<div class="p"><!----></div>
</div>
<br /><br /><hr /><small>File translated from
T<sub><font size=1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size=1">T</font></sub>H</a>,
version 3.89.<br />On  9 Mar 2011, 17:39.</small>
</div>
</body></html>
